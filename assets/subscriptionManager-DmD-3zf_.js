import{cL as Me,cv as bs}from"./index-BFJltGNr.js";var Je,J,Rs,ws,ge,dn,Ss,Is,Cs,Hr,Ar,Lr,$s,qe={},Os=[],qo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,He=Array.isArray;function ne(e,t){for(var r in t)e[r]=t[r];return e}function Dr(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Fr(e,t,r){var n,a,s,i={};for(s in t)s=="key"?n=t[s]:s=="ref"?a=t[s]:i[s]=t[s];if(arguments.length>2&&(i.children=arguments.length>3?Je.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)i[s]===void 0&&(i[s]=e.defaultProps[s]);return je(e,i,n,a,null)}function je(e,t,r,n,a){var s={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++Rs,__i:-1,__u:0};return a==null&&J.vnode!=null&&J.vnode(s),s}function Mo(){return{current:null}}function De(e){return e.children}function ke(e,t){this.props=e,this.context=t}function be(e,t){if(t==null)return e.__?be(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?be(e):null}function Ts(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Ts(e)}}function Br(e){(!e.__d&&(e.__d=!0)&&ge.push(e)&&!tt.__r++||dn!=J.debounceRendering)&&((dn=J.debounceRendering)||Ss)(tt)}function tt(){for(var e,t,r,n,a,s,i,l=1;ge.length;)ge.length>l&&ge.sort(Is),e=ge.shift(),l=ge.length,e.__d&&(r=void 0,n=void 0,a=(n=(t=e).__v).__e,s=[],i=[],t.__P&&((r=ne({},n)).__v=n.__v+1,J.vnode&&J.vnode(r),Vr(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[a]:null,s,a??be(n),!!(32&n.__u),i),r.__v=n.__v,r.__.__k[r.__i]=r,Ls(s,r,i),n.__e=n.__=null,r.__e!=a&&Ts(r)));tt.__r=0}function Ps(e,t,r,n,a,s,i,l,f,o,c){var u,d,h,_,p,m,g,R=n&&n.__k||Os,E=t.length;for(f=Jo(r,t,R,f,E),u=0;u<E;u++)(h=r.__k[u])!=null&&(d=h.__i==-1?qe:R[h.__i]||qe,h.__i=u,m=Vr(e,h,d,a,s,i,l,f,o,c),_=h.__e,h.ref&&d.ref!=h.ref&&(d.ref&&Ur(d.ref,null,h),c.push(h.ref,h.__c||_,h)),p==null&&_!=null&&(p=_),(g=!!(4&h.__u))||d.__k===h.__k?f=Ns(h,f,e,g):typeof h.type=="function"&&m!==void 0?f=m:_&&(f=_.nextSibling),h.__u&=-7);return r.__e=p,f}function Jo(e,t,r,n,a){var s,i,l,f,o,c=r.length,u=c,d=0;for(e.__k=new Array(a),s=0;s<a;s++)(i=t[s])!=null&&typeof i!="boolean"&&typeof i!="function"?(f=s+d,(i=e.__k[s]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?je(null,i,null,null,null):He(i)?je(De,{children:i},null,null,null):i.constructor==null&&i.__b>0?je(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,l=null,(o=i.__i=Ho(i,r,f,u))!=-1&&(u--,(l=r[o])&&(l.__u|=2)),l==null||l.__v==null?(o==-1&&(a>c?d--:a<c&&d++),typeof i.type!="function"&&(i.__u|=4)):o!=f&&(o==f-1?d--:o==f+1?d++:(o>f?d--:d++,i.__u|=4))):e.__k[s]=null;if(u)for(s=0;s<c;s++)(l=r[s])!=null&&(2&l.__u)==0&&(l.__e==n&&(n=be(l)),Bs(l,l));return n}function Ns(e,t,r,n){var a,s;if(typeof e.type=="function"){for(a=e.__k,s=0;a&&s<a.length;s++)a[s]&&(a[s].__=e,t=Ns(a[s],t,r,n));return t}e.__e!=t&&(n&&(t&&e.type&&!t.parentNode&&(t=be(e)),r.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function As(e,t){return t=t||[],e==null||typeof e=="boolean"||(He(e)?e.some(function(r){As(r,t)}):t.push(e)),t}function Ho(e,t,r,n){var a,s,i,l=e.key,f=e.type,o=t[r],c=o!=null&&(2&o.__u)==0;if(o===null&&e.key==null||c&&l==o.key&&f==o.type)return r;if(n>(c?1:0)){for(a=r-1,s=r+1;a>=0||s<t.length;)if((o=t[i=a>=0?a--:s++])!=null&&(2&o.__u)==0&&l==o.key&&f==o.type)return i}return-1}function hn(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||qo.test(t)?r:r+"px"}function xe(e,t,r,n,a){var s,i;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||hn(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||hn(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")s=t!=(t=t.replace(Cs,"$1")),i=t.toLowerCase(),t=i in e||t=="onFocusOut"||t=="onFocusIn"?i.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?n?r.u=n.u:(r.u=Hr,e.addEventListener(t,s?Lr:Ar,s)):e.removeEventListener(t,s?Lr:Ar,s);else{if(a=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function pn(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=Hr++;else if(t.t<r.u)return;return r(J.event?J.event(t):t)}}}function Vr(e,t,r,n,a,s,i,l,f,o){var c,u,d,h,_,p,m,g,R,E,P,w,$,y,b,L,B,N=t.type;if(t.constructor!=null)return null;128&r.__u&&(f=!!(32&r.__u),s=[l=t.__e=r.__e]),(c=J.__b)&&c(t);e:if(typeof N=="function")try{if(g=t.props,R="prototype"in N&&N.prototype.render,E=(c=N.contextType)&&n[c.__c],P=c?E?E.props.value:c.__:n,r.__c?m=(u=t.__c=r.__c).__=u.__E:(R?t.__c=u=new N(g,P):(t.__c=u=new ke(g,P),u.constructor=N,u.render=Vo),E&&E.sub(u),u.props=g,u.state||(u.state={}),u.context=P,u.__n=n,d=u.__d=!0,u.__h=[],u._sb=[]),R&&u.__s==null&&(u.__s=u.state),R&&N.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=ne({},u.__s)),ne(u.__s,N.getDerivedStateFromProps(g,u.__s))),h=u.props,_=u.state,u.__v=t,d)R&&N.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),R&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(R&&N.getDerivedStateFromProps==null&&g!==h&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(g,P),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(g,u.__s,P)===!1||t.__v==r.__v){for(t.__v!=r.__v&&(u.props=g,u.state=u.__s,u.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(j){j&&(j.__=t)}),w=0;w<u._sb.length;w++)u.__h.push(u._sb[w]);u._sb=[],u.__h.length&&i.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(g,u.__s,P),R&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(h,_,p)})}if(u.context=P,u.props=g,u.__P=e,u.__e=!1,$=J.__r,y=0,R){for(u.state=u.__s,u.__d=!1,$&&$(t),c=u.render(u.props,u.state,u.context),b=0;b<u._sb.length;b++)u.__h.push(u._sb[b]);u._sb=[]}else do u.__d=!1,$&&$(t),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++y<25);u.state=u.__s,u.getChildContext!=null&&(n=ne(ne({},n),u.getChildContext())),R&&!d&&u.getSnapshotBeforeUpdate!=null&&(p=u.getSnapshotBeforeUpdate(h,_)),L=c,c!=null&&c.type===De&&c.key==null&&(L=Fs(c.props.children)),l=Ps(e,He(L)?L:[L],t,r,n,a,s,i,l,f,o),u.base=t.__e,t.__u&=-161,u.__h.length&&i.push(u),m&&(u.__E=u.__=null)}catch(j){if(t.__v=null,f||s!=null)if(j.then){for(t.__u|=f?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,t.__e=l}else{for(B=s.length;B--;)Dr(s[B]);jr(t)}else t.__e=r.__e,t.__k=r.__k,j.then||jr(t);J.__e(j,t,r)}else s==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):l=t.__e=Do(r.__e,t,r,n,a,s,i,f,o);return(c=J.diffed)&&c(t),128&t.__u?void 0:l}function jr(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(jr)}function Ls(e,t,r){for(var n=0;n<r.length;n++)Ur(r[n],r[++n],r[++n]);J.__c&&J.__c(t,e),e.some(function(a){try{e=a.__h,a.__h=[],e.some(function(s){s.call(a)})}catch(s){J.__e(s,a.__v)}})}function Fs(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:He(e)?e.map(Fs):ne({},e)}function Do(e,t,r,n,a,s,i,l,f){var o,c,u,d,h,_,p,m=r.props,g=t.props,R=t.type;if(R=="svg"?a="http://www.w3.org/2000/svg":R=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),s!=null){for(o=0;o<s.length;o++)if((h=s[o])&&"setAttribute"in h==!!R&&(R?h.localName==R:h.nodeType==3)){e=h,s[o]=null;break}}if(e==null){if(R==null)return document.createTextNode(g);e=document.createElementNS(a,R,g.is&&g),l&&(J.__m&&J.__m(t,s),l=!1),s=null}if(R==null)m===g||l&&e.data==g||(e.data=g);else{if(s=s&&Je.call(e.childNodes),m=r.props||qe,!l&&s!=null)for(m={},o=0;o<e.attributes.length;o++)m[(h=e.attributes[o]).name]=h.value;for(o in m)if(h=m[o],o!="children"){if(o=="dangerouslySetInnerHTML")u=h;else if(!(o in g)){if(o=="value"&&"defaultValue"in g||o=="checked"&&"defaultChecked"in g)continue;xe(e,o,null,h,a)}}for(o in g)h=g[o],o=="children"?d=h:o=="dangerouslySetInnerHTML"?c=h:o=="value"?_=h:o=="checked"?p=h:l&&typeof h!="function"||m[o]===h||xe(e,o,h,m[o],a);if(c)l||u&&(c.__html==u.__html||c.__html==e.innerHTML)||(e.innerHTML=c.__html),t.__k=[];else if(u&&(e.innerHTML=""),Ps(t.type=="template"?e.content:e,He(d)?d:[d],t,r,n,R=="foreignObject"?"http://www.w3.org/1999/xhtml":a,s,i,s?s[0]:r.__k&&be(r,0),l,f),s!=null)for(o=s.length;o--;)Dr(s[o]);l||(o="value",R=="progress"&&_==null?e.removeAttribute("value"):_!=null&&(_!==e[o]||R=="progress"&&!_||R=="option"&&_!=m[o])&&xe(e,o,_,m[o],a),o="checked",p!=null&&p!=e[o]&&xe(e,o,p,m[o],a))}return e}function Ur(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(a){J.__e(a,r)}}function Bs(e,t,r){var n,a;if(J.unmount&&J.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||Ur(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){J.__e(s,t)}n.base=n.__P=null}if(n=e.__k)for(a=0;a<n.length;a++)n[a]&&Bs(n[a],t,r||typeof e.type!="function");r||Dr(e.__e),e.__c=e.__=e.__e=void 0}function Vo(e,t,r){return this.constructor(e,r)}function js(e,t,r){var n,a,s,i;t==document&&(t=document.documentElement),J.__&&J.__(e,t),a=(n=typeof r=="function")?null:r&&r.__k||t.__k,s=[],i=[],Vr(t,e=(!n&&r||t).__k=Fr(De,null,[e]),a||qe,qe,t.namespaceURI,!n&&r?[r]:a?null:t.firstChild?Je.call(t.childNodes):null,s,!n&&r?r:a?a.__e:t.firstChild,n,i),Ls(s,e,i)}function ks(e,t){js(e,t,ks)}function Uo(e,t,r){var n,a,s,i,l=ne({},e.props);for(s in e.type&&e.type.defaultProps&&(i=e.type.defaultProps),t)s=="key"?n=t[s]:s=="ref"?a=t[s]:l[s]=t[s]===void 0&&i!=null?i[s]:t[s];return arguments.length>2&&(l.children=arguments.length>3?Je.call(arguments,2):r),je(e.type,l,n||e.key,a||e.ref,null)}function Go(e){function t(r){var n,a;return this.getChildContext||(n=new Set,(a={})[t.__c]=this,this.getChildContext=function(){return a},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(s){this.props.value!=s.value&&n.forEach(function(i){i.__e=!0,Br(i)})},this.sub=function(s){n.add(s);var i=s.componentWillUnmount;s.componentWillUnmount=function(){n&&n.delete(s),i&&i.call(s)}}),r.children}return t.__c="__cC"+$s++,t.__=e,t.Provider=t.__l=(t.Consumer=function(r,n){return r.children(n)}).contextType=t,t}Je=Os.slice,J={__e:function(e,t,r,n){for(var a,s,i;t=t.__;)if((a=t.__c)&&!a.__)try{if((s=a.constructor)&&s.getDerivedStateFromError!=null&&(a.setState(s.getDerivedStateFromError(e)),i=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(e,n||{}),i=a.__d),i)return a.__E=a}catch(l){e=l}throw e}},Rs=0,ws=function(e){return e!=null&&e.constructor==null},ke.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ne({},this.state),typeof e=="function"&&(e=e(ne({},r),this.props)),e&&ne(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),Br(this))},ke.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Br(this))},ke.prototype.render=De,ge=[],Ss=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Is=function(e,t){return e.__v.__b-t.__v.__b},tt.__r=0,Cs=/(PointerCapture)$|Capture$/i,Hr=0,Ar=pn(!1),Lr=pn(!0),$s=0;const zo=Object.freeze(Object.defineProperty({__proto__:null,Component:ke,Fragment:De,cloneElement:Uo,createContext:Go,createElement:Fr,createRef:Mo,h:Fr,hydrate:ks,get isValidElement(){return ws},get options(){return J},render:js,toChildArray:As},Symbol.toStringTag,{value:"Module"})),ou=Me(zo);function qs(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=qs(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function _n(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=qs(e))&&(n&&(n+=" "),n+=t);return n}const xo=Object.freeze(Object.defineProperty({__proto__:null,clsx:_n,default:_n},Symbol.toStringTag,{value:"Module"})),au=Me(xo);var se,M,ft,mn,Re=0,Ms=[],D=J,gn=D.__b,yn=D.__r,vn=D.diffed,En=D.__c,bn=D.unmount,Rn=D.__;function ye(e,t){D.__h&&D.__h(M,e,Re||t),Re=0;var r=M.__H||(M.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function Js(e){return Re=1,Hs(Vs,e)}function Hs(e,t,r){var n=ye(se++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):Vs(void 0,t),function(l){var f=n.__N?n.__N[0]:n.__[0],o=n.t(f,l);f!==o&&(n.__N=[o,n.__[1]],n.__c.setState({}))}],n.__c=M,!M.__f)){var a=function(l,f,o){if(!n.__c.__H)return!0;var c=n.__c.__H.__.filter(function(d){return!!d.__c});if(c.every(function(d){return!d.__N}))return!s||s.call(this,l,f,o);var u=n.__c.props!==l;return c.forEach(function(d){if(d.__N){var h=d.__[0];d.__=d.__N,d.__N=void 0,h!==d.__[0]&&(u=!0)}}),s&&s.call(this,l,f,o)||u};M.__f=!0;var s=M.shouldComponentUpdate,i=M.componentWillUpdate;M.componentWillUpdate=function(l,f,o){if(this.__e){var c=s;s=void 0,a(l,f,o),s=c}i&&i.call(this,l,f,o)},M.shouldComponentUpdate=a}return n.__N||n.__}function Xo(e,t){var r=ye(se++,3);!D.__s&&zr(r.__H,t)&&(r.__=e,r.u=t,M.__H.__h.push(r))}function Ds(e,t){var r=ye(se++,4);!D.__s&&zr(r.__H,t)&&(r.__=e,r.u=t,M.__h.push(r))}function Wo(e){return Re=5,Gr(function(){return{current:e}},[])}function Yo(e,t,r){Re=6,Ds(function(){if(typeof e=="function"){var n=e(t());return function(){e(null),n&&typeof n=="function"&&n()}}if(e)return e.current=t(),function(){return e.current=null}},r==null?r:r.concat(e))}function Gr(e,t){var r=ye(se++,7);return zr(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function Qo(e,t){return Re=8,Gr(function(){return e},t)}function Ko(e){var t=M.context[e.__c],r=ye(se++,9);return r.c=e,t?(r.__==null&&(r.__=!0,t.sub(M)),t.props.value):e.__}function Zo(e,t){D.useDebugValue&&D.useDebugValue(t?t(e):e)}function ea(e){var t=ye(se++,10),r=Js();return t.__=e,M.componentDidCatch||(M.componentDidCatch=function(n,a){t.__&&t.__(n,a),r[1](n)}),[r[0],function(){r[1](void 0)}]}function ta(){var e=ye(se++,11);if(!e.__){for(var t=M.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var r=t.__m||(t.__m=[0,0]);e.__="P"+r[0]+"-"+r[1]++}return e.__}function ra(){for(var e;e=Ms.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(et),e.__H.__h.forEach(kr),e.__H.__h=[]}catch(t){e.__H.__h=[],D.__e(t,e.__v)}}D.__b=function(e){M=null,gn&&gn(e)},D.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Rn&&Rn(e,t)},D.__r=function(e){yn&&yn(e),se=0;var t=(M=e.__c).__H;t&&(ft===M?(t.__h=[],M.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(et),t.__h.forEach(kr),t.__h=[],se=0)),ft=M},D.diffed=function(e){vn&&vn(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Ms.push(t)!==1&&mn===D.requestAnimationFrame||((mn=D.requestAnimationFrame)||na)(ra)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),ft=M=null},D.__c=function(e,t){t.some(function(r){try{r.__h.forEach(et),r.__h=r.__h.filter(function(n){return!n.__||kr(n)})}catch(n){t.some(function(a){a.__h&&(a.__h=[])}),t=[],D.__e(n,r.__v)}}),En&&En(e,t)},D.unmount=function(e){bn&&bn(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{et(n)}catch(a){t=a}}),r.__H=void 0,t&&D.__e(t,r.__v))};var wn=typeof requestAnimationFrame=="function";function na(e){var t,r=function(){clearTimeout(n),wn&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,35);wn&&(t=requestAnimationFrame(r))}function et(e){var t=M,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),M=t}function kr(e){var t=M;e.__c=e.__(),M=t}function zr(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function Vs(e,t){return typeof t=="function"?t(e):t}const ia=Object.freeze(Object.defineProperty({__proto__:null,useCallback:Qo,useContext:Ko,useDebugValue:Zo,useEffect:Xo,useErrorBoundary:ea,useId:ta,useImperativeHandle:Yo,useLayoutEffect:Ds,useMemo:Gr,useReducer:Hs,useRef:Wo,useState:Js},Symbol.toStringTag,{value:"Module"})),cu=Me(ia);var ce={},ue={},dt,Sn;function xr(){if(Sn)return dt;Sn=1,dt=e;function e(t){t=t||{};var r=t.max||Number.MAX_SAFE_INTEGER,n=typeof t.start<"u"?t.start:Math.floor(Math.random()*r);return function(){return n=n%r,n++}}return dt}var ht,In;function sa(){if(In)return ht;In=1;const e=(t,r)=>function(){const n=r.promiseModule,a=new Array(arguments.length);for(let s=0;s<arguments.length;s++)a[s]=arguments[s];return new n((s,i)=>{r.errorFirst?a.push(function(l,f){if(r.multiArgs){const o=new Array(arguments.length-1);for(let c=1;c<arguments.length;c++)o[c-1]=arguments[c];l?(o.unshift(l),i(o)):s(o)}else l?i(l):s(f)}):a.push(function(l){if(r.multiArgs){const f=new Array(arguments.length-1);for(let o=0;o<arguments.length;o++)f[o]=arguments[o];s(f)}else s(l)}),t.apply(this,a)})};return ht=(t,r)=>{r=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},r);const n=s=>{const i=l=>typeof l=="string"?s===l:l.test(s);return r.include?r.include.some(i):!r.exclude.some(i)};let a;typeof t=="function"?a=function(){return r.excludeMain?t.apply(this,arguments):e(t,r).apply(this,arguments)}:a=Object.create(Object.getPrototypeOf(t));for(const s in t){const i=t[s];a[s]=typeof i=="function"&&n(s)?e(i,r):i}return a},ht}var le={},Xe={},Cn;function Xr(){if(Cn)return Xe;Cn=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=bs();function t(a,s,i){try{Reflect.apply(a,s,i)}catch(l){setTimeout(()=>{throw l})}}function r(a){const s=a.length,i=new Array(s);for(let l=0;l<s;l+=1)i[l]=a[l];return i}class n extends e.EventEmitter{emit(s,...i){let l=s==="error";const f=this._events;if(f!==void 0)l=l&&f.error===void 0;else if(!l)return!1;if(l){let c;if(i.length>0&&([c]=i),c instanceof Error)throw c;const u=new Error(`Unhandled error.${c?` (${c.message})`:""}`);throw u.context=c,u}const o=f[s];if(o===void 0)return!1;if(typeof o=="function")t(o,this,i);else{const c=o.length,u=r(o);for(let d=0;d<c;d+=1)t(u[d],this,i)}return!0}}return Xe.default=n,Xe}var $n;function Us(){if($n)return le;$n=1;var e=le&&le.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(le,"__esModule",{value:!0}),le.BaseBlockTracker=void 0;const t=e(Xr()),r=1e3,n=(l,f)=>l+f,a=["sync","latest"];let s=class extends t.default{constructor(f){super(),this._blockResetDuration=f.blockResetDuration||20*r,this._usePastBlocks=f.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(o=>this.once("latest",o))}removeAllListeners(f){return f?super.removeAllListeners(f):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(f){a.includes(f)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return a.map(f=>this.listenerCount(f)).reduce(n)}_shouldUseNewBlock(f){const o=this._currentBlock;if(!o)return!0;const c=i(f),u=i(o);return this._usePastBlocks&&c<u||c>u}_newPotentialLatest(f){this._shouldUseNewBlock(f)&&this._setCurrentBlock(f)}_setCurrentBlock(f){const o=this._currentBlock;this._currentBlock=f,this.emit("latest",f),this.emit("sync",{oldBlock:o,newBlock:f})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}};le.BaseBlockTracker=s;function i(l){return Number.parseInt(l,16)}return le}var pt={},fe={},Q={};class Gs extends TypeError{constructor(t,r){let n;const{message:a,explanation:s,...i}=t,{path:l}=t,f=l.length===0?a:`At path: ${l.join(".")} -- ${a}`;super(s??f),s!=null&&(this.cause=f),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function oa(e){return W(e)&&typeof e[Symbol.iterator]=="function"}function W(e){return typeof e=="object"&&e!=null}function On(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function G(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function aa(e){const{done:t,value:r}=e.next();return t?void 0:r}function ca(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:a,branch:s}=t,{type:i}=r,{refinement:l,message:f=`Expected a value of type \`${i}\`${l?` with refinement \`${l}\``:""}, but received: \`${G(n)}\``}=e;return{value:n,type:i,refinement:l,key:a[a.length-1],path:a,branch:s,...e,message:f}}function*qr(e,t,r,n){oa(e)||(e=[e]);for(const a of e){const s=ca(a,t,r,n);s&&(yield s)}}function*Wr(e,t,r={}){const{path:n=[],branch:a=[e],coerce:s=!1,mask:i=!1}=r,l={path:n,branch:a};if(s&&(e=t.coercer(e,l),i&&t.type!=="type"&&W(t.schema)&&W(e)&&!Array.isArray(e)))for(const o in e)t.schema[o]===void 0&&delete e[o];let f="valid";for(const o of t.validator(e,l))o.explanation=r.message,f="not_valid",yield[o,void 0];for(let[o,c,u]of t.entries(e,l)){const d=Wr(c,u,{path:o===void 0?n:[...n,o],branch:o===void 0?a:[...a,c],coerce:s,mask:i,message:r.message});for(const h of d)h[0]?(f=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):s&&(c=h[1],o===void 0?e=c:e instanceof Map?e.set(o,c):e instanceof Set?e.add(c):W(e)&&(c!==void 0||o in e)&&(e[o]=c))}if(f!=="not_valid")for(const o of t.refiner(e,l))o.explanation=r.message,f="not_refined",yield[o,void 0];f==="valid"&&(yield[void 0,e])}class V{constructor(t){const{type:r,schema:n,validator:a,refiner:s,coercer:i=f=>f,entries:l=function*(){}}=t;this.type=r,this.schema=n,this.entries=l,this.coercer=i,a?this.validator=(f,o)=>{const c=a(f,o);return qr(c,o,this,f)}:this.validator=()=>[],s?this.refiner=(f,o)=>{const c=s(f,o);return qr(c,o,this,f)}:this.refiner=()=>[]}assert(t,r){return zs(t,this,r)}create(t,r){return xs(t,this,r)}is(t){return Yr(t,this)}mask(t,r){return Xs(t,this,r)}validate(t,r={}){return Se(t,this,r)}}function zs(e,t,r){const n=Se(e,t,{message:r});if(n[0])throw n[0]}function xs(e,t,r){const n=Se(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Xs(e,t,r){const n=Se(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Yr(e,t){return!Se(e,t)[0]}function Se(e,t,r={}){const n=Wr(e,t,r),a=aa(n);return a[0]?[new Gs(a[0],function*(){for(const i of n)i[0]&&(yield i[0])}),void 0]:[void 0,a[1]]}function ua(...e){const t=e[0].type==="type",r=e.map(a=>a.schema),n=Object.assign({},...r);return t?Ue(n):Ve(n)}function X(e,t){return new V({type:e,schema:null,validator:t})}function la(e,t){return new V({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function fa(e){return new V({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function da(e){let t;return new V({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function ha(e,t){const{schema:r}=e,n={...r};for(const a of t)delete n[a];switch(e.type){case"type":return Ue(n);default:return Ve(n)}}function pa(e){const t=e instanceof V,r=t?{...e.schema}:{...e};for(const n in r)r[n]=Ws(r[n]);return t&&e.type==="type"?Ue(r):Ve(r)}function _a(e,t){const{schema:r}=e,n={};for(const a of t)n[a]=r[a];switch(e.type){case"type":return Ue(n);default:return Ve(n)}}function ma(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),X(e,t)}function ga(){return X("any",()=>!0)}function ya(e){return new V({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${G(t)}`}})}function va(){return X("bigint",e=>typeof e=="bigint")}function Ea(){return X("boolean",e=>typeof e=="boolean")}function ba(){return X("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${G(e)}`)}function Ra(e){const t={},r=e.map(n=>G(n)).join();for(const n of e)t[n]=n;return new V({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${G(n)}`}})}function wa(){return X("func",e=>typeof e=="function"||`Expected a function, but received: ${G(e)}`)}function Sa(e){return X("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${G(t)}`)}function Ia(){return X("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${G(e)}`)}function Ca(e){return new V({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function $a(e){const t=G(e),r=typeof e;return new V({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${G(n)}`}})}function Oa(e,t){return new V({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,a]of r.entries())yield[n,n,e],yield[n,a,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${G(r)}`}})}function Qr(){return X("never",()=>!1)}function Ta(e){return new V({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function Pa(){return X("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${G(e)}`)}function Ve(e){const t=e?Object.keys(e):[],r=Qr();return new V({type:"object",schema:e||null,*entries(n){if(e&&W(n)){const a=new Set(Object.keys(n));for(const s of t)a.delete(s),yield[s,n[s],e[s]];for(const s of a)yield[s,n[s],r]}},validator(n){return W(n)||`Expected an object, but received: ${G(n)}`},coercer(n){return W(n)?{...n}:n}})}function Ws(e){return new V({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function Na(e,t){return new V({type:"record",schema:null,*entries(r){if(W(r))for(const n in r){const a=r[n];yield[n,n,e],yield[n,a,t]}},validator(r){return W(r)||`Expected an object, but received: ${G(r)}`}})}function Aa(){return X("regexp",e=>e instanceof RegExp)}function La(e){return new V({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${G(t)}`}})}function Ys(){return X("string",e=>typeof e=="string"||`Expected a string, but received: ${G(e)}`)}function Fa(e){const t=Qr();return new V({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let a=0;a<n;a++)yield[a,r[a],e[a]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${G(r)}`}})}function Ue(e){const t=Object.keys(e);return new V({type:"type",schema:e,*entries(r){if(W(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return W(r)||`Expected an object, but received: ${G(r)}`},coercer(r){return W(r)?{...r}:r}})}function Ba(e){const t=e.map(r=>r.type).join(" | ");return new V({type:"union",schema:null,coercer(r){for(const n of e){const[a,s]=n.validate(r,{coerce:!0});if(!a)return s}return r},validator(r,n){const a=[];for(const s of e){const[...i]=Wr(r,s,n),[l]=i;if(l[0])for(const[f]of i)f&&a.push(f);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${G(r)}`,...a]}})}function Qs(){return X("unknown",()=>!0)}function Kr(e,t,r){return new V({...e,coercer:(n,a)=>Yr(n,t)?e.coercer(r(n,a),a):e.coercer(n,a)})}function ja(e,t,r={}){return Kr(e,Qs(),n=>{const a=typeof t=="function"?t():t;if(n===void 0)return a;if(!r.strict&&On(n)&&On(a)){const s={...n};let i=!1;for(const l in a)s[l]===void 0&&(s[l]=a[l],i=!0);if(i)return s}return n})}function ka(e){return Kr(e,Ys(),t=>t.trim())}function qa(e){return ve(e,"empty",t=>{const r=Ks(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function Ks(e){return e instanceof Map||e instanceof Set?e.size:e.length}function Ma(e,t,r={}){const{exclusive:n}=r;return ve(e,"max",a=>n?a<t:a<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${a}\``)}function Ja(e,t,r={}){const{exclusive:n}=r;return ve(e,"min",a=>n?a>t:a>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${a}\``)}function Ha(e){return ve(e,"nonempty",t=>Ks(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function Da(e,t){return ve(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function Va(e,t,r=t){const n=`Expected a ${e.type}`,a=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return ve(e,"size",s=>{if(typeof s=="number"||s instanceof Date)return t<=s&&s<=r||`${n} ${a} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:i}=s;return t<=i&&i<=r||`${n} with a size ${a} but received one with a size of \`${i}\``}else{const{length:i}=s;return t<=i&&i<=r||`${n} with a length ${a} but received one with a length of \`${i}\``}})}function ve(e,t,r){return new V({...e,*refiner(n,a){yield*e.refiner(n,a);const s=r(n,a),i=qr(s,a,e,n);for(const l of i)yield{...l,refinement:t}}})}const Ua=Object.freeze(Object.defineProperty({__proto__:null,Struct:V,StructError:Gs,any:ga,array:ya,assert:zs,assign:ua,bigint:va,boolean:Ea,coerce:Kr,create:xs,date:ba,defaulted:ja,define:X,deprecated:la,dynamic:fa,empty:qa,enums:Ra,func:wa,instance:Sa,integer:Ia,intersection:Ca,is:Yr,lazy:da,literal:$a,map:Oa,mask:Xs,max:Ma,min:Ja,never:Qr,nonempty:Ha,nullable:Ta,number:Pa,object:Ve,omit:ha,optional:Ws,partial:pa,pattern:Da,pick:_a,record:Na,refine:ve,regexp:Aa,set:La,size:Va,string:Ys,struct:ma,trimmed:ka,tuple:Fa,type:Ue,union:Ba,unknown:Qs,validate:Se},Symbol.toStringTag,{value:"Module"})),Ee=Me(Ua);var Tn;function ae(){if(Tn)return Q;Tn=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.assertExhaustive=Q.assertStruct=Q.assert=Q.AssertionError=void 0;const e=Ee;function t(o){return typeof o=="object"&&o!==null&&"message"in o}function r(o){var c,u;return typeof((u=(c=o?.prototype)===null||c===void 0?void 0:c.constructor)===null||u===void 0?void 0:u.name)=="string"}function n(o){const c=t(o)?o.message:String(o);return c.endsWith(".")?c.slice(0,-1):c}function a(o,c){return r(o)?new o({message:c}):o({message:c})}class s extends Error{constructor(c){super(c.message),this.code="ERR_ASSERTION"}}Q.AssertionError=s;function i(o,c="Assertion failed.",u=s){if(!o)throw c instanceof Error?c:a(u,c)}Q.assert=i;function l(o,c,u="Assertion failed",d=s){try{(0,e.assert)(o,c)}catch(h){throw a(d,`${u}: ${n(h)}.`)}}Q.assertStruct=l;function f(o){throw new Error("Invalid branch reached. Should be detected during compilation.")}return Q.assertExhaustive=f,Q}var $e={},Pn;function Zs(){if(Pn)return $e;Pn=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.base64=void 0;const e=Ee,t=ae(),r=(n,a={})=>{var s,i;const l=(s=a.paddingRequired)!==null&&s!==void 0?s:!1,f=(i=a.characterSet)!==null&&i!==void 0?i:"base64";let o;f==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,t.assert)(f==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let c;return l?c=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):c=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,e.pattern)(n,c)};return $e.base64=r,$e}var k={},_t={},Nn;function it(){return Nn||(Nn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.remove0x=e.add0x=e.assertIsStrictHexString=e.assertIsHexString=e.isStrictHexString=e.isHexString=e.StrictHexStruct=e.HexStruct=void 0;const t=Ee,r=ae();e.HexStruct=(0,t.pattern)((0,t.string)(),/^(?:0x)?[0-9a-f]+$/iu),e.StrictHexStruct=(0,t.pattern)((0,t.string)(),/^0x[0-9a-f]+$/iu);function n(o){return(0,t.is)(o,e.HexStruct)}e.isHexString=n;function a(o){return(0,t.is)(o,e.StrictHexStruct)}e.isStrictHexString=a;function s(o){(0,r.assert)(n(o),"Value must be a hexadecimal string.")}e.assertIsHexString=s;function i(o){(0,r.assert)(a(o),'Value must be a hexadecimal string, starting with "0x".')}e.assertIsStrictHexString=i;function l(o){return o.startsWith("0x")?o:o.startsWith("0X")?`0x${o.substring(2)}`:`0x${o}`}e.add0x=l;function f(o){return o.startsWith("0x")||o.startsWith("0X")?o.substring(2):o}e.remove0x=f})(_t)),_t}var An;function eo(){if(An)return k;An=1,Object.defineProperty(k,"__esModule",{value:!0}),k.createDataView=k.concatBytes=k.valueToBytes=k.stringToBytes=k.numberToBytes=k.signedBigIntToBytes=k.bigIntToBytes=k.hexToBytes=k.bytesToString=k.bytesToNumber=k.bytesToSignedBigInt=k.bytesToBigInt=k.bytesToHex=k.assertIsBytes=k.isBytes=void 0;const e=ae(),t=it(),r=48,n=58,a=87;function s(){const y=[];return()=>{if(y.length===0)for(let b=0;b<256;b++)y.push(b.toString(16).padStart(2,"0"));return y}}const i=s();function l(y){return y instanceof Uint8Array}k.isBytes=l;function f(y){(0,e.assert)(l(y),"Value must be a Uint8Array.")}k.assertIsBytes=f;function o(y){if(f(y),y.length===0)return"0x";const b=i(),L=new Array(y.length);for(let B=0;B<y.length;B++)L[B]=b[y[B]];return(0,t.add0x)(L.join(""))}k.bytesToHex=o;function c(y){f(y);const b=o(y);return BigInt(b)}k.bytesToBigInt=c;function u(y){f(y);let b=BigInt(0);for(const L of y)b=(b<<BigInt(8))+BigInt(L);return BigInt.asIntN(y.length*8,b)}k.bytesToSignedBigInt=u;function d(y){f(y);const b=c(y);return(0,e.assert)(b<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(b)}k.bytesToNumber=d;function h(y){return f(y),new TextDecoder().decode(y)}k.bytesToString=h;function _(y){var b;if(((b=y?.toLowerCase)===null||b===void 0?void 0:b.call(y))==="0x")return new Uint8Array;(0,t.assertIsHexString)(y);const L=(0,t.remove0x)(y).toLowerCase(),B=L.length%2===0?L:`0${L}`,N=new Uint8Array(B.length/2);for(let j=0;j<N.length;j++){const Y=B.charCodeAt(j*2),S=B.charCodeAt(j*2+1),v=Y-(Y<n?r:a),I=S-(S<n?r:a);N[j]=v*16+I}return N}k.hexToBytes=_;function p(y){(0,e.assert)(typeof y=="bigint","Value must be a bigint."),(0,e.assert)(y>=BigInt(0),"Value must be a non-negative bigint.");const b=y.toString(16);return _(b)}k.bigIntToBytes=p;function m(y,b){(0,e.assert)(b>0);const L=y>>BigInt(31);return!((~y&L)+(y&~L)>>BigInt(b*8+-1))}function g(y,b){(0,e.assert)(typeof y=="bigint","Value must be a bigint."),(0,e.assert)(typeof b=="number","Byte length must be a number."),(0,e.assert)(b>0,"Byte length must be greater than 0."),(0,e.assert)(m(y,b),"Byte length is too small to represent the given value.");let L=y;const B=new Uint8Array(b);for(let N=0;N<B.length;N++)B[N]=Number(BigInt.asUintN(8,L)),L>>=BigInt(8);return B.reverse()}k.signedBigIntToBytes=g;function R(y){(0,e.assert)(typeof y=="number","Value must be a number."),(0,e.assert)(y>=0,"Value must be a non-negative number."),(0,e.assert)(Number.isSafeInteger(y),"Value is not a safe integer. Use `bigIntToBytes` instead.");const b=y.toString(16);return _(b)}k.numberToBytes=R;function E(y){return(0,e.assert)(typeof y=="string","Value must be a string."),new TextEncoder().encode(y)}k.stringToBytes=E;function P(y){if(typeof y=="bigint")return p(y);if(typeof y=="number")return R(y);if(typeof y=="string")return y.startsWith("0x")?_(y):E(y);if(l(y))return y;throw new TypeError(`Unsupported value type: "${typeof y}".`)}k.valueToBytes=P;function w(y){const b=new Array(y.length);let L=0;for(let N=0;N<y.length;N++){const j=P(y[N]);b[N]=j,L+=j.length}const B=new Uint8Array(L);for(let N=0,j=0;N<b.length;N++)B.set(b[N],j),j+=b[N].length;return B}k.concatBytes=w;function $(y){if(typeof Buffer<"u"&&y instanceof Buffer){const b=y.buffer.slice(y.byteOffset,y.byteOffset+y.byteLength);return new DataView(b)}return new DataView(y.buffer,y.byteOffset,y.byteLength)}return k.createDataView=$,k}var Oe={},Ln;function Ga(){if(Ln)return Oe;Ln=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.ChecksumStruct=void 0;const e=Ee,t=Zs();return Oe.ChecksumStruct=(0,e.size)((0,t.base64)((0,e.string)(),{paddingRequired:!0}),44,44),Oe}var K={},Fn;function za(){if(Fn)return K;Fn=1,Object.defineProperty(K,"__esModule",{value:!0}),K.createHex=K.createBytes=K.createBigInt=K.createNumber=void 0;const e=Ee,t=ae(),r=eo(),n=it(),a=(0,e.union)([(0,e.number)(),(0,e.bigint)(),(0,e.string)(),n.StrictHexStruct]),s=(0,e.coerce)((0,e.number)(),a,Number),i=(0,e.coerce)((0,e.bigint)(),a,BigInt);(0,e.union)([n.StrictHexStruct,(0,e.instance)(Uint8Array)]);const l=(0,e.coerce)((0,e.instance)(Uint8Array),(0,e.union)([n.StrictHexStruct]),r.hexToBytes),f=(0,e.coerce)(n.StrictHexStruct,(0,e.instance)(Uint8Array),r.bytesToHex);function o(h){try{const _=(0,e.create)(h,s);return(0,t.assert)(Number.isFinite(_),`Expected a number-like value, got "${h}".`),_}catch(_){throw _ instanceof e.StructError?new Error(`Expected a number-like value, got "${h}".`):_}}K.createNumber=o;function c(h){try{return(0,e.create)(h,i)}catch(_){throw _ instanceof e.StructError?new Error(`Expected a number-like value, got "${String(_.value)}".`):_}}K.createBigInt=c;function u(h){if(typeof h=="string"&&h.toLowerCase()==="0x")return new Uint8Array;try{return(0,e.create)(h,l)}catch(_){throw _ instanceof e.StructError?new Error(`Expected a bytes-like value, got "${String(_.value)}".`):_}}K.createBytes=u;function d(h){if(h instanceof Uint8Array&&h.length===0||typeof h=="string"&&h.toLowerCase()==="0x")return"0x";try{return(0,e.create)(h,f)}catch(_){throw _ instanceof e.StructError?new Error(`Expected a bytes-like value, got "${String(_.value)}".`):_}}return K.createHex=d,K}var Z={},Bn;function xa(){if(Bn)return Z;Bn=1;var e=Z&&Z.__classPrivateFieldSet||function(i,l,f,o,c){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?i!==l||!c:!l.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?c.call(i,f):c?c.value=f:l.set(i,f),f},t=Z&&Z.__classPrivateFieldGet||function(i,l,f,o){if(f==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?i!==l||!o:!l.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return f==="m"?o:f==="a"?o.call(i):o?o.value:l.get(i)},r,n;Object.defineProperty(Z,"__esModule",{value:!0}),Z.FrozenSet=Z.FrozenMap=void 0;class a{constructor(l){r.set(this,void 0),e(this,r,new Map(l),"f"),Object.freeze(this)}get size(){return t(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return t(this,r,"f")[Symbol.iterator]()}entries(){return t(this,r,"f").entries()}forEach(l,f){return t(this,r,"f").forEach((o,c,u)=>l.call(f,o,c,this))}get(l){return t(this,r,"f").get(l)}has(l){return t(this,r,"f").has(l)}keys(){return t(this,r,"f").keys()}values(){return t(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([l,f])=>`${String(l)} => ${String(f)}`).join(", ")} `:""}}`}}Z.FrozenMap=a;class s{constructor(l){n.set(this,void 0),e(this,n,new Set(l),"f"),Object.freeze(this)}get size(){return t(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return t(this,n,"f")[Symbol.iterator]()}entries(){return t(this,n,"f").entries()}forEach(l,f){return t(this,n,"f").forEach((o,c,u)=>l.call(f,o,c,this))}has(l){return t(this,n,"f").has(l)}keys(){return t(this,n,"f").keys()}values(){return t(this,n,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(l=>String(l)).join(", ")} `:""}}`}}return Z.FrozenSet=s,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(s),Object.freeze(s.prototype),Z}var mt={},jn;function Xa(){return jn||(jn=1,Object.defineProperty(mt,"__esModule",{value:!0})),mt}var gt={},kn;function Wa(){return kn||(kn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.getJsonSize=e.isValidJson=e.JsonStruct=e.UnsafeJsonStruct=void 0;const t=Ee,r=ae(),n=()=>(0,t.define)("finite number",w=>(0,t.is)(w,(0,t.number)())&&Number.isFinite(w));e.UnsafeJsonStruct=(0,t.union)([(0,t.literal)(null),(0,t.boolean)(),n(),(0,t.string)(),(0,t.array)((0,t.lazy)(()=>e.UnsafeJsonStruct)),(0,t.record)((0,t.string)(),(0,t.lazy)(()=>e.UnsafeJsonStruct))]),e.JsonStruct=(0,t.define)("Json",(w,$)=>{function y(b,L){const N=[...L.validator(b,$)];return N.length>0?N:!0}try{const b=y(w,e.UnsafeJsonStruct);return b!==!0?b:y(JSON.parse(JSON.stringify(w)),e.UnsafeJsonStruct)}catch(b){return b instanceof RangeError?"Circular reference detected":!1}});function a(w){return(0,t.is)(w,e.JsonStruct)}e.isValidJson=a;function s(w){(0,r.assertStruct)(w,e.JsonStruct,"Invalid JSON value");const $=JSON.stringify(w);return new TextEncoder().encode($).byteLength}e.getJsonSize=s,e.jsonrpc2="2.0",e.JsonRpcVersionStruct=(0,t.literal)(e.jsonrpc2),e.JsonRpcIdStruct=(0,t.nullable)((0,t.union)([(0,t.number)(),(0,t.string)()])),e.JsonRpcErrorStruct=(0,t.object)({code:(0,t.integer)(),message:(0,t.string)(),data:(0,t.optional)(e.JsonStruct),stack:(0,t.optional)((0,t.string)())}),e.JsonRpcParamsStruct=(0,t.optional)((0,t.union)([(0,t.record)((0,t.string)(),e.JsonStruct),(0,t.array)(e.JsonStruct)])),e.JsonRpcRequestStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,t.string)(),params:e.JsonRpcParamsStruct}),e.JsonRpcNotificationStruct=(0,t.omit)(e.JsonRpcRequestStruct,["id"]);function i(w){return(0,t.is)(w,e.JsonRpcNotificationStruct)}e.isJsonRpcNotification=i;function l(w,$){(0,r.assertStruct)(w,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",$)}e.assertIsJsonRpcNotification=l;function f(w){return(0,t.is)(w,e.JsonRpcRequestStruct)}e.isJsonRpcRequest=f;function o(w,$){(0,r.assertStruct)(w,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",$)}e.assertIsJsonRpcRequest=o,e.PendingJsonRpcResponseStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,t.optional)((0,t.unknown)()),error:(0,t.optional)(e.JsonRpcErrorStruct)}),e.JsonRpcSuccessStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct}),e.JsonRpcFailureStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct}),e.JsonRpcResponseStruct=(0,t.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]);function c(w){return(0,t.is)(w,e.PendingJsonRpcResponseStruct)}e.isPendingJsonRpcResponse=c;function u(w,$){(0,r.assertStruct)(w,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",$)}e.assertIsPendingJsonRpcResponse=u;function d(w){return(0,t.is)(w,e.JsonRpcResponseStruct)}e.isJsonRpcResponse=d;function h(w,$){(0,r.assertStruct)(w,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",$)}e.assertIsJsonRpcResponse=h;function _(w){return(0,t.is)(w,e.JsonRpcSuccessStruct)}e.isJsonRpcSuccess=_;function p(w,$){(0,r.assertStruct)(w,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",$)}e.assertIsJsonRpcSuccess=p;function m(w){return(0,t.is)(w,e.JsonRpcFailureStruct)}e.isJsonRpcFailure=m;function g(w,$){(0,r.assertStruct)(w,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",$)}e.assertIsJsonRpcFailure=g;function R(w){return(0,t.is)(w,e.JsonRpcErrorStruct)}e.isJsonRpcError=R;function E(w,$){(0,r.assertStruct)(w,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",$)}e.assertIsJsonRpcError=E;function P(w){const{permitEmptyString:$,permitFractions:y,permitNull:b}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},w);return B=>!!(typeof B=="number"&&(y||Number.isInteger(B))||typeof B=="string"&&($||B.length>0)||b&&B===null)}e.getJsonRpcIdValidator=P})(gt)),gt}var yt={},qn;function Ya(){return qn||(qn=1,Object.defineProperty(yt,"__esModule",{value:!0})),yt}var ie={},We={exports:{}},vt,Mn;function Qa(){if(Mn)return vt;Mn=1;var e=1e3,t=e*60,r=t*60,n=r*24,a=n*7,s=n*365.25;vt=function(c,u){u=u||{};var d=typeof c;if(d==="string"&&c.length>0)return i(c);if(d==="number"&&isFinite(c))return u.long?f(c):l(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function i(c){if(c=String(c),!(c.length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(u){var d=parseFloat(u[1]),h=(u[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return d*s;case"weeks":case"week":case"w":return d*a;case"days":case"day":case"d":return d*n;case"hours":case"hour":case"hrs":case"hr":case"h":return d*r;case"minutes":case"minute":case"mins":case"min":case"m":return d*t;case"seconds":case"second":case"secs":case"sec":case"s":return d*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function l(c){var u=Math.abs(c);return u>=n?Math.round(c/n)+"d":u>=r?Math.round(c/r)+"h":u>=t?Math.round(c/t)+"m":u>=e?Math.round(c/e)+"s":c+"ms"}function f(c){var u=Math.abs(c);return u>=n?o(c,u,n,"day"):u>=r?o(c,u,r,"hour"):u>=t?o(c,u,t,"minute"):u>=e?o(c,u,e,"second"):c+" ms"}function o(c,u,d,h){var _=u>=d*1.5;return Math.round(c/d)+" "+h+(_?"s":"")}return vt}var Et,Jn;function Ka(){if(Jn)return Et;Jn=1;function e(t){n.debug=n,n.default=n,n.coerce=o,n.disable=l,n.enable=s,n.enabled=f,n.humanize=Qa(),n.destroy=c,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function r(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=r;function n(u){let d,h=null,_,p;function m(...g){if(!m.enabled)return;const R=m,E=Number(new Date),P=E-(d||E);R.diff=P,R.prev=d,R.curr=E,d=E,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let w=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(y,b)=>{if(y==="%%")return"%";w++;const L=n.formatters[b];if(typeof L=="function"){const B=g[w];y=L.call(R,B),g.splice(w,1),w--}return y}),n.formatArgs.call(R,g),(R.log||n.log).apply(R,g)}return m.namespace=u,m.useColors=n.useColors(),m.color=n.selectColor(u),m.extend=a,m.destroy=n.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(_!==n.namespaces&&(_=n.namespaces,p=n.enabled(u)),p),set:g=>{h=g}}),typeof n.init=="function"&&n.init(m),m}function a(u,d){const h=n(this.namespace+(typeof d>"u"?":":d)+u);return h.log=this.log,h}function s(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];const d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const h of d)h[0]==="-"?n.skips.push(h.slice(1)):n.names.push(h)}function i(u,d){let h=0,_=0,p=-1,m=0;for(;h<u.length;)if(_<d.length&&(d[_]===u[h]||d[_]==="*"))d[_]==="*"?(p=_,m=h,_++):(h++,_++);else if(p!==-1)_=p+1,m++,h=m;else return!1;for(;_<d.length&&d[_]==="*";)_++;return _===d.length}function l(){const u=[...n.names,...n.skips.map(d=>"-"+d)].join(",");return n.enable(""),u}function f(u){for(const d of n.skips)if(i(u,d))return!1;for(const d of n.names)if(i(u,d))return!0;return!1}function o(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return Et=e,Et}var Hn;function Za(){return Hn||(Hn=1,(function(e,t){var r={};t.formatArgs=a,t.save=s,t.load=i,t.useColors=n,t.storage=l(),t.destroy=(()=>{let o=!1;return()=>{o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let o;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(o=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(o[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;o.splice(1,0,c,"color: inherit");let u=0,d=0;o[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(u++,h==="%c"&&(d=u))}),o.splice(d,0,c)}t.log=console.debug||console.log||(()=>{});function s(o){try{o?t.storage.setItem("debug",o):t.storage.removeItem("debug")}catch{}}function i(){let o;try{o=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!o&&typeof process<"u"&&"env"in process&&(o=r.DEBUG),o}function l(){try{return localStorage}catch{}}e.exports=Ka()(t);const{formatters:f}=e.exports;f.j=function(o){try{return JSON.stringify(o)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(We,We.exports)),We.exports}var Dn;function ec(){if(Dn)return ie;Dn=1;var e=ie&&ie.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ie,"__esModule",{value:!0}),ie.createModuleLogger=ie.createProjectLogger=void 0;const r=(0,e(Za()).default)("metamask");function n(s){return r.extend(s)}ie.createProjectLogger=n;function a(s,i){return s.extend(i)}return ie.createModuleLogger=a,ie}var bt={},Vn;function tc(){return Vn||(Vn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0;function t(o){return Array.isArray(o)&&o.length>0}e.isNonEmptyArray=t;function r(o){return o==null}e.isNullOrUndefined=r;function n(o){return!!o&&typeof o=="object"&&!Array.isArray(o)}e.isObject=n;const a=(o,c)=>Object.hasOwnProperty.call(o,c);e.hasProperty=a,(function(o){o[o.Null=4]="Null",o[o.Comma=1]="Comma",o[o.Wrapper=1]="Wrapper",o[o.True=4]="True",o[o.False=5]="False",o[o.Quote=1]="Quote",o[o.Colon=1]="Colon",o[o.Date=24]="Date"})(e.JsonSize||(e.JsonSize={})),e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(o){if(typeof o!="object"||o===null)return!1;try{let c=o;for(;Object.getPrototypeOf(c)!==null;)c=Object.getPrototypeOf(c);return Object.getPrototypeOf(o)===c}catch{return!1}}e.isPlainObject=s;function i(o){return o.charCodeAt(0)<=127}e.isASCII=i;function l(o){var c;return o.split("").reduce((d,h)=>i(h)?d+1:d+2,0)+((c=o.match(e.ESCAPE_CHARACTERS_REGEXP))!==null&&c!==void 0?c:[]).length}e.calculateStringSize=l;function f(o){return o.toString().length}e.calculateNumberSize=f})(bt)),bt}var ee={},Un;function rc(){if(Un)return ee;Un=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.hexToBigInt=ee.hexToNumber=ee.bigIntToHex=ee.numberToHex=void 0;const e=ae(),t=it(),r=i=>((0,e.assert)(typeof i=="number","Value must be a number."),(0,e.assert)(i>=0,"Value must be a non-negative number."),(0,e.assert)(Number.isSafeInteger(i),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,t.add0x)(i.toString(16)));ee.numberToHex=r;const n=i=>((0,e.assert)(typeof i=="bigint","Value must be a bigint."),(0,e.assert)(i>=0,"Value must be a non-negative bigint."),(0,t.add0x)(i.toString(16)));ee.bigIntToHex=n;const a=i=>{(0,t.assertIsHexString)(i);const l=parseInt(i,16);return(0,e.assert)(Number.isSafeInteger(l),"Value is not a safe integer. Use `hexToBigInt` instead."),l};ee.hexToNumber=a;const s=i=>((0,t.assertIsHexString)(i),BigInt((0,t.add0x)(i)));return ee.hexToBigInt=s,ee}var Rt={},Gn;function nc(){return Gn||(Gn=1,Object.defineProperty(Rt,"__esModule",{value:!0})),Rt}var wt={},zn;function ic(){return zn||(zn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeSince=e.inMilliseconds=e.Duration=void 0,(function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"})(e.Duration||(e.Duration={}));const t=s=>Number.isInteger(s)&&s>=0,r=(s,i)=>{if(!t(s))throw new Error(`"${i}" must be a non-negative integer. Received: "${s}".`)};function n(s,i){return r(s,"count"),s*i}e.inMilliseconds=n;function a(s){return r(s,"timestamp"),Date.now()-s}e.timeSince=a})(wt)),wt}var St={},xn;function sc(){return xn||(xn=1,Object.defineProperty(St,"__esModule",{value:!0})),St}var It={},Ye={exports:{}},Ct,Xn;function st(){if(Xn)return Ct;Xn=1;const e="2.0.0",t=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,a=t-6;return Ct={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:a,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Ct}var $t,Wn;function ot(){if(Wn)return $t;Wn=1;var e={};return $t=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{},$t}var Yn;function Ge(){return Yn||(Yn=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:a}=st(),s=ot();t=e.exports={};const i=t.re=[],l=t.safeRe=[],f=t.src=[],o=t.safeSrc=[],c=t.t={};let u=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",a],[d,n]],_=m=>{for(const[g,R]of h)m=m.split(`${g}*`).join(`${g}{0,${R}}`).split(`${g}+`).join(`${g}{1,${R}}`);return m},p=(m,g,R)=>{const E=_(g),P=u++;s(m,P,g),c[m]=P,f[P]=g,o[P]=E,i[P]=new RegExp(g,R?"g":void 0),l[P]=new RegExp(E,R?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),p("MAINVERSION",`(${f[c.NUMERICIDENTIFIER]})\\.(${f[c.NUMERICIDENTIFIER]})\\.(${f[c.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${f[c.NUMERICIDENTIFIERLOOSE]})\\.(${f[c.NUMERICIDENTIFIERLOOSE]})\\.(${f[c.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${f[c.NONNUMERICIDENTIFIER]}|${f[c.NUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${f[c.NONNUMERICIDENTIFIER]}|${f[c.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASE",`(?:-(${f[c.PRERELEASEIDENTIFIER]}(?:\\.${f[c.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${f[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${f[c.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${d}+`),p("BUILD",`(?:\\+(${f[c.BUILDIDENTIFIER]}(?:\\.${f[c.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${f[c.MAINVERSION]}${f[c.PRERELEASE]}?${f[c.BUILD]}?`),p("FULL",`^${f[c.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${f[c.MAINVERSIONLOOSE]}${f[c.PRERELEASELOOSE]}?${f[c.BUILD]}?`),p("LOOSE",`^${f[c.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${f[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${f[c.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${f[c.XRANGEIDENTIFIER]})(?:\\.(${f[c.XRANGEIDENTIFIER]})(?:\\.(${f[c.XRANGEIDENTIFIER]})(?:${f[c.PRERELEASE]})?${f[c.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${f[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[c.XRANGEIDENTIFIERLOOSE]})(?:${f[c.PRERELEASELOOSE]})?${f[c.BUILD]}?)?)?`),p("XRANGE",`^${f[c.GTLT]}\\s*${f[c.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${f[c.GTLT]}\\s*${f[c.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),p("COERCE",`${f[c.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",f[c.COERCEPLAIN]+`(?:${f[c.PRERELEASE]})?(?:${f[c.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",f[c.COERCE],!0),p("COERCERTLFULL",f[c.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${f[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${f[c.LONETILDE]}${f[c.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${f[c.LONETILDE]}${f[c.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${f[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${f[c.LONECARET]}${f[c.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${f[c.LONECARET]}${f[c.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${f[c.GTLT]}\\s*(${f[c.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${f[c.GTLT]}\\s*(${f[c.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${f[c.GTLT]}\\s*(${f[c.LOOSEPLAIN]}|${f[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${f[c.XRANGEPLAIN]})\\s+-\\s+(${f[c.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${f[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${f[c.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ye,Ye.exports)),Ye.exports}var Ot,Qn;function Zr(){if(Qn)return Ot;Qn=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return Ot=n=>n?typeof n!="object"?e:n:t,Ot}var Tt,Kn;function to(){if(Kn)return Tt;Kn=1;const e=/^[0-9]+$/,t=(n,a)=>{const s=e.test(n),i=e.test(a);return s&&i&&(n=+n,a=+a),n===a?0:s&&!i?-1:i&&!s?1:n<a?-1:1};return Tt={compareIdentifiers:t,rcompareIdentifiers:(n,a)=>t(a,n)},Tt}var Pt,Zn;function x(){if(Zn)return Pt;Zn=1;const e=ot(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:r}=st(),{safeRe:n,t:a}=Ge(),s=Zr(),{compareIdentifiers:i}=to();class l{constructor(o,c){if(c=s(c),o instanceof l){if(o.loose===!!c.loose&&o.includePrerelease===!!c.includePrerelease)return o;o=o.version}else if(typeof o!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof o}".`);if(o.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",o,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const u=o.trim().match(c.loose?n[a.LOOSE]:n[a.FULL]);if(!u)throw new TypeError(`Invalid Version: ${o}`);if(this.raw=o,this.major=+u[1],this.minor=+u[2],this.patch=+u[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");u[4]?this.prerelease=u[4].split(".").map(d=>{if(/^[0-9]+$/.test(d)){const h=+d;if(h>=0&&h<r)return h}return d}):this.prerelease=[],this.build=u[5]?u[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(o){if(e("SemVer.compare",this.version,this.options,o),!(o instanceof l)){if(typeof o=="string"&&o===this.version)return 0;o=new l(o,this.options)}return o.version===this.version?0:this.compareMain(o)||this.comparePre(o)}compareMain(o){return o instanceof l||(o=new l(o,this.options)),i(this.major,o.major)||i(this.minor,o.minor)||i(this.patch,o.patch)}comparePre(o){if(o instanceof l||(o=new l(o,this.options)),this.prerelease.length&&!o.prerelease.length)return-1;if(!this.prerelease.length&&o.prerelease.length)return 1;if(!this.prerelease.length&&!o.prerelease.length)return 0;let c=0;do{const u=this.prerelease[c],d=o.prerelease[c];if(e("prerelease compare",c,u,d),u===void 0&&d===void 0)return 0;if(d===void 0)return 1;if(u===void 0)return-1;if(u===d)continue;return i(u,d)}while(++c)}compareBuild(o){o instanceof l||(o=new l(o,this.options));let c=0;do{const u=this.build[c],d=o.build[c];if(e("build compare",c,u,d),u===void 0&&d===void 0)return 0;if(d===void 0)return 1;if(u===void 0)return-1;if(u===d)continue;return i(u,d)}while(++c)}inc(o,c,u){if(o.startsWith("pre")){if(!c&&u===!1)throw new Error("invalid increment argument: identifier is empty");if(c){const d=`-${c}`.match(this.options.loose?n[a.PRERELEASELOOSE]:n[a.PRERELEASE]);if(!d||d[1]!==c)throw new Error(`invalid identifier: ${c}`)}}switch(o){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,u);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,u);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,u),this.inc("pre",c,u);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,u),this.inc("pre",c,u);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const d=Number(u)?1:0;if(this.prerelease.length===0)this.prerelease=[d];else{let h=this.prerelease.length;for(;--h>=0;)typeof this.prerelease[h]=="number"&&(this.prerelease[h]++,h=-2);if(h===-1){if(c===this.prerelease.join(".")&&u===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(d)}}if(c){let h=[c,d];u===!1&&(h=[c]),i(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=h):this.prerelease=h}break}default:throw new Error(`invalid increment argument: ${o}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Pt=l,Pt}var Nt,ei;function Ie(){if(ei)return Nt;ei=1;const e=x();return Nt=(r,n,a=!1)=>{if(r instanceof e)return r;try{return new e(r,n)}catch(s){if(!a)return null;throw s}},Nt}var At,ti;function oc(){if(ti)return At;ti=1;const e=Ie();return At=(r,n)=>{const a=e(r,n);return a?a.version:null},At}var Lt,ri;function ac(){if(ri)return Lt;ri=1;const e=Ie();return Lt=(r,n)=>{const a=e(r.trim().replace(/^[=v]+/,""),n);return a?a.version:null},Lt}var Ft,ni;function cc(){if(ni)return Ft;ni=1;const e=x();return Ft=(r,n,a,s,i)=>{typeof a=="string"&&(i=s,s=a,a=void 0);try{return new e(r instanceof e?r.version:r,a).inc(n,s,i).version}catch{return null}},Ft}var Bt,ii;function uc(){if(ii)return Bt;ii=1;const e=Ie();return Bt=(r,n)=>{const a=e(r,null,!0),s=e(n,null,!0),i=a.compare(s);if(i===0)return null;const l=i>0,f=l?a:s,o=l?s:a,c=!!f.prerelease.length;if(!!o.prerelease.length&&!c){if(!o.patch&&!o.minor)return"major";if(o.compareMain(f)===0)return o.minor&&!o.patch?"minor":"patch"}const d=c?"pre":"";return a.major!==s.major?d+"major":a.minor!==s.minor?d+"minor":a.patch!==s.patch?d+"patch":"prerelease"},Bt}var jt,si;function lc(){if(si)return jt;si=1;const e=x();return jt=(r,n)=>new e(r,n).major,jt}var kt,oi;function fc(){if(oi)return kt;oi=1;const e=x();return kt=(r,n)=>new e(r,n).minor,kt}var qt,ai;function dc(){if(ai)return qt;ai=1;const e=x();return qt=(r,n)=>new e(r,n).patch,qt}var Mt,ci;function hc(){if(ci)return Mt;ci=1;const e=Ie();return Mt=(r,n)=>{const a=e(r,n);return a&&a.prerelease.length?a.prerelease:null},Mt}var Jt,ui;function te(){if(ui)return Jt;ui=1;const e=x();return Jt=(r,n,a)=>new e(r,a).compare(new e(n,a)),Jt}var Ht,li;function pc(){if(li)return Ht;li=1;const e=te();return Ht=(r,n,a)=>e(n,r,a),Ht}var Dt,fi;function _c(){if(fi)return Dt;fi=1;const e=te();return Dt=(r,n)=>e(r,n,!0),Dt}var Vt,di;function en(){if(di)return Vt;di=1;const e=x();return Vt=(r,n,a)=>{const s=new e(r,a),i=new e(n,a);return s.compare(i)||s.compareBuild(i)},Vt}var Ut,hi;function mc(){if(hi)return Ut;hi=1;const e=en();return Ut=(r,n)=>r.sort((a,s)=>e(a,s,n)),Ut}var Gt,pi;function gc(){if(pi)return Gt;pi=1;const e=en();return Gt=(r,n)=>r.sort((a,s)=>e(s,a,n)),Gt}var zt,_i;function at(){if(_i)return zt;_i=1;const e=te();return zt=(r,n,a)=>e(r,n,a)>0,zt}var xt,mi;function tn(){if(mi)return xt;mi=1;const e=te();return xt=(r,n,a)=>e(r,n,a)<0,xt}var Xt,gi;function ro(){if(gi)return Xt;gi=1;const e=te();return Xt=(r,n,a)=>e(r,n,a)===0,Xt}var Wt,yi;function no(){if(yi)return Wt;yi=1;const e=te();return Wt=(r,n,a)=>e(r,n,a)!==0,Wt}var Yt,vi;function rn(){if(vi)return Yt;vi=1;const e=te();return Yt=(r,n,a)=>e(r,n,a)>=0,Yt}var Qt,Ei;function nn(){if(Ei)return Qt;Ei=1;const e=te();return Qt=(r,n,a)=>e(r,n,a)<=0,Qt}var Kt,bi;function io(){if(bi)return Kt;bi=1;const e=ro(),t=no(),r=at(),n=rn(),a=tn(),s=nn();return Kt=(l,f,o,c)=>{switch(f){case"===":return typeof l=="object"&&(l=l.version),typeof o=="object"&&(o=o.version),l===o;case"!==":return typeof l=="object"&&(l=l.version),typeof o=="object"&&(o=o.version),l!==o;case"":case"=":case"==":return e(l,o,c);case"!=":return t(l,o,c);case">":return r(l,o,c);case">=":return n(l,o,c);case"<":return a(l,o,c);case"<=":return s(l,o,c);default:throw new TypeError(`Invalid operator: ${f}`)}},Kt}var Zt,Ri;function yc(){if(Ri)return Zt;Ri=1;const e=x(),t=Ie(),{safeRe:r,t:n}=Ge();return Zt=(s,i)=>{if(s instanceof e)return s;if(typeof s=="number"&&(s=String(s)),typeof s!="string")return null;i=i||{};let l=null;if(!i.rtl)l=s.match(i.includePrerelease?r[n.COERCEFULL]:r[n.COERCE]);else{const h=i.includePrerelease?r[n.COERCERTLFULL]:r[n.COERCERTL];let _;for(;(_=h.exec(s))&&(!l||l.index+l[0].length!==s.length);)(!l||_.index+_[0].length!==l.index+l[0].length)&&(l=_),h.lastIndex=_.index+_[1].length+_[2].length;h.lastIndex=-1}if(l===null)return null;const f=l[2],o=l[3]||"0",c=l[4]||"0",u=i.includePrerelease&&l[5]?`-${l[5]}`:"",d=i.includePrerelease&&l[6]?`+${l[6]}`:"";return t(`${f}.${o}.${c}${u}${d}`,i)},Zt}var er,wi;function vc(){if(wi)return er;wi=1;class e{constructor(){this.max=1e3,this.map=new Map}get(r){const n=this.map.get(r);if(n!==void 0)return this.map.delete(r),this.map.set(r,n),n}delete(r){return this.map.delete(r)}set(r,n){if(!this.delete(r)&&n!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(r,n)}return this}}return er=e,er}var tr,Si;function re(){if(Si)return tr;Si=1;const e=/\s+/g;class t{constructor(v,I){if(I=a(I),v instanceof t)return v.loose===!!I.loose&&v.includePrerelease===!!I.includePrerelease?v:new t(v.raw,I);if(v instanceof s)return this.raw=v.value,this.set=[[v]],this.formatted=void 0,this;if(this.options=I,this.loose=!!I.loose,this.includePrerelease=!!I.includePrerelease,this.raw=v.trim().replace(e," "),this.set=this.raw.split("||").map(C=>this.parseRange(C.trim())).filter(C=>C.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const C=this.set[0];if(this.set=this.set.filter(O=>!p(O[0])),this.set.length===0)this.set=[C];else if(this.set.length>1){for(const O of this.set)if(O.length===1&&m(O[0])){this.set=[O];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let v=0;v<this.set.length;v++){v>0&&(this.formatted+="||");const I=this.set[v];for(let C=0;C<I.length;C++)C>0&&(this.formatted+=" "),this.formatted+=I[C].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(v){const C=((this.options.includePrerelease&&h)|(this.options.loose&&_))+":"+v,O=n.get(C);if(O)return O;const T=this.options.loose,A=T?f[o.HYPHENRANGELOOSE]:f[o.HYPHENRANGE];v=v.replace(A,j(this.options.includePrerelease)),i("hyphen replace",v),v=v.replace(f[o.COMPARATORTRIM],c),i("comparator trim",v),v=v.replace(f[o.TILDETRIM],u),i("tilde trim",v),v=v.replace(f[o.CARETTRIM],d),i("caret trim",v);let q=v.split(" ").map(U=>R(U,this.options)).join(" ").split(/\s+/).map(U=>N(U,this.options));T&&(q=q.filter(U=>(i("loose invalid filter",U,this.options),!!U.match(f[o.COMPARATORLOOSE])))),i("range list",q);const F=new Map,H=q.map(U=>new s(U,this.options));for(const U of H){if(p(U))return[U];F.set(U.value,U)}F.size>1&&F.has("")&&F.delete("");const z=[...F.values()];return n.set(C,z),z}intersects(v,I){if(!(v instanceof t))throw new TypeError("a Range is required");return this.set.some(C=>g(C,I)&&v.set.some(O=>g(O,I)&&C.every(T=>O.every(A=>T.intersects(A,I)))))}test(v){if(!v)return!1;if(typeof v=="string")try{v=new l(v,this.options)}catch{return!1}for(let I=0;I<this.set.length;I++)if(Y(this.set[I],v,this.options))return!0;return!1}}tr=t;const r=vc(),n=new r,a=Zr(),s=ct(),i=ot(),l=x(),{safeRe:f,t:o,comparatorTrimReplace:c,tildeTrimReplace:u,caretTrimReplace:d}=Ge(),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:_}=st(),p=S=>S.value==="<0.0.0-0",m=S=>S.value==="",g=(S,v)=>{let I=!0;const C=S.slice();let O=C.pop();for(;I&&C.length;)I=C.every(T=>O.intersects(T,v)),O=C.pop();return I},R=(S,v)=>(i("comp",S,v),S=$(S,v),i("caret",S),S=P(S,v),i("tildes",S),S=b(S,v),i("xrange",S),S=B(S,v),i("stars",S),S),E=S=>!S||S.toLowerCase()==="x"||S==="*",P=(S,v)=>S.trim().split(/\s+/).map(I=>w(I,v)).join(" "),w=(S,v)=>{const I=v.loose?f[o.TILDELOOSE]:f[o.TILDE];return S.replace(I,(C,O,T,A,q)=>{i("tilde",S,C,O,T,A,q);let F;return E(O)?F="":E(T)?F=`>=${O}.0.0 <${+O+1}.0.0-0`:E(A)?F=`>=${O}.${T}.0 <${O}.${+T+1}.0-0`:q?(i("replaceTilde pr",q),F=`>=${O}.${T}.${A}-${q} <${O}.${+T+1}.0-0`):F=`>=${O}.${T}.${A} <${O}.${+T+1}.0-0`,i("tilde return",F),F})},$=(S,v)=>S.trim().split(/\s+/).map(I=>y(I,v)).join(" "),y=(S,v)=>{i("caret",S,v);const I=v.loose?f[o.CARETLOOSE]:f[o.CARET],C=v.includePrerelease?"-0":"";return S.replace(I,(O,T,A,q,F)=>{i("caret",S,O,T,A,q,F);let H;return E(T)?H="":E(A)?H=`>=${T}.0.0${C} <${+T+1}.0.0-0`:E(q)?T==="0"?H=`>=${T}.${A}.0${C} <${T}.${+A+1}.0-0`:H=`>=${T}.${A}.0${C} <${+T+1}.0.0-0`:F?(i("replaceCaret pr",F),T==="0"?A==="0"?H=`>=${T}.${A}.${q}-${F} <${T}.${A}.${+q+1}-0`:H=`>=${T}.${A}.${q}-${F} <${T}.${+A+1}.0-0`:H=`>=${T}.${A}.${q}-${F} <${+T+1}.0.0-0`):(i("no pr"),T==="0"?A==="0"?H=`>=${T}.${A}.${q}${C} <${T}.${A}.${+q+1}-0`:H=`>=${T}.${A}.${q}${C} <${T}.${+A+1}.0-0`:H=`>=${T}.${A}.${q} <${+T+1}.0.0-0`),i("caret return",H),H})},b=(S,v)=>(i("replaceXRanges",S,v),S.split(/\s+/).map(I=>L(I,v)).join(" ")),L=(S,v)=>{S=S.trim();const I=v.loose?f[o.XRANGELOOSE]:f[o.XRANGE];return S.replace(I,(C,O,T,A,q,F)=>{i("xRange",S,C,O,T,A,q,F);const H=E(T),z=H||E(A),U=z||E(q),Ce=U;return O==="="&&Ce&&(O=""),F=v.includePrerelease?"-0":"",H?O===">"||O==="<"?C="<0.0.0-0":C="*":O&&Ce?(z&&(A=0),q=0,O===">"?(O=">=",z?(T=+T+1,A=0,q=0):(A=+A+1,q=0)):O==="<="&&(O="<",z?T=+T+1:A=+A+1),O==="<"&&(F="-0"),C=`${O+T}.${A}.${q}${F}`):z?C=`>=${T}.0.0${F} <${+T+1}.0.0-0`:U&&(C=`>=${T}.${A}.0${F} <${T}.${+A+1}.0-0`),i("xRange return",C),C})},B=(S,v)=>(i("replaceStars",S,v),S.trim().replace(f[o.STAR],"")),N=(S,v)=>(i("replaceGTE0",S,v),S.trim().replace(f[v.includePrerelease?o.GTE0PRE:o.GTE0],"")),j=S=>(v,I,C,O,T,A,q,F,H,z,U,Ce)=>(E(C)?I="":E(O)?I=`>=${C}.0.0${S?"-0":""}`:E(T)?I=`>=${C}.${O}.0${S?"-0":""}`:A?I=`>=${I}`:I=`>=${I}${S?"-0":""}`,E(H)?F="":E(z)?F=`<${+H+1}.0.0-0`:E(U)?F=`<${H}.${+z+1}.0-0`:Ce?F=`<=${H}.${z}.${U}-${Ce}`:S?F=`<${H}.${z}.${+U+1}-0`:F=`<=${F}`,`${I} ${F}`.trim()),Y=(S,v,I)=>{for(let C=0;C<S.length;C++)if(!S[C].test(v))return!1;if(v.prerelease.length&&!I.includePrerelease){for(let C=0;C<S.length;C++)if(i(S[C].semver),S[C].semver!==s.ANY&&S[C].semver.prerelease.length>0){const O=S[C].semver;if(O.major===v.major&&O.minor===v.minor&&O.patch===v.patch)return!0}return!1}return!0};return tr}var rr,Ii;function ct(){if(Ii)return rr;Ii=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,u){if(u=r(u),c instanceof t){if(c.loose===!!u.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),i("comparator",c,u),this.options=u,this.loose=!!u.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(c){const u=this.options.loose?n[a.COMPARATORLOOSE]:n[a.COMPARATOR],d=c.match(u);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new l(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(i("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new l(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,u){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new f(c.value,u).test(this.value):c.operator===""?c.value===""?!0:new f(this.value,u).test(c.semver):(u=r(u),u.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!u.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,u)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,u)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}rr=t;const r=Zr(),{safeRe:n,t:a}=Ge(),s=io(),i=ot(),l=x(),f=re();return rr}var nr,Ci;function ut(){if(Ci)return nr;Ci=1;const e=re();return nr=(r,n,a)=>{try{n=new e(n,a)}catch{return!1}return n.test(r)},nr}var ir,$i;function Ec(){if($i)return ir;$i=1;const e=re();return ir=(r,n)=>new e(r,n).set.map(a=>a.map(s=>s.value).join(" ").trim().split(" ")),ir}var sr,Oi;function bc(){if(Oi)return sr;Oi=1;const e=x(),t=re();return sr=(n,a,s)=>{let i=null,l=null,f=null;try{f=new t(a,s)}catch{return null}return n.forEach(o=>{f.test(o)&&(!i||l.compare(o)===-1)&&(i=o,l=new e(i,s))}),i},sr}var or,Ti;function Rc(){if(Ti)return or;Ti=1;const e=x(),t=re();return or=(n,a,s)=>{let i=null,l=null,f=null;try{f=new t(a,s)}catch{return null}return n.forEach(o=>{f.test(o)&&(!i||l.compare(o)===1)&&(i=o,l=new e(i,s))}),i},or}var ar,Pi;function wc(){if(Pi)return ar;Pi=1;const e=x(),t=re(),r=at();return ar=(a,s)=>{a=new t(a,s);let i=new e("0.0.0");if(a.test(i)||(i=new e("0.0.0-0"),a.test(i)))return i;i=null;for(let l=0;l<a.set.length;++l){const f=a.set[l];let o=null;f.forEach(c=>{const u=new e(c.semver.version);switch(c.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!o||r(u,o))&&(o=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),o&&(!i||r(i,o))&&(i=o)}return i&&a.test(i)?i:null},ar}var cr,Ni;function Sc(){if(Ni)return cr;Ni=1;const e=re();return cr=(r,n)=>{try{return new e(r,n).range||"*"}catch{return null}},cr}var ur,Ai;function sn(){if(Ai)return ur;Ai=1;const e=x(),t=ct(),{ANY:r}=t,n=re(),a=ut(),s=at(),i=tn(),l=nn(),f=rn();return ur=(c,u,d,h)=>{c=new e(c,h),u=new n(u,h);let _,p,m,g,R;switch(d){case">":_=s,p=l,m=i,g=">",R=">=";break;case"<":_=i,p=f,m=s,g="<",R="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(c,u,h))return!1;for(let E=0;E<u.set.length;++E){const P=u.set[E];let w=null,$=null;if(P.forEach(y=>{y.semver===r&&(y=new t(">=0.0.0")),w=w||y,$=$||y,_(y.semver,w.semver,h)?w=y:m(y.semver,$.semver,h)&&($=y)}),w.operator===g||w.operator===R||(!$.operator||$.operator===g)&&p(c,$.semver))return!1;if($.operator===R&&m(c,$.semver))return!1}return!0},ur}var lr,Li;function Ic(){if(Li)return lr;Li=1;const e=sn();return lr=(r,n,a)=>e(r,n,">",a),lr}var fr,Fi;function Cc(){if(Fi)return fr;Fi=1;const e=sn();return fr=(r,n,a)=>e(r,n,"<",a),fr}var dr,Bi;function $c(){if(Bi)return dr;Bi=1;const e=re();return dr=(r,n,a)=>(r=new e(r,a),n=new e(n,a),r.intersects(n,a)),dr}var hr,ji;function Oc(){if(ji)return hr;ji=1;const e=ut(),t=te();return hr=(r,n,a)=>{const s=[];let i=null,l=null;const f=r.sort((d,h)=>t(d,h,a));for(const d of f)e(d,n,a)?(l=d,i||(i=d)):(l&&s.push([i,l]),l=null,i=null);i&&s.push([i,null]);const o=[];for(const[d,h]of s)d===h?o.push(d):!h&&d===f[0]?o.push("*"):h?d===f[0]?o.push(`<=${h}`):o.push(`${d} - ${h}`):o.push(`>=${d}`);const c=o.join(" || "),u=typeof n.raw=="string"?n.raw:String(n);return c.length<u.length?c:n},hr}var pr,ki;function Tc(){if(ki)return pr;ki=1;const e=re(),t=ct(),{ANY:r}=t,n=ut(),a=te(),s=(u,d,h={})=>{if(u===d)return!0;u=new e(u,h),d=new e(d,h);let _=!1;e:for(const p of u.set){for(const m of d.set){const g=f(p,m,h);if(_=_||g!==null,g)continue e}if(_)return!1}return!0},i=[new t(">=0.0.0-0")],l=[new t(">=0.0.0")],f=(u,d,h)=>{if(u===d)return!0;if(u.length===1&&u[0].semver===r){if(d.length===1&&d[0].semver===r)return!0;h.includePrerelease?u=i:u=l}if(d.length===1&&d[0].semver===r){if(h.includePrerelease)return!0;d=l}const _=new Set;let p,m;for(const b of u)b.operator===">"||b.operator===">="?p=o(p,b,h):b.operator==="<"||b.operator==="<="?m=c(m,b,h):_.add(b.semver);if(_.size>1)return null;let g;if(p&&m){if(g=a(p.semver,m.semver,h),g>0)return null;if(g===0&&(p.operator!==">="||m.operator!=="<="))return null}for(const b of _){if(p&&!n(b,String(p),h)||m&&!n(b,String(m),h))return null;for(const L of d)if(!n(b,String(L),h))return!1;return!0}let R,E,P,w,$=m&&!h.includePrerelease&&m.semver.prerelease.length?m.semver:!1,y=p&&!h.includePrerelease&&p.semver.prerelease.length?p.semver:!1;$&&$.prerelease.length===1&&m.operator==="<"&&$.prerelease[0]===0&&($=!1);for(const b of d){if(w=w||b.operator===">"||b.operator===">=",P=P||b.operator==="<"||b.operator==="<=",p){if(y&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===y.major&&b.semver.minor===y.minor&&b.semver.patch===y.patch&&(y=!1),b.operator===">"||b.operator===">="){if(R=o(p,b,h),R===b&&R!==p)return!1}else if(p.operator===">="&&!n(p.semver,String(b),h))return!1}if(m){if($&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===$.major&&b.semver.minor===$.minor&&b.semver.patch===$.patch&&($=!1),b.operator==="<"||b.operator==="<="){if(E=c(m,b,h),E===b&&E!==m)return!1}else if(m.operator==="<="&&!n(m.semver,String(b),h))return!1}if(!b.operator&&(m||p)&&g!==0)return!1}return!(p&&P&&!m&&g!==0||m&&w&&!p&&g!==0||y||$)},o=(u,d,h)=>{if(!u)return d;const _=a(u.semver,d.semver,h);return _>0?u:_<0||d.operator===">"&&u.operator===">="?d:u},c=(u,d,h)=>{if(!u)return d;const _=a(u.semver,d.semver,h);return _<0?u:_>0||d.operator==="<"&&u.operator==="<="?d:u};return pr=s,pr}var _r,qi;function Pc(){if(qi)return _r;qi=1;const e=Ge(),t=st(),r=x(),n=to(),a=Ie(),s=oc(),i=ac(),l=cc(),f=uc(),o=lc(),c=fc(),u=dc(),d=hc(),h=te(),_=pc(),p=_c(),m=en(),g=mc(),R=gc(),E=at(),P=tn(),w=ro(),$=no(),y=rn(),b=nn(),L=io(),B=yc(),N=ct(),j=re(),Y=ut(),S=Ec(),v=bc(),I=Rc(),C=wc(),O=Sc(),T=sn(),A=Ic(),q=Cc(),F=$c(),H=Oc(),z=Tc();return _r={parse:a,valid:s,clean:i,inc:l,diff:f,major:o,minor:c,patch:u,prerelease:d,compare:h,rcompare:_,compareLoose:p,compareBuild:m,sort:g,rsort:R,gt:E,lt:P,eq:w,neq:$,gte:y,lte:b,cmp:L,coerce:B,Comparator:N,Range:j,satisfies:Y,toComparators:S,maxSatisfying:v,minSatisfying:I,minVersion:C,validRange:O,outside:T,gtr:A,ltr:q,intersects:F,simplifyRange:H,subset:z,SemVer:r,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers},_r}var Mi;function Nc(){return Mi||(Mi=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;const t=Pc(),r=Ee,n=ae();e.VersionStruct=(0,r.refine)((0,r.string)(),"Version",u=>(0,t.valid)(u)===null?`Expected SemVer version, got "${u}"`:!0),e.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",u=>(0,t.validRange)(u)===null?`Expected SemVer range, got "${u}"`:!0);function a(u){return(0,r.is)(u,e.VersionStruct)}e.isValidSemVerVersion=a;function s(u){return(0,r.is)(u,e.VersionRangeStruct)}e.isValidSemVerRange=s;function i(u){(0,n.assertStruct)(u,e.VersionStruct)}e.assertIsSemVerVersion=i;function l(u){(0,n.assertStruct)(u,e.VersionRangeStruct)}e.assertIsSemVerRange=l;function f(u,d){return(0,t.gt)(u,d)}e.gtVersion=f;function o(u,d){return(0,t.gtr)(u,d)}e.gtRange=o;function c(u,d){return(0,t.satisfies)(u,d,{includePrerelease:!0})}e.satisfiesVersionRange=c})(It)),It}var Ji;function Ac(){return Ji||(Ji=1,(function(e){var t=fe&&fe.__createBinding||(Object.create?(function(n,a,s,i){i===void 0&&(i=s);var l=Object.getOwnPropertyDescriptor(a,s);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,i,l)}):(function(n,a,s,i){i===void 0&&(i=s),n[i]=a[s]})),r=fe&&fe.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ae(),e),r(Zs(),e),r(eo(),e),r(Ga(),e),r(za(),e),r(xa(),e),r(Xa(),e),r(it(),e),r(Wa(),e),r(Ya(),e),r(ec(),e),r(tc(),e),r(rc(),e),r(nc(),e),r(ic(),e),r(sc(),e),r(Nc(),e)})(fe)),fe}var Hi;function Lc(){return Hi||(Hi=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createModuleLogger=e.projectLogger=void 0;const t=Ac();Object.defineProperty(e,"createModuleLogger",{enumerable:!0,get:function(){return t.createModuleLogger}}),e.projectLogger=(0,t.createProjectLogger)("eth-block-tracker")})(pt)),pt}var Di;function Fc(){if(Di)return ue;Di=1;var e=ue&&ue.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ue,"__esModule",{value:!0}),ue.PollingBlockTracker=void 0;const t=e(xr()),r=e(sa()),n=Us(),a=Lc(),s=(0,a.createModuleLogger)(a.projectLogger,"polling-block-tracker"),i=(0,t.default)(),l=1e3;let f=class extends n.BaseBlockTracker{constructor(u={}){var d;if(!u.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},u),{blockResetDuration:(d=u.blockResetDuration)!==null&&d!==void 0?d:u.pollingInterval})),this._provider=u.provider,this._pollingInterval=u.pollingInterval||20*l,this._retryTimeout=u.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=u.keepEventLoopActive===void 0?!0:u.keepEventLoopActive,this._setSkipCacheFlag=u.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var u;this._isRunning;)try{await this._updateLatestBlock();const d=o(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await d}catch(d){const h=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(u=d.stack)!==null&&u!==void 0?u:d}`);try{this.emit("error",h)}catch{console.error(h)}const _=o(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await _}}async _updateLatestBlock(){const u=await this._fetchLatestBlock();this._newPotentialLatest(u)}async _fetchLatestBlock(){const u={jsonrpc:"2.0",id:i(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(u.skipCache=!0),s("Making request",u);const d=await(0,r.default)(h=>this._provider.sendAsync(u,h))();if(s("Got response",d),d.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${d.error.message}`);return d.result}};ue.PollingBlockTracker=f;function o(c,u){return new Promise(d=>{const h=setTimeout(d,c);h.unref&&u&&h.unref()})}return ue}var de={},Vi;function Bc(){if(Vi)return de;Vi=1;var e=de&&de.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(de,"__esModule",{value:!0}),de.SubscribeBlockTracker=void 0;const t=e(xr()),r=Us(),n=(0,t.default)();let a=class extends r.BaseBlockTracker{constructor(i={}){if(!i.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(i),this._provider=i.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const i=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(i)}catch(i){this.emit("error",i)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(i){this.emit("error",i)}}_call(i,...l){return new Promise((f,o)=>{this._provider.sendAsync({id:n(),method:i,params:l,jsonrpc:"2.0"},(c,u)=>{c?o(c):f(u.result)})})}_handleSubData(i,l){var f;l.method==="eth_subscription"&&((f=l.params)===null||f===void 0?void 0:f.subscription)===this._subscriptionId&&this._newPotentialLatest(l.params.result.number)}};return de.SubscribeBlockTracker=a,de}var Ui;function du(){return Ui||(Ui=1,(function(e){var t=ce&&ce.__createBinding||(Object.create?(function(n,a,s,i){i===void 0&&(i=s),Object.defineProperty(n,i,{enumerable:!0,get:function(){return a[s]}})}):(function(n,a,s,i){i===void 0&&(i=s),n[i]=a[s]})),r=ce&&ce.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Fc(),e),r(Bc(),e)})(ce)),ce}var he={},Te={},Pe={},Gi;function so(){if(Gi)return Pe;Gi=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.getUniqueId=void 0;const e=4294967295;let t=Math.floor(Math.random()*e);function r(){return t=(t+1)%e,t}return Pe.getUniqueId=r,Pe}var zi;function jc(){if(zi)return Te;zi=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.createIdRemapMiddleware=void 0;const e=so();function t(){return(r,n,a,s)=>{const i=r.id,l=e.getUniqueId();r.id=l,n.id=l,a(f=>{r.id=i,n.id=i,f()})}}return Te.createIdRemapMiddleware=t,Te}var Ne={},xi;function kc(){if(xi)return Ne;xi=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.createAsyncMiddleware=void 0;function e(t){return async(r,n,a,s)=>{let i;const l=new Promise(u=>{i=u});let f=null,o=!1;const c=async()=>{o=!0,a(u=>{f=u,i()}),await l};try{await t(r,n,c),o?(await l,f(null)):s(null)}catch(u){f?f(u):s(u)}}}return Ne.createAsyncMiddleware=e,Ne}var Ae={},Xi;function qc(){if(Xi)return Ae;Xi=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.createScaffoldMiddleware=void 0;function e(t){return(r,n,a,s)=>{const i=t[r.method];return i===void 0?a():typeof i=="function"?i(r,n,a,s):(n.result=i,s())}}return Ae.createScaffoldMiddleware=e,Ae}var pe={},Qe={},Wi;function Mc(){if(Wi)return Qe;Wi=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=bs();function t(a,s,i){try{Reflect.apply(a,s,i)}catch(l){setTimeout(()=>{throw l})}}function r(a){const s=a.length,i=new Array(s);for(let l=0;l<s;l+=1)i[l]=a[l];return i}class n extends e.EventEmitter{emit(s,...i){let l=s==="error";const f=this._events;if(f!==void 0)l=l&&f.error===void 0;else if(!l)return!1;if(l){let c;if(i.length>0&&([c]=i),c instanceof Error)throw c;const u=new Error(`Unhandled error.${c?` (${c.message})`:""}`);throw u.context=c,u}const o=f[s];if(o===void 0)return!1;if(typeof o=="function")t(o,this,i);else{const c=o.length,u=r(o);for(let d=0;d<c;d+=1)t(u[d],this,i)}return!0}}return Qe.default=n,Qe}var mr={},_e={},gr,Yi;function Jc(){if(Yi)return gr;Yi=1,gr=s,s.default=s,s.stable=o,s.stableStringify=o;var e="[...]",t="[Circular]",r=[],n=[];function a(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(d,h,_,p){typeof p>"u"&&(p=a()),l(d,"",0,[],void 0,0,p);var m;try{n.length===0?m=JSON.stringify(d,h,_):m=JSON.stringify(d,u(h),_)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;r.length!==0;){var g=r.pop();g.length===4?Object.defineProperty(g[0],g[1],g[3]):g[0][g[1]]=g[2]}}return m}function i(d,h,_,p){var m=Object.getOwnPropertyDescriptor(p,_);m.get!==void 0?m.configurable?(Object.defineProperty(p,_,{value:d}),r.push([p,_,h,m])):n.push([h,_,d]):(p[_]=d,r.push([p,_,h]))}function l(d,h,_,p,m,g,R){g+=1;var E;if(typeof d=="object"&&d!==null){for(E=0;E<p.length;E++)if(p[E]===d){i(t,d,h,m);return}if(typeof R.depthLimit<"u"&&g>R.depthLimit){i(e,d,h,m);return}if(typeof R.edgesLimit<"u"&&_+1>R.edgesLimit){i(e,d,h,m);return}if(p.push(d),Array.isArray(d))for(E=0;E<d.length;E++)l(d[E],E,E,p,d,g,R);else{var P=Object.keys(d);for(E=0;E<P.length;E++){var w=P[E];l(d[w],w,E,p,d,g,R)}}p.pop()}}function f(d,h){return d<h?-1:d>h?1:0}function o(d,h,_,p){typeof p>"u"&&(p=a());var m=c(d,"",0,[],void 0,0,p)||d,g;try{n.length===0?g=JSON.stringify(m,h,_):g=JSON.stringify(m,u(h),_)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;r.length!==0;){var R=r.pop();R.length===4?Object.defineProperty(R[0],R[1],R[3]):R[0][R[1]]=R[2]}}return g}function c(d,h,_,p,m,g,R){g+=1;var E;if(typeof d=="object"&&d!==null){for(E=0;E<p.length;E++)if(p[E]===d){i(t,d,h,m);return}try{if(typeof d.toJSON=="function")return}catch{return}if(typeof R.depthLimit<"u"&&g>R.depthLimit){i(e,d,h,m);return}if(typeof R.edgesLimit<"u"&&_+1>R.edgesLimit){i(e,d,h,m);return}if(p.push(d),Array.isArray(d))for(E=0;E<d.length;E++)c(d[E],E,E,p,d,g,R);else{var P={},w=Object.keys(d).sort(f);for(E=0;E<w.length;E++){var $=w[E];c(d[$],$,E,p,d,g,R),P[$]=d[$]}if(typeof m<"u")r.push([m,h,d]),m[h]=P;else return P}p.pop()}}function u(d){return d=typeof d<"u"?d:function(h,_){return _},function(h,_){if(n.length>0)for(var p=0;p<n.length;p++){var m=n[p];if(m[1]===h&&m[0]===_){_=m[2],n.splice(p,1);break}}return d.call(this,h,_)}}return gr}var Qi;function on(){if(Qi)return _e;Qi=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.EthereumProviderError=_e.EthereumRpcError=void 0;const e=Jc();class t extends Error{constructor(i,l,f){if(!Number.isInteger(i))throw new Error('"code" must be an integer.');if(!l||typeof l!="string")throw new Error('"message" must be a nonempty string.');super(l),this.code=i,f!==void 0&&(this.data=f)}serialize(){const i={code:this.code,message:this.message};return this.data!==void 0&&(i.data=this.data),this.stack&&(i.stack=this.stack),i}toString(){return e.default(this.serialize(),a,2)}}_e.EthereumRpcError=t;class r extends t{constructor(i,l,f){if(!n(i))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(i,l,f)}}_e.EthereumProviderError=r;function n(s){return Number.isInteger(s)&&s>=1e3&&s<=4999}function a(s,i){if(i!=="[Circular]")return i}return _e}var yr={},me={},Ki;function an(){return Ki||(Ki=1,Object.defineProperty(me,"__esModule",{value:!0}),me.errorValues=me.errorCodes=void 0,me.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},me.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}),me}var Zi;function oo(){return Zi||(Zi=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=an(),r=on(),n=t.errorCodes.rpc.internal,a="Unspecified error message. This is a bug, please report it.",s={code:n,message:i(n)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function i(d,h=a){if(Number.isInteger(d)){const _=d.toString();if(u(t.errorValues,_))return t.errorValues[_].message;if(o(d))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return h}e.getMessageFromCode=i;function l(d){if(!Number.isInteger(d))return!1;const h=d.toString();return!!(t.errorValues[h]||o(d))}e.isValidCode=l;function f(d,{fallbackError:h=s,shouldIncludeStack:_=!1}={}){var p,m;if(!h||!Number.isInteger(h.code)||typeof h.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(d instanceof r.EthereumRpcError)return d.serialize();const g={};if(d&&typeof d=="object"&&!Array.isArray(d)&&u(d,"code")&&l(d.code)){const E=d;g.code=E.code,E.message&&typeof E.message=="string"?(g.message=E.message,u(E,"data")&&(g.data=E.data)):(g.message=i(g.code),g.data={originalError:c(d)})}else{g.code=h.code;const E=(p=d)===null||p===void 0?void 0:p.message;g.message=E&&typeof E=="string"?E:h.message,g.data={originalError:c(d)}}const R=(m=d)===null||m===void 0?void 0:m.stack;return _&&d&&R&&typeof R=="string"&&(g.stack=R),g}e.serializeError=f;function o(d){return d>=-32099&&d<=-32e3}function c(d){return d&&typeof d=="object"&&!Array.isArray(d)?Object.assign({},d):d}function u(d,h){return Object.prototype.hasOwnProperty.call(d,h)}})(yr)),yr}var Le={},es;function Hc(){if(es)return Le;es=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.ethErrors=void 0;const e=on(),t=oo(),r=an();Le.ethErrors={rpc:{parse:i=>n(r.errorCodes.rpc.parse,i),invalidRequest:i=>n(r.errorCodes.rpc.invalidRequest,i),invalidParams:i=>n(r.errorCodes.rpc.invalidParams,i),methodNotFound:i=>n(r.errorCodes.rpc.methodNotFound,i),internal:i=>n(r.errorCodes.rpc.internal,i),server:i=>{if(!i||typeof i!="object"||Array.isArray(i))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:l}=i;if(!Number.isInteger(l)||l>-32005||l<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return n(l,i)},invalidInput:i=>n(r.errorCodes.rpc.invalidInput,i),resourceNotFound:i=>n(r.errorCodes.rpc.resourceNotFound,i),resourceUnavailable:i=>n(r.errorCodes.rpc.resourceUnavailable,i),transactionRejected:i=>n(r.errorCodes.rpc.transactionRejected,i),methodNotSupported:i=>n(r.errorCodes.rpc.methodNotSupported,i),limitExceeded:i=>n(r.errorCodes.rpc.limitExceeded,i)},provider:{userRejectedRequest:i=>a(r.errorCodes.provider.userRejectedRequest,i),unauthorized:i=>a(r.errorCodes.provider.unauthorized,i),unsupportedMethod:i=>a(r.errorCodes.provider.unsupportedMethod,i),disconnected:i=>a(r.errorCodes.provider.disconnected,i),chainDisconnected:i=>a(r.errorCodes.provider.chainDisconnected,i),custom:i=>{if(!i||typeof i!="object"||Array.isArray(i))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:l,message:f,data:o}=i;if(!f||typeof f!="string")throw new Error('"message" must be a nonempty string');return new e.EthereumProviderError(l,f,o)}}};function n(i,l){const[f,o]=s(l);return new e.EthereumRpcError(i,f||t.getMessageFromCode(i),o)}function a(i,l){const[f,o]=s(l);return new e.EthereumProviderError(i,f||t.getMessageFromCode(i),o)}function s(i){if(i){if(typeof i=="string")return[i];if(typeof i=="object"&&!Array.isArray(i)){const{message:l,data:f}=i;if(l&&typeof l!="string")throw new Error("Must specify string message.");return[l||void 0,f]}}return[]}return Le}var ts;function Dc(){return ts||(ts=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=on();Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=oo();Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Hc();Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const a=an();Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})})(mr)),mr}var rs;function ao(){if(rs)return pe;rs=1;var e=pe&&pe.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(pe,"__esModule",{value:!0}),pe.JsonRpcEngine=void 0;const t=e(Mc()),r=Dc();let n=class oe extends t.default{constructor(){super(),this._middleware=[]}push(i){this._middleware.push(i)}handle(i,l){if(l&&typeof l!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(i)?l?this._handleBatch(i,l):this._handleBatch(i):l?this._handle(i,l):this._promiseHandle(i)}asMiddleware(){return async(i,l,f,o)=>{try{const[c,u,d]=await oe._runAllMiddleware(i,l,this._middleware);return u?(await oe._runReturnHandlers(d),o(c)):f(async h=>{try{await oe._runReturnHandlers(d)}catch(_){return h(_)}return h()})}catch(c){return o(c)}}}async _handleBatch(i,l){try{const f=await Promise.all(i.map(this._promiseHandle.bind(this)));return l?l(null,f):f}catch(f){if(l)return l(f);throw f}}_promiseHandle(i){return new Promise(l=>{this._handle(i,(f,o)=>{l(o)})})}async _handle(i,l){if(!i||Array.isArray(i)||typeof i!="object"){const u=new r.EthereumRpcError(r.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof i}`,{request:i});return l(u,{id:void 0,jsonrpc:"2.0",error:u})}if(typeof i.method!="string"){const u=new r.EthereumRpcError(r.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof i.method}`,{request:i});return l(u,{id:i.id,jsonrpc:"2.0",error:u})}const f=Object.assign({},i),o={id:f.id,jsonrpc:f.jsonrpc};let c=null;try{await this._processRequest(f,o)}catch(u){c=u}return c&&(delete o.result,o.error||(o.error=r.serializeError(c))),l(c,o)}async _processRequest(i,l){const[f,o,c]=await oe._runAllMiddleware(i,l,this._middleware);if(oe._checkForCompletion(i,l,o),await oe._runReturnHandlers(c),f)throw f}static async _runAllMiddleware(i,l,f){const o=[];let c=null,u=!1;for(const d of f)if([c,u]=await oe._runMiddleware(i,l,d,o),u)break;return[c,u,o.reverse()]}static _runMiddleware(i,l,f,o){return new Promise(c=>{const u=h=>{const _=h||l.error;_&&(l.error=r.serializeError(_)),c([_,!0])},d=h=>{l.error?u(l.error):(h&&(typeof h!="function"&&u(new r.EthereumRpcError(r.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof h}" for request:
${a(i)}`,{request:i})),o.push(h)),c([null,!1]))};try{f(i,l,d,u)}catch(h){u(h)}})}static async _runReturnHandlers(i){for(const l of i)await new Promise((f,o)=>{l(c=>c?o(c):f())})}static _checkForCompletion(i,l,f){if(!("result"in l)&&!("error"in l))throw new r.EthereumRpcError(r.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${a(i)}`,{request:i});if(!f)throw new r.EthereumRpcError(r.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${a(i)}`,{request:i})}};pe.JsonRpcEngine=n;function a(s){return JSON.stringify(s,null,2)}return pe}var Fe={},ns;function Vc(){if(ns)return Fe;ns=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.mergeMiddleware=void 0;const e=ao();function t(r){const n=new e.JsonRpcEngine;return r.forEach(a=>n.push(a)),n.asMiddleware()}return Fe.mergeMiddleware=t,Fe}var is;function co(){return is||(is=1,(function(e){var t=he&&he.__createBinding||(Object.create?(function(n,a,s,i){i===void 0&&(i=s),Object.defineProperty(n,i,{enumerable:!0,get:function(){return a[s]}})}):(function(n,a,s,i){i===void 0&&(i=s),n[i]=a[s]})),r=he&&he.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(jc(),e),r(kc(),e),r(qc(),e),r(so(),e),r(ao(),e),r(Vc(),e)})(he)),he}var vr={},Ke={},Mr=function(e,t){return Mr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Mr(e,t)};function uo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Mr(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var rt=function(){return rt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},rt.apply(this,arguments)};function lo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function fo(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function ho(e,t){return function(r,n){t(r,n,e)}}function po(e,t,r,n,a,s){function i(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var l=n.kind,f=l==="getter"?"get":l==="setter"?"set":"value",o=!t&&e?n.static?e:e.prototype:null,c=t||(o?Object.getOwnPropertyDescriptor(o,n.name):{}),u,d=!1,h=r.length-1;h>=0;h--){var _={};for(var p in n)_[p]=p==="access"?{}:n[p];for(var p in n.access)_.access[p]=n.access[p];_.addInitializer=function(g){if(d)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(g||null))};var m=(0,r[h])(l==="accessor"?{get:c.get,set:c.set}:c[f],_);if(l==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(u=i(m.get))&&(c.get=u),(u=i(m.set))&&(c.set=u),(u=i(m.init))&&a.unshift(u)}else(u=i(m))&&(l==="field"?a.unshift(u):c[f]=u)}o&&Object.defineProperty(o,n.name,c),d=!0}function _o(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function mo(e){return typeof e=="symbol"?e:"".concat(e)}function go(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function yo(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function vo(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(c){try{o(n.next(c))}catch(u){i(u)}}function f(c){try{o(n.throw(c))}catch(u){i(u)}}function o(c){c.done?s(c.value):a(c.value).then(l,f)}o((n=n.apply(e,t||[])).next())})}function Eo(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(o){return function(c){return f([o,c])}}function f(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(r=0)),r;)try{if(n=1,a&&(s=o[0]&2?a.return:o[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,o[1])).done)return s;switch(a=0,s&&(o=[o[0]&2,s.value]),o[0]){case 0:case 1:s=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,a=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!s||o[1]>s[0]&&o[1]<s[3])){r.label=o[1];break}if(o[0]===6&&r.label<s[1]){r.label=s[1],s=o;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(o);break}s[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(c){o=[6,c],a=0}finally{n=s=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var lt=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function bo(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lt(t,e,r)}function nt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function cn(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function Ro(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cn(arguments[t]));return e}function wo(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],i=0,l=s.length;i<l;i++,a++)n[a]=s[i];return n}function So(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function we(e){return this instanceof we?(this.v=e,this):new we(e)}function Io(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(h){return function(_){return Promise.resolve(_).then(h,u)}}function l(h,_){n[h]&&(a[h]=function(p){return new Promise(function(m,g){s.push([h,p,m,g])>1||f(h,p)})},_&&(a[h]=_(a[h])))}function f(h,_){try{o(n[h](_))}catch(p){d(s[0][3],p)}}function o(h){h.value instanceof we?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}function c(h){f("next",h)}function u(h){f("throw",h)}function d(h,_){h(_),s.shift(),s.length&&f(s[0][0],s[0][1])}}function Co(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(i){return(r=!r)?{value:we(e[a](i)),done:!1}:s?s(i):i}:s}}function $o(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof nt=="function"?nt(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(l,f){i=e[s](i),a(l,f,i.done,i.value)})}}function a(s,i,l,f){Promise.resolve(f).then(function(o){s({value:o,done:l})},i)}}function Oo(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Uc=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Jr=function(e){return Jr=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Jr(e)};function To(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Jr(e),n=0;n<r.length;n++)r[n]!=="default"&&lt(t,e,r[n]);return Uc(t,e),t}function Po(e){return e&&e.__esModule?e:{default:e}}function No(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Ao(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function Lo(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Fo(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Gc=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Bo(e){function t(s){e.error=e.hasError?new Gc(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(i){return t(i),a()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function jo(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,i){return n?t?".jsx":".js":a&&(!s||!i)?r:a+s+"."+i.toLowerCase()+"js"}):e}const zc={__extends:uo,__assign:rt,__rest:lo,__decorate:fo,__param:ho,__esDecorate:po,__runInitializers:_o,__propKey:mo,__setFunctionName:go,__metadata:yo,__awaiter:vo,__generator:Eo,__createBinding:lt,__exportStar:bo,__values:nt,__read:cn,__spread:Ro,__spreadArrays:wo,__spreadArray:So,__await:we,__asyncGenerator:Io,__asyncDelegator:Co,__asyncValues:$o,__makeTemplateObject:Oo,__importStar:To,__importDefault:Po,__classPrivateFieldGet:No,__classPrivateFieldSet:Ao,__classPrivateFieldIn:Lo,__addDisposableResource:Fo,__disposeResources:Bo,__rewriteRelativeImportExtension:jo},xc=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Fo,get __assign(){return rt},__asyncDelegator:Co,__asyncGenerator:Io,__asyncValues:$o,__await:we,__awaiter:vo,__classPrivateFieldGet:No,__classPrivateFieldIn:Lo,__classPrivateFieldSet:Ao,__createBinding:lt,__decorate:fo,__disposeResources:Bo,__esDecorate:po,__exportStar:bo,__extends:uo,__generator:Eo,__importDefault:Po,__importStar:To,__makeTemplateObject:Oo,__metadata:yo,__param:ho,__propKey:mo,__read:cn,__rest:lo,__rewriteRelativeImportExtension:jo,__runInitializers:_o,__setFunctionName:go,__spread:Ro,__spreadArray:So,__spreadArrays:wo,__values:nt,default:zc},Symbol.toStringTag,{value:"Module"})),un=Me(xc);var Ze={},ss;function ko(){if(ss)return Ze;ss=1,Object.defineProperty(Ze,"__esModule",{value:!0});var e=un,t=(function(){function r(n){if(this._maxConcurrency=n,this._queue=[],n<=0)throw new Error("semaphore must be initialized to a positive value");this._value=n}return r.prototype.acquire=function(){var n=this,a=this.isLocked(),s=new Promise(function(i){return n._queue.push(i)});return a||this._dispatch(),s},r.prototype.runExclusive=function(n){return e.__awaiter(this,void 0,void 0,function(){var a,s,i;return e.__generator(this,function(l){switch(l.label){case 0:return[4,this.acquire()];case 1:a=l.sent(),s=a[0],i=a[1],l.label=2;case 2:return l.trys.push([2,,4,5]),[4,n(s)];case 3:return[2,l.sent()];case 4:return i(),[7];case 5:return[2]}})})},r.prototype.isLocked=function(){return this._value<=0},r.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var n=this._currentReleaser;this._currentReleaser=void 0,n()}},r.prototype._dispatch=function(){var n=this,a=this._queue.shift();if(a){var s=!1;this._currentReleaser=function(){s||(s=!0,n._value++,n._dispatch())},a([this._value--,this._currentReleaser])}},r})();return Ze.default=t,Ze}var os;function Xc(){if(os)return Ke;os=1,Object.defineProperty(Ke,"__esModule",{value:!0});var e=un,t=ko(),r=(function(){function n(){this._semaphore=new t.default(1)}return n.prototype.acquire=function(){return e.__awaiter(this,void 0,void 0,function(){var a,s;return e.__generator(this,function(i){switch(i.label){case 0:return[4,this._semaphore.acquire()];case 1:return a=i.sent(),s=a[1],[2,s]}})})},n.prototype.runExclusive=function(a){return this._semaphore.runExclusive(function(){return a()})},n.prototype.isLocked=function(){return this._semaphore.isLocked()},n.prototype.release=function(){this._semaphore.release()},n})();return Ke.default=r,Ke}var Be={},as;function Wc(){if(as)return Be;as=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.withTimeout=void 0;var e=un;function t(r,n,a){var s=this;return a===void 0&&(a=new Error("timeout")),{acquire:function(){return new Promise(function(i,l){return e.__awaiter(s,void 0,void 0,function(){var f,o,c;return e.__generator(this,function(u){switch(u.label){case 0:return f=!1,setTimeout(function(){f=!0,l(a)},n),[4,r.acquire()];case 1:return o=u.sent(),f?(c=Array.isArray(o)?o[1]:o,c()):i(o),[2]}})})})},runExclusive:function(i){return e.__awaiter(this,void 0,void 0,function(){var l,f;return e.__generator(this,function(o){switch(o.label){case 0:l=function(){},o.label=1;case 1:return o.trys.push([1,,7,8]),[4,this.acquire()];case 2:return f=o.sent(),Array.isArray(f)?(l=f[1],[4,i(f[0])]):[3,4];case 3:return[2,o.sent()];case 4:return l=f,[4,i()];case 5:return[2,o.sent()];case 6:return[3,8];case 7:return l(),[7];case 8:return[2]}})})},release:function(){r.release()},isLocked:function(){return r.isLocked()}}}return Be.withTimeout=t,Be}var cs;function Yc(){return cs||(cs=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=e.Semaphore=e.Mutex=void 0;var t=Xc();Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var r=ko();Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Wc();Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(vr)),vr}var Er,us;function Qc(){if(us)return Er;us=1,Er=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var a=arguments[n];for(var s in a)e.call(a,s)&&(r[s]=a[s])}return r}return Er}var br,ls;function Kc(){if(ls)return br;ls=1;const e=Qc(),t=xr()();br=r;function r(i){const l=this;l.currentProvider=i}r.prototype.getBalance=a(2,"eth_getBalance"),r.prototype.getCode=a(2,"eth_getCode"),r.prototype.getTransactionCount=a(2,"eth_getTransactionCount"),r.prototype.getStorageAt=a(3,"eth_getStorageAt"),r.prototype.call=a(2,"eth_call"),r.prototype.protocolVersion=n("eth_protocolVersion"),r.prototype.syncing=n("eth_syncing"),r.prototype.coinbase=n("eth_coinbase"),r.prototype.mining=n("eth_mining"),r.prototype.hashrate=n("eth_hashrate"),r.prototype.gasPrice=n("eth_gasPrice"),r.prototype.accounts=n("eth_accounts"),r.prototype.blockNumber=n("eth_blockNumber"),r.prototype.getBlockTransactionCountByHash=n("eth_getBlockTransactionCountByHash"),r.prototype.getBlockTransactionCountByNumber=n("eth_getBlockTransactionCountByNumber"),r.prototype.getUncleCountByBlockHash=n("eth_getUncleCountByBlockHash"),r.prototype.getUncleCountByBlockNumber=n("eth_getUncleCountByBlockNumber"),r.prototype.sign=n("eth_sign"),r.prototype.sendTransaction=n("eth_sendTransaction"),r.prototype.sendRawTransaction=n("eth_sendRawTransaction"),r.prototype.estimateGas=n("eth_estimateGas"),r.prototype.getBlockByHash=n("eth_getBlockByHash"),r.prototype.getBlockByNumber=n("eth_getBlockByNumber"),r.prototype.getTransactionByHash=n("eth_getTransactionByHash"),r.prototype.getTransactionByBlockHashAndIndex=n("eth_getTransactionByBlockHashAndIndex"),r.prototype.getTransactionByBlockNumberAndIndex=n("eth_getTransactionByBlockNumberAndIndex"),r.prototype.getTransactionReceipt=n("eth_getTransactionReceipt"),r.prototype.getUncleByBlockHashAndIndex=n("eth_getUncleByBlockHashAndIndex"),r.prototype.getUncleByBlockNumberAndIndex=n("eth_getUncleByBlockNumberAndIndex"),r.prototype.getCompilers=n("eth_getCompilers"),r.prototype.compileLLL=n("eth_compileLLL"),r.prototype.compileSolidity=n("eth_compileSolidity"),r.prototype.compileSerpent=n("eth_compileSerpent"),r.prototype.newFilter=n("eth_newFilter"),r.prototype.newBlockFilter=n("eth_newBlockFilter"),r.prototype.newPendingTransactionFilter=n("eth_newPendingTransactionFilter"),r.prototype.uninstallFilter=n("eth_uninstallFilter"),r.prototype.getFilterChanges=n("eth_getFilterChanges"),r.prototype.getFilterLogs=n("eth_getFilterLogs"),r.prototype.getLogs=n("eth_getLogs"),r.prototype.getWork=n("eth_getWork"),r.prototype.submitWork=n("eth_submitWork"),r.prototype.submitHashrate=n("eth_submitHashrate"),r.prototype.sendAsync=function(i,l){this.currentProvider.sendAsync(s(i),function(o,c){if(!o&&c.error&&(o=new Error("EthQuery - RPC Error - "+c.error.message)),o)return l(o);l(null,c.result)})};function n(i){return function(){const l=this;var f=[].slice.call(arguments),o=f.pop();l.sendAsync({method:i,params:f},o)}}function a(i,l){return function(){const f=this;var o=[].slice.call(arguments),c=o.pop();o.length<i&&o.push("latest"),f.sendAsync({method:l,params:o},c)}}function s(i){return e({id:t(),jsonrpc:"2.0",params:[]},i)}return br}var Rr,fs;function Zc(){if(fs)return Rr;fs=1;const e=(r,n,a,s)=>function(...i){const l=n.promiseModule;return new l((f,o)=>{n.multiArgs?i.push((...u)=>{n.errorFirst?u[0]?o(u):(u.shift(),f(u)):f(u)}):n.errorFirst?i.push((u,d)=>{u?o(u):f(d)}):i.push(f),Reflect.apply(r,this===a?s:this,i)})},t=new WeakMap;return Rr=(r,n)=>{n={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...n};const a=typeof r;if(!(r!==null&&(a==="object"||a==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${r===null?"null":a}\``);const s=(f,o)=>{let c=t.get(f);if(c||(c={},t.set(f,c)),o in c)return c[o];const u=m=>typeof m=="string"||typeof o=="symbol"?o===m:m.test(o),d=Reflect.getOwnPropertyDescriptor(f,o),h=d===void 0||d.writable||d.configurable,p=(n.include?n.include.some(u):!n.exclude.some(u))&&h;return c[o]=p,p},i=new WeakMap,l=new Proxy(r,{apply(f,o,c){const u=i.get(f);if(u)return Reflect.apply(u,o,c);const d=n.excludeMain?f:e(f,n,l,f);return i.set(f,d),Reflect.apply(d,o,c)},get(f,o){const c=f[o];if(!s(f,o)||c===Function.prototype[o])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const d=e(c,n,l,f);return i.set(c,d),d}return c}});return l},Rr}var wr,ds;function ln(){if(ds)return wr;ds=1;const e=Xr().default;class t extends e{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(n){this.updates=this.updates.concat(n),n.forEach(a=>this.emit("update",a))}addInitialResults(n){}getChangesAndClear(){const n=this.updates;return this.updates=[],n}}return wr=t,wr}var Sr,hs;function eu(){if(hs)return Sr;hs=1;const e=ln();class t extends e{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(n){this.allResults=this.allResults.concat(n),super.addResults(n)}addInitialResults(n){this.allResults=this.allResults.concat(n),super.addInitialResults(n)}getAllResults(){return this.allResults}}return Sr=t,Sr}var Ir,ps;function ze(){if(ps)return Ir;ps=1,Ir={minBlockRef:e,maxBlockRef:t,sortBlockRefs:r,bnToHex:n,blockRefIsNumber:a,hexToInt:s,incrementHexInt:i,intToHex:l,unsafeRandomBytes:f};function e(...c){return r(c)[0]}function t(...c){const u=r(c);return u[u.length-1]}function r(c){return c.sort((u,d)=>u==="latest"||d==="earliest"?1:d==="latest"||u==="earliest"?-1:s(u)-s(d))}function n(c){return"0x"+c.toString(16)}function a(c){return c&&!["earliest","latest","pending"].includes(c)}function s(c){return c==null?c:Number.parseInt(c,16)}function i(c){if(c==null)return c;const u=s(c);return l(u+1)}function l(c){if(c==null)return c;let u=c.toString(16);return u.length%2&&(u="0"+u),"0x"+u}function f(c){let u="0x";for(let d=0;d<c;d++)u+=o(),u+=o();return u}function o(){return Math.floor(Math.random()*16).toString(16)}return Ir}var Cr,_s;function tu(){if(_s)return Cr;_s=1;const e=Kc(),t=Zc(),r=eu(),{bnToHex:n,hexToInt:a,incrementHexInt:s,minBlockRef:i,blockRefIsNumber:l}=ze();class f extends r{constructor({provider:c,params:u}){super(),this.type="log",this.ethQuery=new e(c),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},u),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(d=>d.toLowerCase()))}async initialize({currentBlock:c}){let u=this.params.fromBlock;["latest","pending"].includes(u)&&(u=c),u==="earliest"&&(u="0x0"),this.params.fromBlock=u;const d=i(this.params.toBlock,c),h=Object.assign({},this.params,{toBlock:d}),_=await this._fetchLogs(h);this.addInitialResults(_)}async update({oldBlock:c,newBlock:u}){const d=u;let h;c?h=s(c):h=u;const _=Object.assign({},this.params,{fromBlock:h,toBlock:d}),m=(await this._fetchLogs(_)).filter(g=>this.matchLog(g));this.addResults(m)}async _fetchLogs(c){return await t(d=>this.ethQuery.getLogs(c,d))()}matchLog(c){if(a(this.params.fromBlock)>=a(c.blockNumber)||l(this.params.toBlock)&&a(this.params.toBlock)<=a(c.blockNumber))return!1;const u=c.address&&c.address.toLowerCase();return this.params.address&&u&&!this.params.address.includes(u)?!1:this.params.topics.every((h,_)=>{let p=c.topics[_];if(!p)return!1;p=p.toLowerCase();let m=Array.isArray(h)?h:[h];return m.includes(null)?!0:(m=m.map(E=>E.toLowerCase()),m.includes(p))})}}return Cr=f,Cr}var $r,ms;function fn(){if(ms)return $r;ms=1,$r=e;async function e({provider:s,fromBlock:i,toBlock:l}){i||(i=l);const f=t(i),c=t(l)-f+1,u=Array(c).fill().map((h,_)=>f+_).map(r);let d=await Promise.all(u.map(h=>a(s,"eth_getBlockByNumber",[h,!1])));return d=d.filter(h=>h!==null),d}function t(s){return s==null?s:Number.parseInt(s,16)}function r(s){return s==null?s:"0x"+s.toString(16)}function n(s,i){return new Promise((l,f)=>{s.sendAsync(i,(o,c)=>{o?f(o):c.error?f(c.error):c.result?l(c.result):f(new Error("Result was empty"))})})}async function a(s,i,l){for(let f=0;f<3;f++)try{return await n(s,{id:1,jsonrpc:"2.0",method:i,params:l})}catch(o){console.error(`provider.sendAsync failed: ${o.stack||o.message||o}`)}return null}return $r}var Or,gs;function ru(){if(gs)return Or;gs=1;const e=ln(),t=fn(),{incrementHexInt:r}=ze();class n extends e{constructor({provider:s,params:i}){super(),this.type="block",this.provider=s}async update({oldBlock:s,newBlock:i}){const l=i,f=r(s),c=(await t({provider:this.provider,fromBlock:f,toBlock:l})).map(u=>u.hash);this.addResults(c)}}return Or=n,Or}var Tr,ys;function nu(){if(ys)return Tr;ys=1;const e=ln(),t=fn(),{incrementHexInt:r}=ze();class n extends e{constructor({provider:s}){super(),this.type="tx",this.provider=s}async update({oldBlock:s}){const i=s,l=r(s),f=await t({provider:this.provider,fromBlock:l,toBlock:i}),o=[];for(const c of f)o.push(...c.transactions);this.addResults(o)}}return Tr=n,Tr}var Pr,vs;function iu(){if(vs)return Pr;vs=1;const e=Yc().Mutex,{createAsyncMiddleware:t,createScaffoldMiddleware:r}=co(),n=tu(),a=ru(),s=nu(),{intToHex:i,hexToInt:l}=ze();Pr=f;function f({blockTracker:h,provider:_}){let p=0,m={};const g=new e,R=u({mutex:g}),E=r({eth_newFilter:R(o(w)),eth_newBlockFilter:R(o($)),eth_newPendingTransactionFilter:R(o(y)),eth_uninstallFilter:R(c(B)),eth_getFilterChanges:R(c(b)),eth_getFilterLogs:R(c(L))}),P=async({oldBlock:v,newBlock:I})=>{if(m.length===0)return;const C=await g.acquire();try{await Promise.all(d(m).map(async O=>{try{await O.update({oldBlock:v,newBlock:I})}catch(T){console.error(T)}}))}catch(O){console.error(O)}C()};return E.newLogFilter=w,E.newBlockFilter=$,E.newPendingTransactionFilter=y,E.uninstallFilter=B,E.getFilterChanges=b,E.getFilterLogs=L,E.destroy=()=>{Y()},E;async function w(v){const I=new n({provider:_,params:v});return await N(I),I}async function $(){const v=new a({provider:_});return await N(v),v}async function y(){const v=new s({provider:_});return await N(v),v}async function b(v){const I=l(v),C=m[I];if(!C)throw new Error(`No filter for index "${I}"`);return C.getChangesAndClear()}async function L(v){const I=l(v),C=m[I];if(!C)throw new Error(`No filter for index "${I}"`);let O=[];return C.type==="log"&&(O=C.getAllResults()),O}async function B(v){const I=l(v),O=!!m[I];return O&&await j(I),O}async function N(v){const I=d(m).length,C=await h.getLatestBlock();await v.initialize({currentBlock:C}),p++,m[p]=v,v.id=p,v.idHex=i(p);const O=d(m).length;return S({prevFilterCount:I,newFilterCount:O}),p}async function j(v){const I=d(m).length;delete m[v];const C=d(m).length;S({prevFilterCount:I,newFilterCount:C})}async function Y(){const v=d(m).length;m={},S({prevFilterCount:v,newFilterCount:0})}function S({prevFilterCount:v,newFilterCount:I}){if(v===0&&I>0){h.on("sync",P);return}if(v>0&&I===0){h.removeListener("sync",P);return}}}function o(h){return c(async(..._)=>{const p=await h(..._);return i(p.id)})}function c(h){return t(async(_,p)=>{const m=await h.apply(null,_.params);p.result=m})}function u({mutex:h}){return _=>async(p,m,g,R)=>{(await h.acquire())(),_(p,m,g,R)}}function d(h,_){const p=[];for(let m in h)p.push(h[m]);return p}return Pr}var Nr,Es;function hu(){if(Es)return Nr;Es=1;const e=Xr().default,{createAsyncMiddleware:t,createScaffoldMiddleware:r}=co(),n=iu(),{unsafeRandomBytes:a,incrementHexInt:s}=ze(),i=fn();Nr=l;function l({blockTracker:o,provider:c}){const u={},d=n({blockTracker:o,provider:c});let h=!1;const _=new e,p=r({eth_subscribe:t(m),eth_unsubscribe:t(g)});return p.destroy=E,{events:_,middleware:p};async function m(P,w){if(h)throw new Error("SubscriptionManager - attempting to use after destroying");const $=P.params[0],y=a(16);let b;switch($){case"newHeads":b=L({subId:y});break;case"logs":const N=P.params[1],j=await d.newLogFilter(N);b=B({subId:y,filter:j});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${$}"`)}u[y]=b,w.result=y;return;function L({subId:N}){const j={type:$,destroy:async()=>{o.removeListener("sync",j.update)},update:async({oldBlock:Y,newBlock:S})=>{const v=S,I=s(Y);(await i({provider:c,fromBlock:I,toBlock:v})).map(f).filter(T=>T!==null).forEach(T=>{R(N,T)})}};return o.on("sync",j.update),j}function B({subId:N,filter:j}){return j.on("update",S=>R(N,S)),{type:$,destroy:async()=>await d.uninstallFilter(j.idHex)}}}async function g(P,w){if(h)throw new Error("SubscriptionManager - attempting to use after destroying");const $=P.params[0],y=u[$];if(!y){w.result=!1;return}delete u[$],await y.destroy(),w.result=!0}function R(P,w){_.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:P,result:w}})}function E(){_.removeAllListeners();for(const P in u)u[P].destroy(),delete u[P];h=!0}}function f(o){return o==null?null:{hash:o.hash,parentHash:o.parentHash,sha3Uncles:o.sha3Uncles,miner:o.miner,stateRoot:o.stateRoot,transactionsRoot:o.transactionsRoot,receiptsRoot:o.receiptsRoot,logsBloom:o.logsBloom,difficulty:o.difficulty,number:o.number,gasLimit:o.gasLimit,gasUsed:o.gasUsed,nonce:o.nonce,mixHash:o.mixHash,timestamp:o.timestamp,extraData:o.extraData}}return Nr}export{cu as a,au as b,du as c,hu as d,ou as r};
