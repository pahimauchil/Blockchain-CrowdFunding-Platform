import{cz as We,eD as _s,c3 as ks}from"./index-BnY9_9DF.js";import{g as Cs,d as Ss}from"./index-DcmhNLSm.js";import{r as O,a as He,b as Le,c as Is,d as Rs}from"./subscriptionManager-Ce55p_EW.js";var $e={},re={},ie={},ct;function Ms(){if(ct)return ie;ct=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.walletLogo=void 0;const h=(m,l)=>{let d;switch(m){case"standard":return d=l,`data:image/svg+xml,%3Csvg width='${l}' height='${d}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return d=l,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${l}' height='${d}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return d=(.1*l).toFixed(2),`data:image/svg+xml,%3Csvg width='${l}' height='${d}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return d=(.25*l).toFixed(2),`data:image/svg+xml,%3Csvg width='${l}' height='${d}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return d=(.1*l).toFixed(2),`data:image/svg+xml,%3Csvg width='${l}' height='${d}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return d=(.25*l).toFixed(2),`data:image/svg+xml,%3Csvg width='${l}' height='${d}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return d=l,`data:image/svg+xml,%3Csvg width='${l}' height='${d}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};return ie.walletLogo=h,ie}var oe={},lt;function As(){return lt||(lt=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.LINK_API_URL=void 0,oe.LINK_API_URL="https://www.walletlink.org"),oe}var S={},Ze={},$={},dt;function Ue(){return dt||(dt=1,Object.defineProperty($,"__esModule",{value:!0}),$.errorValues=$.standardErrorCodes=void 0,$.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},$.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}}),$}var ae={},Ge={},ut;function et(){return ut||(ut=1,(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.serialize=h.getErrorCode=h.isValidCode=h.getMessageFromCode=h.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const m=Ue(),l="Unspecified error message.";h.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function d(i,t=l){if(i&&Number.isInteger(i)){const s=i.toString();if(_(m.errorValues,s))return m.errorValues[s].message;if(g(i))return h.JSON_RPC_SERVER_ERROR_MESSAGE}return t}h.getMessageFromCode=d;function p(i){if(!Number.isInteger(i))return!1;const t=i.toString();return!!(m.errorValues[t]||g(i))}h.isValidCode=p;function u(i){var t;if(typeof i=="number")return i;if(w(i))return(t=i.code)!==null&&t!==void 0?t:i.errorCode}h.getErrorCode=u;function w(i){return typeof i=="object"&&i!==null&&(typeof i.code=="number"||typeof i.errorCode=="number")}function b(i,{shouldIncludeStack:t=!1}={}){const s={};if(i&&typeof i=="object"&&!Array.isArray(i)&&_(i,"code")&&p(i.code)){const c=i;s.code=c.code,c.message&&typeof c.message=="string"?(s.message=c.message,_(c,"data")&&(s.data=c.data)):(s.message=d(s.code),s.data={originalError:v(i)})}else s.code=m.standardErrorCodes.rpc.internal,s.message=n(i,"message")?i.message:l,s.data={originalError:v(i)};return t&&(s.stack=n(i,"stack")?i.stack:void 0),s}h.serialize=b;function g(i){return i>=-32099&&i<=-32e3}function v(i){return i&&typeof i=="object"&&!Array.isArray(i)?Object.assign({},i):i}function _(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function n(i,t){return typeof i=="object"&&i!==null&&t in i&&typeof i[t]=="string"}})(Ge)),Ge}var ht;function xs(){if(ht)return ae;ht=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.standardErrors=void 0;const h=Ue(),m=et();ae.standardErrors={rpc:{parse:g=>l(h.standardErrorCodes.rpc.parse,g),invalidRequest:g=>l(h.standardErrorCodes.rpc.invalidRequest,g),invalidParams:g=>l(h.standardErrorCodes.rpc.invalidParams,g),methodNotFound:g=>l(h.standardErrorCodes.rpc.methodNotFound,g),internal:g=>l(h.standardErrorCodes.rpc.internal,g),server:g=>{if(!g||typeof g!="object"||Array.isArray(g))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:v}=g;if(!Number.isInteger(v)||v>-32005||v<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return l(v,g)},invalidInput:g=>l(h.standardErrorCodes.rpc.invalidInput,g),resourceNotFound:g=>l(h.standardErrorCodes.rpc.resourceNotFound,g),resourceUnavailable:g=>l(h.standardErrorCodes.rpc.resourceUnavailable,g),transactionRejected:g=>l(h.standardErrorCodes.rpc.transactionRejected,g),methodNotSupported:g=>l(h.standardErrorCodes.rpc.methodNotSupported,g),limitExceeded:g=>l(h.standardErrorCodes.rpc.limitExceeded,g)},provider:{userRejectedRequest:g=>d(h.standardErrorCodes.provider.userRejectedRequest,g),unauthorized:g=>d(h.standardErrorCodes.provider.unauthorized,g),unsupportedMethod:g=>d(h.standardErrorCodes.provider.unsupportedMethod,g),disconnected:g=>d(h.standardErrorCodes.provider.disconnected,g),chainDisconnected:g=>d(h.standardErrorCodes.provider.chainDisconnected,g),unsupportedChain:g=>d(h.standardErrorCodes.provider.unsupportedChain,g),custom:g=>{if(!g||typeof g!="object"||Array.isArray(g))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:v,message:_,data:n}=g;if(!_||typeof _!="string")throw new Error('"message" must be a nonempty string');return new w(v,_,n)}}};function l(g,v){const[_,n]=p(v);return new u(g,_||(0,m.getMessageFromCode)(g),n)}function d(g,v){const[_,n]=p(v);return new w(g,_||(0,m.getMessageFromCode)(g),n)}function p(g){if(g){if(typeof g=="string")return[g];if(typeof g=="object"&&!Array.isArray(g)){const{message:v,data:_}=g;if(v&&typeof v!="string")throw new Error("Must specify string message.");return[v||void 0,_]}}return[]}class u extends Error{constructor(v,_,n){if(!Number.isInteger(v))throw new Error('"code" must be an integer.');if(!_||typeof _!="string")throw new Error('"message" must be a nonempty string.');super(_),this.code=v,n!==void 0&&(this.data=n)}}class w extends u{constructor(v,_,n){if(!b(v))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(v,_,n)}}function b(g){return Number.isInteger(g)&&g>=1e3&&g<=4999}return ae}var ce={},le={},ft;function tt(){if(ft)return le;ft=1,Object.defineProperty(le,"__esModule",{value:!0}),le.isErrorResponse=void 0;function h(m){return m.errorMessage!==void 0}return le.isErrorResponse=h,le}var de={},gt;function st(){return gt||(gt=1,Object.defineProperty(de,"__esModule",{value:!0}),de.LIB_VERSION=void 0,de.LIB_VERSION="3.9.3"),de}var pt;function Ls(){if(pt)return ce;pt=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.serializeError=void 0;const h=tt(),m=st(),l=Ue(),d=et();function p(b,g){const v=(0,d.serialize)(u(b),{shouldIncludeStack:!0}),_=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");_.searchParams.set("version",m.LIB_VERSION),_.searchParams.set("code",v.code.toString());const n=w(v.data,g);return n&&_.searchParams.set("method",n),_.searchParams.set("message",v.message),Object.assign(Object.assign({},v),{docUrl:_.href})}ce.serializeError=p;function u(b){return typeof b=="string"?{message:b,code:l.standardErrorCodes.rpc.internal}:(0,h.isErrorResponse)(b)?Object.assign(Object.assign({},b),{message:b.errorMessage,code:b.errorCode,data:{method:b.method}}):b}function w(b,g){const v=b?.method;if(v)return v;if(g!==void 0){if(typeof g=="string")return g;if(Array.isArray(g)){if(g.length>0)return g[0].method}else return g.method}}return ce}var bt;function qe(){return bt||(bt=1,(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.standardErrors=h.standardErrorCodes=h.serializeError=h.getMessageFromCode=h.getErrorCode=void 0;const m=Ue();Object.defineProperty(h,"standardErrorCodes",{enumerable:!0,get:function(){return m.standardErrorCodes}});const l=xs();Object.defineProperty(h,"standardErrors",{enumerable:!0,get:function(){return l.standardErrors}});const d=Ls();Object.defineProperty(h,"serializeError",{enumerable:!0,get:function(){return d.serializeError}});const p=et();Object.defineProperty(h,"getErrorCode",{enumerable:!0,get:function(){return p.getErrorCode}}),Object.defineProperty(h,"getMessageFromCode",{enumerable:!0,get:function(){return p.getMessageFromCode}})})(Ze)),Ze}var N={},mt;function Ve(){if(mt)return N;mt=1,Object.defineProperty(N,"__esModule",{value:!0}),N.ProviderType=N.RegExpString=N.IntNumber=N.BigIntString=N.AddressString=N.HexString=N.OpaqueType=void 0;function h(){return d=>d}N.OpaqueType=h,N.HexString=h(),N.AddressString=h(),N.BigIntString=h();function m(d){return Math.floor(d)}N.IntNumber=m,N.RegExpString=h();var l;return(function(d){d.CoinbaseWallet="CoinbaseWallet",d.MetaMask="MetaMask",d.Unselected=""})(l||(N.ProviderType=l={})),N}var wt;function U(){if(wt)return S;wt=1;var h=S&&S.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(S,"__esModule",{value:!0}),S.isMobileWeb=S.getLocation=S.isInIFrame=S.createQrUrl=S.getFavicon=S.range=S.isBigNumber=S.ensureParsedJSONObject=S.ensureBN=S.ensureRegExpString=S.ensureIntNumber=S.ensureBuffer=S.ensureAddressString=S.ensureEvenLengthHexString=S.ensureHexString=S.isHexString=S.prepend0x=S.strip0x=S.has0xPrefix=S.hexStringFromIntNumber=S.intNumberFromHexString=S.bigIntStringFromBN=S.hexStringFromBuffer=S.hexStringToUint8Array=S.uint8ArrayToHex=S.randomBytesHex=void 0;const m=h(We()),l=qe(),d=Ve(),p=/^[0-9]*$/,u=/^[a-f0-9]*$/;function w(E){return b(crypto.getRandomValues(new Uint8Array(E)))}S.randomBytesHex=w;function b(E){return[...E].map(R=>R.toString(16).padStart(2,"0")).join("")}S.uint8ArrayToHex=b;function g(E){return new Uint8Array(E.match(/.{1,2}/g).map(R=>parseInt(R,16)))}S.hexStringToUint8Array=g;function v(E,R=!1){const L=E.toString("hex");return(0,d.HexString)(R?`0x${L}`:L)}S.hexStringFromBuffer=v;function _(E){return(0,d.BigIntString)(E.toString(10))}S.bigIntStringFromBN=_;function n(E){return(0,d.IntNumber)(new m.default(r(E,!1),16).toNumber())}S.intNumberFromHexString=n;function i(E){return(0,d.HexString)(`0x${new m.default(E).toString(16)}`)}S.hexStringFromIntNumber=i;function t(E){return E.startsWith("0x")||E.startsWith("0X")}S.has0xPrefix=t;function s(E){return t(E)?E.slice(2):E}S.strip0x=s;function c(E){return t(E)?`0x${E.slice(2)}`:`0x${E}`}S.prepend0x=c;function o(E){if(typeof E!="string")return!1;const R=s(E).toLowerCase();return u.test(R)}S.isHexString=o;function e(E,R=!1){if(typeof E=="string"){const L=s(E).toLowerCase();if(u.test(L))return(0,d.HexString)(R?`0x${L}`:L)}throw l.standardErrors.rpc.invalidParams(`"${String(E)}" is not a hexadecimal string`)}S.ensureHexString=e;function r(E,R=!1){let L=e(E,!1);return L.length%2===1&&(L=(0,d.HexString)(`0${L}`)),R?(0,d.HexString)(`0x${L}`):L}S.ensureEvenLengthHexString=r;function a(E){if(typeof E=="string"){const R=s(E).toLowerCase();if(o(R)&&R.length===40)return(0,d.AddressString)(c(R))}throw l.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(E)}`)}S.ensureAddressString=a;function f(E){if(Buffer.isBuffer(E))return E;if(typeof E=="string"){if(o(E)){const R=r(E,!1);return Buffer.from(R,"hex")}return Buffer.from(E,"utf8")}throw l.standardErrors.rpc.invalidParams(`Not binary data: ${String(E)}`)}S.ensureBuffer=f;function y(E){if(typeof E=="number"&&Number.isInteger(E))return(0,d.IntNumber)(E);if(typeof E=="string"){if(p.test(E))return(0,d.IntNumber)(Number(E));if(o(E))return(0,d.IntNumber)(new m.default(r(E,!1),16).toNumber())}throw l.standardErrors.rpc.invalidParams(`Not an integer: ${String(E)}`)}S.ensureIntNumber=y;function k(E){if(E instanceof RegExp)return(0,d.RegExpString)(E.toString());throw l.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(E)}`)}S.ensureRegExpString=k;function C(E){if(E!==null&&(m.default.isBN(E)||x(E)))return new m.default(E.toString(10),10);if(typeof E=="number")return new m.default(y(E));if(typeof E=="string"){if(p.test(E))return new m.default(E,10);if(o(E))return new m.default(r(E,!1),16)}throw l.standardErrors.rpc.invalidParams(`Not an integer: ${String(E)}`)}S.ensureBN=C;function I(E){if(typeof E=="string")return JSON.parse(E);if(typeof E=="object")return E;throw l.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(E)}`)}S.ensureParsedJSONObject=I;function x(E){if(E==null||typeof E.constructor!="function")return!1;const{constructor:R}=E;return typeof R.config=="function"&&typeof R.EUCLID=="number"}S.isBigNumber=x;function M(E,R){return Array.from({length:R-E},(L,A)=>E+A)}S.range=M;function T(){const E=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:R,host:L}=document.location,A=E?E.getAttribute("href"):null;return!A||A.startsWith("javascript:")||A.startsWith("vbscript:")?null:A.startsWith("http://")||A.startsWith("https://")||A.startsWith("data:")?A:A.startsWith("//")?R+A:`${R}//${L}${A}`}S.getFavicon=T;function D(E,R,L,A,B,ze){const V=A?"parent-id":"id",z=new URLSearchParams({[V]:E,secret:R,server:L,v:B,chainId:ze.toString()}).toString();return`${L}/#/link?${z}`}S.createQrUrl=D;function F(){try{return window.frameElement!==null}catch{return!1}}S.isInIFrame=F;function j(){try{return F()&&window.top?window.top.location:window.location}catch{return window.location}}S.getLocation=j;function Ne(){var E;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((E=window?.navigator)===null||E===void 0?void 0:E.userAgent)}return S.isMobileWeb=Ne,S}var ue={},vt;function Ns(){if(vt)return ue;vt=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.ScopedLocalStorage=void 0;let h=class{constructor(l){this.scope=l}setItem(l,d){localStorage.setItem(this.scopedKey(l),d)}getItem(l){return localStorage.getItem(this.scopedKey(l))}removeItem(l){localStorage.removeItem(this.scopedKey(l))}clear(){const l=this.scopedKey(""),d=[];for(let p=0;p<localStorage.length;p++){const u=localStorage.key(p);typeof u=="string"&&u.startsWith(l)&&d.push(u)}d.forEach(p=>localStorage.removeItem(p))}scopedKey(l){return`${this.scope}:${l}`}};return ue.ScopedLocalStorage=h,ue}var Z={},he={},fe={},ge={},yt;function nt(){return yt||(yt=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.EVENTS=void 0,ge.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"}),ge}var W={},Et;function rt(){if(Et)return W;Et=1,Object.defineProperty(W,"__esModule",{value:!0}),W.RelayAbstract=W.APP_VERSION_KEY=W.LOCAL_STORAGE_ADDRESSES_KEY=W.WALLET_USER_NAME_KEY=void 0;const h=qe();W.WALLET_USER_NAME_KEY="walletUsername",W.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",W.APP_VERSION_KEY="AppVersion";let m=class{async makeEthereumJSONRPCRequest(d,p){if(!p)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(p,{method:"POST",body:JSON.stringify(d),mode:"cors",headers:{"Content-Type":"application/json"}}).then(u=>u.json()).then(u=>{if(!u)throw h.standardErrors.rpc.parse({});const w=u,{error:b}=w;if(b)throw(0,h.serializeError)(b,d.method);return w})}};return W.RelayAbstract=m,W}var pe={},_t;function it(){if(_t)return pe;_t=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.Session=void 0;const h=Cs(),m=U(),l="session:id",d="session:secret",p="session:linked";let u=class us{constructor(b,g,v,_){this._storage=b,this._id=g||(0,m.randomBytesHex)(16),this._secret=v||(0,m.randomBytesHex)(32),this._key=new h.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!_}static load(b){const g=b.getItem(l),v=b.getItem(p),_=b.getItem(d);return g&&_?new us(b,g,_,v==="1"):null}static hash(b){return new h.sha256().update(b).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(b){this._linked=b,this.persistLinked()}save(){return this._storage.setItem(l,this._id),this._storage.setItem(d,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(p,this._linked?"1":"0")}};return pe.Session=u,pe}var be={},me={},kt;function Ps(){if(kt)return me;kt=1,Object.defineProperty(me,"__esModule",{value:!0}),me.Cipher=void 0;const h=U();let m=class{constructor(d){this.secret=d}async encrypt(d){const p=this.secret;if(p.length!==64)throw Error("secret must be 256 bits");const u=crypto.getRandomValues(new Uint8Array(12)),w=await crypto.subtle.importKey("raw",(0,h.hexStringToUint8Array)(p),{name:"aes-gcm"},!1,["encrypt","decrypt"]),b=new TextEncoder,g=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:u},w,b.encode(d)),v=16,_=g.slice(g.byteLength-v),n=g.slice(0,g.byteLength-v),i=new Uint8Array(_),t=new Uint8Array(n),s=new Uint8Array([...u,...i,...t]);return(0,h.uint8ArrayToHex)(s)}async decrypt(d){const p=this.secret;if(p.length!==64)throw Error("secret must be 256 bits");return new Promise((u,w)=>{(async function(){const b=await crypto.subtle.importKey("raw",(0,h.hexStringToUint8Array)(p),{name:"aes-gcm"},!1,["encrypt","decrypt"]),g=(0,h.hexStringToUint8Array)(d),v=g.slice(0,12),_=g.slice(12,28),n=g.slice(28),i=new Uint8Array([...n,..._]),t={name:"AES-GCM",iv:new Uint8Array(v)};try{const s=await window.crypto.subtle.decrypt(t,b,i),c=new TextDecoder;u(c.decode(s))}catch(s){w(s)}})()})}};return me.Cipher=m,me}var we={},Ct;function Ts(){if(Ct)return we;Ct=1,Object.defineProperty(we,"__esModule",{value:!0}),we.WalletLinkHTTP=void 0;let h=class{constructor(l,d,p){this.linkAPIUrl=l,this.sessionId=d;const u=`${d}:${p}`;this.auth=`Basic ${btoa(u)}`}async markUnseenEventsAsSeen(l){return Promise.all(l.map(d=>fetch(`${this.linkAPIUrl}/events/${d.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(d=>console.error("Unabled to mark event as failed:",d))}async fetchUnseenEvents(){var l;const d=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(d.ok){const{events:p,error:u}=await d.json();if(u)throw new Error(`Check unseen events failed: ${u}`);const w=(l=p?.filter(b=>b.event==="Web3Response").map(b=>({type:"Event",sessionId:this.sessionId,eventId:b.id,event:b.event,data:b.data})))!==null&&l!==void 0?l:[];return this.markUnseenEventsAsSeen(w),w}throw new Error(`Check unseen events failed: ${d.status}`)}};return we.WalletLinkHTTP=h,we}var G={},St;function Ds(){if(St)return G;St=1,Object.defineProperty(G,"__esModule",{value:!0}),G.WalletLinkWebSocket=G.ConnectionState=void 0;var h;(function(l){l[l.DISCONNECTED=0]="DISCONNECTED",l[l.CONNECTING=1]="CONNECTING",l[l.CONNECTED=2]="CONNECTED"})(h||(G.ConnectionState=h={}));let m=class{setConnectionStateListener(d){this.connectionStateListener=d}setIncomingDataListener(d){this.incomingDataListener=d}constructor(d,p=WebSocket){this.WebSocketClass=p,this.webSocket=null,this.pendingData=[],this.url=d.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((d,p)=>{var u;let w;try{this.webSocket=w=new this.WebSocketClass(this.url)}catch(b){p(b);return}(u=this.connectionStateListener)===null||u===void 0||u.call(this,h.CONNECTING),w.onclose=b=>{var g;this.clearWebSocket(),p(new Error(`websocket error ${b.code}: ${b.reason}`)),(g=this.connectionStateListener)===null||g===void 0||g.call(this,h.DISCONNECTED)},w.onopen=b=>{var g;d(),(g=this.connectionStateListener)===null||g===void 0||g.call(this,h.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(_=>this.sendData(_)),this.pendingData=[])},w.onmessage=b=>{var g,v;if(b.data==="h")(g=this.incomingDataListener)===null||g===void 0||g.call(this,{type:"Heartbeat"});else try{const _=JSON.parse(b.data);(v=this.incomingDataListener)===null||v===void 0||v.call(this,_)}catch{}}})}disconnect(){var d;const{webSocket:p}=this;if(p){this.clearWebSocket(),(d=this.connectionStateListener)===null||d===void 0||d.call(this,h.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{p.close()}catch{}}}sendData(d){const{webSocket:p}=this;if(!p){this.pendingData.push(d),this.connect();return}p.send(d)}clearWebSocket(){const{webSocket:d}=this;d&&(this.webSocket=null,d.onclose=null,d.onerror=null,d.onmessage=null,d.onopen=null)}};return G.WalletLinkWebSocket=m,G}var It;function Os(){if(It)return be;It=1,Object.defineProperty(be,"__esModule",{value:!0}),be.WalletLinkConnection=void 0;const h=Ve(),m=Ps(),l=nt(),d=rt(),p=it(),u=Ts(),w=Ds(),b=1e4,g=6e4;let v=class{constructor({session:n,linkAPIUrl:i,listener:t,diagnostic:s,WebSocketClass:c=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,h.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=e=>{if(!e)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>e.JsonRpcUrl&&this.handleChainUpdated(a,e.JsonRpcUrl)]]).forEach((a,f)=>{const y=e[f];y!==void 0&&a(y)})},this.handleDestroyed=e=>{var r,a;e==="1"&&((r=this.listener)===null||r===void 0||r.resetAndReload(),(a=this.diagnostic)===null||a===void 0||a.log(l.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:p.Session.hash(this.session.id)}))},this.handleAccountUpdated=async e=>{var r,a;try{const f=await this.cipher.decrypt(e);(r=this.listener)===null||r===void 0||r.accountUpdated(f)}catch{(a=this.diagnostic)===null||a===void 0||a.log(l.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(e,r)=>{var a,f;try{const y=await this.cipher.decrypt(r);(a=this.listener)===null||a===void 0||a.metadataUpdated(e,y)}catch{(f=this.diagnostic)===null||f===void 0||f.log(l.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:e})}},this.handleWalletUsernameUpdated=async e=>{this.handleMetadataUpdated(d.WALLET_USER_NAME_KEY,e)},this.handleAppVersionUpdated=async e=>{this.handleMetadataUpdated(d.APP_VERSION_KEY,e)},this.handleChainUpdated=async(e,r)=>{var a,f;try{const y=await this.cipher.decrypt(e),k=await this.cipher.decrypt(r);(a=this.listener)===null||a===void 0||a.chainUpdated(y,k)}catch{(f=this.diagnostic)===null||f===void 0||f.log(l.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=n,this.cipher=new m.Cipher(n.secret),this.diagnostic=s,this.listener=t;const o=new w.WalletLinkWebSocket(`${i}/rpc`,c);o.setConnectionStateListener(async e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(l.EVENTS.CONNECTED_STATE_CHANGE,{state:e,sessionIdHash:p.Session.hash(n.id)});let a=!1;switch(e){case w.ConnectionState.DISCONNECTED:if(!this.destroyed){const f=async()=>{await new Promise(y=>setTimeout(y,5e3)),this.destroyed||o.connect().catch(()=>{f()})};f()}break;case w.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),a=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},b),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case w.ConnectionState.CONNECTING:break}this.connected!==a&&(this.connected=a)}),o.setIncomingDataListener(e=>{var r,a,f;switch(e.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const y=e.type==="IsLinkedOK"?e.linked:void 0;(r=this.diagnostic)===null||r===void 0||r.log(l.EVENTS.LINKED,{sessionIdHash:p.Session.hash(n.id),linked:y,type:e.type,onlineGuests:e.onlineGuests}),this.linked=y||e.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{(a=this.diagnostic)===null||a===void 0||a.log(l.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:p.Session.hash(n.id),metadata_keys:e&&e.metadata?Object.keys(e.metadata):void 0}),this.handleSessionMetadataUpdated(e.metadata);break}case"Event":{this.handleIncomingEvent(e);break}}e.id!==void 0&&((f=this.requestResolutions.get(e.id))===null||f===void 0||f(e))}),this.ws=o,this.http=new u.WalletLinkHTTP(i,n.id,n.key)}connect(){var n;if(this.destroyed)throw new Error("instance is destroyed");(n=this.diagnostic)===null||n===void 0||n.log(l.EVENTS.STARTED_CONNECTING,{sessionIdHash:p.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var n;this.destroyed=!0,this.ws.disconnect(),(n=this.diagnostic)===null||n===void 0||n.log(l.EVENTS.DISCONNECTED,{sessionIdHash:p.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(n){var i,t;this._connected=n,n&&((i=this.onceConnected)===null||i===void 0||i.call(this)),(t=this.listener)===null||t===void 0||t.connectedUpdated(n)}setOnceConnected(n){return new Promise(i=>{this.connected?n().then(i):this.onceConnected=()=>{n().then(i),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(n){var i,t;this._linked=n,n&&((i=this.onceLinked)===null||i===void 0||i.call(this)),(t=this.listener)===null||t===void 0||t.linkedUpdated(n)}setOnceLinked(n){return new Promise(i=>{this.linked?n().then(i):this.onceLinked=()=>{n().then(i),this.onceLinked=void 0}})}async handleIncomingEvent(n){var i,t;if(!(n.type!=="Event"||n.event!=="Web3Response"))try{const s=await this.cipher.decrypt(n.data),c=JSON.parse(s);if(c.type!=="WEB3_RESPONSE")return;(i=this.listener)===null||i===void 0||i.handleWeb3ResponseMessage(c)}catch{(t=this.diagnostic)===null||t===void 0||t.log(l.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(n=>setTimeout(n,250));try{await this.fetchUnseenEventsAPI()}catch(n){console.error("Unable to check for unseen events",n)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(i=>this.handleIncomingEvent(i))}async setSessionMetadata(n,i){const t={type:"SetSessionConfig",id:(0,h.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[n]:i}};return this.setOnceConnected(async()=>{const s=await this.makeRequest(t);if(s.type==="Fail")throw new Error(s.error||"failed to set session metadata")})}async publishEvent(n,i,t=!1){const s=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},i),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),c={type:"PublishEvent",id:(0,h.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:n,data:s,callWebhook:t};return this.setOnceLinked(async()=>{const o=await this.makeRequest(c);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(n){this.ws.sendData(JSON.stringify(n))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>b*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(n,i=g){const t=n.id;this.sendData(n);let s;return Promise.race([new Promise((c,o)=>{s=window.setTimeout(()=>{o(new Error(`request ${t} timed out`))},i)}),new Promise(c=>{this.requestResolutions.set(t,o=>{clearTimeout(s),c(o),this.requestResolutions.delete(t)})})])}async authenticate(){const n={type:"HostSession",id:(0,h.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},i=await this.makeRequest(n);if(i.type==="Fail")throw new Error(i.error||"failed to authentcate")}sendIsLinked(){const n={type:"IsLinked",id:(0,h.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(n)}sendGetSessionConfig(){const n={type:"GetSessionConfig",id:(0,h.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(n)}};return be.WalletLinkConnection=v,be}var ve={},Q={},Pe={},Rt;function Bs(){return Rt||(Rt=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}'),Pe}var Mt;function hs(){if(Mt)return Q;Mt=1;var h=Q&&Q.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Q,"__esModule",{value:!0}),Q.injectCssReset=void 0;const m=h(Bs());function l(){const d=document.createElement("style");d.type="text/css",d.appendChild(document.createTextNode(m.default)),document.documentElement.appendChild(d)}return Q.injectCssReset=l,Q}var ye={},K={},H={},Ee={},At;function js(){if(At)return Ee;At=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.CloseIcon=void 0;const h=O;function m(l){return(0,h.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l),(0,h.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}return Ee.CloseIcon=m,Ee}var _e={},xt;function Fs(){if(xt)return _e;xt=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.CoinbaseWalletRound=void 0;const h=O;function m(l){return(0,h.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l),(0,h.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,h.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,h.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}return _e.CoinbaseWalletRound=m,_e}var ke={},Lt;function Ws(){if(Lt)return ke;Lt=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.QRCodeIcon=void 0;const h=O;function m(l){return(0,h.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},l),(0,h.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,h.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,h.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,h.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}return ke.QRCodeIcon=m,ke}var Y={},Qe,Nt;function Hs(){if(Nt)return Qe;Nt=1;function h(t){this.mode=l.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var s=0,c=this.data.length;s<c;s++){var o=[],e=this.data.charCodeAt(s);e>65536?(o[0]=240|(e&1835008)>>>18,o[1]=128|(e&258048)>>>12,o[2]=128|(e&4032)>>>6,o[3]=128|e&63):e>2048?(o[0]=224|(e&61440)>>>12,o[1]=128|(e&4032)>>>6,o[2]=128|e&63):e>128?(o[0]=192|(e&1984)>>>6,o[1]=128|e&63):o[0]=e,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}h.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var s=0,c=this.parsedData.length;s<c;s++)t.put(this.parsedData[s],8)}};function m(t,s){this.typeNumber=t,this.errorCorrectLevel=s,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}m.prototype={addData:function(t){var s=new h(t);this.dataList.push(s),this.dataCache=null},isDark:function(t,s){if(t<0||this.moduleCount<=t||s<0||this.moduleCount<=s)throw new Error(t+","+s);return this.modules[t][s]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,s){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[c][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,s),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=m.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,s)},setupPositionProbePattern:function(t,s){for(var c=-1;c<=7;c++)if(!(t+c<=-1||this.moduleCount<=t+c))for(var o=-1;o<=7;o++)s+o<=-1||this.moduleCount<=s+o||(0<=c&&c<=6&&(o==0||o==6)||0<=o&&o<=6&&(c==0||c==6)||2<=c&&c<=4&&2<=o&&o<=4?this.modules[t+c][s+o]=!0:this.modules[t+c][s+o]=!1)},getBestMaskPattern:function(){for(var t=0,s=0,c=0;c<8;c++){this.makeImpl(!0,c);var o=u.getLostPoint(this);(c==0||t>o)&&(t=o,s=c)}return s},createMovieClip:function(t,s,c){var o=t.createEmptyMovieClip(s,c),e=1;this.make();for(var r=0;r<this.modules.length;r++)for(var a=r*e,f=0;f<this.modules[r].length;f++){var y=f*e,k=this.modules[r][f];k&&(o.beginFill(0,100),o.moveTo(y,a),o.lineTo(y+e,a),o.lineTo(y+e,a+e),o.lineTo(y,a+e),o.endFill())}return o},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var s=8;s<this.moduleCount-8;s++)this.modules[6][s]==null&&(this.modules[6][s]=s%2==0)},setupPositionAdjustPattern:function(){for(var t=u.getPatternPosition(this.typeNumber),s=0;s<t.length;s++)for(var c=0;c<t.length;c++){var o=t[s],e=t[c];if(this.modules[o][e]==null)for(var r=-2;r<=2;r++)for(var a=-2;a<=2;a++)r==-2||r==2||a==-2||a==2||r==0&&a==0?this.modules[o+r][e+a]=!0:this.modules[o+r][e+a]=!1}},setupTypeNumber:function(t){for(var s=u.getBCHTypeNumber(this.typeNumber),c=0;c<18;c++){var o=!t&&(s>>c&1)==1;this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=o}for(var c=0;c<18;c++){var o=!t&&(s>>c&1)==1;this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=o}},setupTypeInfo:function(t,s){for(var c=this.errorCorrectLevel<<3|s,o=u.getBCHTypeInfo(c),e=0;e<15;e++){var r=!t&&(o>>e&1)==1;e<6?this.modules[e][8]=r:e<8?this.modules[e+1][8]=r:this.modules[this.moduleCount-15+e][8]=r}for(var e=0;e<15;e++){var r=!t&&(o>>e&1)==1;e<8?this.modules[8][this.moduleCount-e-1]=r:e<9?this.modules[8][15-e-1+1]=r:this.modules[8][15-e-1]=r}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,s){for(var c=-1,o=this.moduleCount-1,e=7,r=0,a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(var f=0;f<2;f++)if(this.modules[o][a-f]==null){var y=!1;r<t.length&&(y=(t[r]>>>e&1)==1);var k=u.getMask(s,o,a-f);k&&(y=!y),this.modules[o][a-f]=y,e--,e==-1&&(r++,e=7)}if(o+=c,o<0||this.moduleCount<=o){o-=c,c=-c;break}}}},m.PAD0=236,m.PAD1=17,m.createData=function(t,s,c){for(var o=v.getRSBlocks(t,s),e=new _,r=0;r<c.length;r++){var a=c[r];e.put(a.mode,4),e.put(a.getLength(),u.getLengthInBits(a.mode,t)),a.write(e)}for(var f=0,r=0;r<o.length;r++)f+=o[r].dataCount;if(e.getLengthInBits()>f*8)throw new Error("code length overflow. ("+e.getLengthInBits()+">"+f*8+")");for(e.getLengthInBits()+4<=f*8&&e.put(0,4);e.getLengthInBits()%8!=0;)e.putBit(!1);for(;!(e.getLengthInBits()>=f*8||(e.put(m.PAD0,8),e.getLengthInBits()>=f*8));)e.put(m.PAD1,8);return m.createBytes(e,o)},m.createBytes=function(t,s){for(var c=0,o=0,e=0,r=new Array(s.length),a=new Array(s.length),f=0;f<s.length;f++){var y=s[f].dataCount,k=s[f].totalCount-y;o=Math.max(o,y),e=Math.max(e,k),r[f]=new Array(y);for(var C=0;C<r[f].length;C++)r[f][C]=255&t.buffer[C+c];c+=y;var I=u.getErrorCorrectPolynomial(k),x=new g(r[f],I.getLength()-1),M=x.mod(I);a[f]=new Array(I.getLength()-1);for(var C=0;C<a[f].length;C++){var T=C+M.getLength()-a[f].length;a[f][C]=T>=0?M.get(T):0}}for(var D=0,C=0;C<s.length;C++)D+=s[C].totalCount;for(var F=new Array(D),j=0,C=0;C<o;C++)for(var f=0;f<s.length;f++)C<r[f].length&&(F[j++]=r[f][C]);for(var C=0;C<e;C++)for(var f=0;f<s.length;f++)C<a[f].length&&(F[j++]=a[f][C]);return F};for(var l={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},d={L:1,M:0,Q:3,H:2},p={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},u={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var s=t<<10;u.getBCHDigit(s)-u.getBCHDigit(u.G15)>=0;)s^=u.G15<<u.getBCHDigit(s)-u.getBCHDigit(u.G15);return(t<<10|s)^u.G15_MASK},getBCHTypeNumber:function(t){for(var s=t<<12;u.getBCHDigit(s)-u.getBCHDigit(u.G18)>=0;)s^=u.G18<<u.getBCHDigit(s)-u.getBCHDigit(u.G18);return t<<12|s},getBCHDigit:function(t){for(var s=0;t!=0;)s++,t>>>=1;return s},getPatternPosition:function(t){return u.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,s,c){switch(t){case p.PATTERN000:return(s+c)%2==0;case p.PATTERN001:return s%2==0;case p.PATTERN010:return c%3==0;case p.PATTERN011:return(s+c)%3==0;case p.PATTERN100:return(Math.floor(s/2)+Math.floor(c/3))%2==0;case p.PATTERN101:return s*c%2+s*c%3==0;case p.PATTERN110:return(s*c%2+s*c%3)%2==0;case p.PATTERN111:return(s*c%3+(s+c)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var s=new g([1],0),c=0;c<t;c++)s=s.multiply(new g([1,w.gexp(c)],0));return s},getLengthInBits:function(t,s){if(1<=s&&s<10)switch(t){case l.MODE_NUMBER:return 10;case l.MODE_ALPHA_NUM:return 9;case l.MODE_8BIT_BYTE:return 8;case l.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(s<27)switch(t){case l.MODE_NUMBER:return 12;case l.MODE_ALPHA_NUM:return 11;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(s<41)switch(t){case l.MODE_NUMBER:return 14;case l.MODE_ALPHA_NUM:return 13;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+s)},getLostPoint:function(t){for(var s=t.getModuleCount(),c=0,o=0;o<s;o++)for(var e=0;e<s;e++){for(var r=0,a=t.isDark(o,e),f=-1;f<=1;f++)if(!(o+f<0||s<=o+f))for(var y=-1;y<=1;y++)e+y<0||s<=e+y||f==0&&y==0||a==t.isDark(o+f,e+y)&&r++;r>5&&(c+=3+r-5)}for(var o=0;o<s-1;o++)for(var e=0;e<s-1;e++){var k=0;t.isDark(o,e)&&k++,t.isDark(o+1,e)&&k++,t.isDark(o,e+1)&&k++,t.isDark(o+1,e+1)&&k++,(k==0||k==4)&&(c+=3)}for(var o=0;o<s;o++)for(var e=0;e<s-6;e++)t.isDark(o,e)&&!t.isDark(o,e+1)&&t.isDark(o,e+2)&&t.isDark(o,e+3)&&t.isDark(o,e+4)&&!t.isDark(o,e+5)&&t.isDark(o,e+6)&&(c+=40);for(var e=0;e<s;e++)for(var o=0;o<s-6;o++)t.isDark(o,e)&&!t.isDark(o+1,e)&&t.isDark(o+2,e)&&t.isDark(o+3,e)&&t.isDark(o+4,e)&&!t.isDark(o+5,e)&&t.isDark(o+6,e)&&(c+=40);for(var C=0,e=0;e<s;e++)for(var o=0;o<s;o++)t.isDark(o,e)&&C++;var I=Math.abs(100*C/s/s-50)/5;return c+=I*10,c}},w={glog:function(t){if(t<1)throw new Error("glog("+t+")");return w.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return w.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},b=0;b<8;b++)w.EXP_TABLE[b]=1<<b;for(var b=8;b<256;b++)w.EXP_TABLE[b]=w.EXP_TABLE[b-4]^w.EXP_TABLE[b-5]^w.EXP_TABLE[b-6]^w.EXP_TABLE[b-8];for(var b=0;b<255;b++)w.LOG_TABLE[w.EXP_TABLE[b]]=b;function g(t,s){if(t.length==null)throw new Error(t.length+"/"+s);for(var c=0;c<t.length&&t[c]==0;)c++;this.num=new Array(t.length-c+s);for(var o=0;o<t.length-c;o++)this.num[o]=t[o+c]}g.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var s=new Array(this.getLength()+t.getLength()-1),c=0;c<this.getLength();c++)for(var o=0;o<t.getLength();o++)s[c+o]^=w.gexp(w.glog(this.get(c))+w.glog(t.get(o)));return new g(s,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var s=w.glog(this.get(0))-w.glog(t.get(0)),c=new Array(this.getLength()),o=0;o<this.getLength();o++)c[o]=this.get(o);for(var o=0;o<t.getLength();o++)c[o]^=w.gexp(w.glog(t.get(o))+s);return new g(c,0).mod(t)}};function v(t,s){this.totalCount=t,this.dataCount=s}v.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],v.getRSBlocks=function(t,s){var c=v.getRsBlockTable(t,s);if(c==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+s);for(var o=c.length/3,e=[],r=0;r<o;r++)for(var a=c[r*3+0],f=c[r*3+1],y=c[r*3+2],k=0;k<a;k++)e.push(new v(f,y));return e},v.getRsBlockTable=function(t,s){switch(s){case d.L:return v.RS_BLOCK_TABLE[(t-1)*4+0];case d.M:return v.RS_BLOCK_TABLE[(t-1)*4+1];case d.Q:return v.RS_BLOCK_TABLE[(t-1)*4+2];case d.H:return v.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function _(){this.buffer=[],this.length=0}_.prototype={get:function(t){var s=Math.floor(t/8);return(this.buffer[s]>>>7-t%8&1)==1},put:function(t,s){for(var c=0;c<s;c++)this.putBit((t>>>s-c-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),t&&(this.buffer[s]|=128>>>this.length%8),this.length++}};var n=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function i(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var s in t)this.options[s]=t[s];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function c(y){switch(y){case"L":return d.L;case"M":return d.M;case"Q":return d.Q;case"H":return d.H;default:throw new Error("Unknwon error correction level: "+y)}}function o(y,k){for(var C=e(y),I=1,x=0,M=0,T=n.length;M<=T;M++){var D=n[M];if(!D)throw new Error("Content too long: expected "+x+" but got "+C);switch(k){case"L":x=D[0];break;case"M":x=D[1];break;case"Q":x=D[2];break;case"H":x=D[3];break;default:throw new Error("Unknwon error correction level: "+k)}if(C<=x)break;I++}if(I>n.length)throw new Error("Content too long");return I}function e(y){var k=encodeURI(y).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return k.length+(k.length!=y?3:0)}var r=this.options.content,a=o(r,this.options.ecl),f=c(this.options.ecl);this.qrcode=new m(a,f),this.qrcode.addData(r),this.qrcode.make()}return i.prototype.svg=function(t){var s=this.options||{},c=this.qrcode.modules;typeof t>"u"&&(t={container:s.container||"svg"});for(var o=typeof s.pretty<"u"?!!s.pretty:!0,e=o?"  ":"",r=o?`\r
`:"",a=s.width,f=s.height,y=c.length,k=a/(y+2*s.padding),C=f/(y+2*s.padding),I=typeof s.join<"u"?!!s.join:!1,x=typeof s.swap<"u"?!!s.swap:!1,M=typeof s.xmlDeclaration<"u"?!!s.xmlDeclaration:!0,T=typeof s.predefined<"u"?!!s.predefined:!1,D=T?e+'<defs><path id="qrmodule" d="M0 0 h'+C+" v"+k+' H0 z" style="fill:'+s.color+';shape-rendering:crispEdges;" /></defs>'+r:"",F=e+'<rect x="0" y="0" width="'+a+'" height="'+f+'" style="fill:'+s.background+';shape-rendering:crispEdges;"/>'+r,j="",Ne="",E=0;E<y;E++)for(var R=0;R<y;R++){var L=c[R][E];if(L){var A=R*k+s.padding*k,B=E*C+s.padding*C;if(x){var ze=A;A=B,B=ze}if(I){var V=k+A,z=C+B;A=Number.isInteger(A)?Number(A):A.toFixed(2),B=Number.isInteger(B)?Number(B):B.toFixed(2),V=Number.isInteger(V)?Number(V):V.toFixed(2),z=Number.isInteger(z)?Number(z):z.toFixed(2),Ne+="M"+A+","+B+" V"+z+" H"+V+" V"+B+" H"+A+" Z "}else T?j+=e+'<use x="'+A.toString()+'" y="'+B.toString()+'" href="#qrmodule" />'+r:j+=e+'<rect x="'+A.toString()+'" y="'+B.toString()+'" width="'+k+'" height="'+C+'" style="fill:'+s.color+';shape-rendering:crispEdges;"/>'+r}}I&&(j=e+'<path x="0" y="0" style="fill:'+s.color+';shape-rendering:crispEdges;" d="'+Ne+'" />');let q="";if(this.options.image!==void 0&&this.options.image.svg){const ot=a*this.options.image.width/100,at=f*this.options.image.height/100,ys=a/2-ot/2,Es=f/2-at/2;q+=`<svg x="${ys}" y="${Es}" width="${ot}" height="${at}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,q+=this.options.image.svg+r,q+="</svg>"}var P="";switch(t.container){case"svg":M&&(P+='<?xml version="1.0" standalone="yes"?>'+r),P+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+a+'" height="'+f+'">'+r,P+=D+F+j,P+=q,P+="</svg>";break;case"svg-viewbox":M&&(P+='<?xml version="1.0" standalone="yes"?>'+r),P+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+a+" "+f+'">'+r,P+=D+F+j,P+=q,P+="</svg>";break;case"g":P+='<g width="'+a+'" height="'+f+'">'+r,P+=D+F+j,P+=q,P+="</g>";break;default:P+=(D+F+j+q).replace(/^\s+/,"");break}return P},Qe=i,Qe}var Pt;function Us(){if(Pt)return Y;Pt=1;var h=Y&&Y.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Y,"__esModule",{value:!0}),Y.QRCode=void 0;const m=O,l=He,d=h(Hs()),p=u=>{const[w,b]=(0,l.useState)("");return(0,l.useEffect)(()=>{var g,v;const _=new d.default({content:u.content,background:u.bgColor||"#ffffff",color:u.fgColor||"#000000",container:"svg",ecl:"M",width:(g=u.width)!==null&&g!==void 0?g:256,height:(v=u.height)!==null&&v!==void 0?v:256,padding:0,image:u.image}),n=Buffer.from(_.svg(),"utf8").toString("base64");b(`data:image/svg+xml;base64,${n}`)},[u.bgColor,u.content,u.fgColor,u.height,u.image,u.width]),w?(0,m.h)("img",{src:w,alt:"QR Code"}):null};return Y.QRCode=p,Y}var J={},Te={},Tt;function qs(){return Tt||(Tt=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}"),Te}var Dt;function Vs(){if(Dt)return J;Dt=1;var h=J&&J.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(J,"__esModule",{value:!0}),J.Spinner=void 0;const m=O,l=h(qs()),d=p=>{var u;const w=(u=p.size)!==null&&u!==void 0?u:64,b=p.color||"#000";return(0,m.h)("div",{class:"-cbwsdk-spinner"},(0,m.h)("style",null,l.default),(0,m.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:w,height:w}},(0,m.h)("circle",{style:{cx:50,cy:50,r:45,stroke:b}})))};return J.Spinner=d,J}var De={},Ot;function zs(){return Ot||(Ot=1,Object.defineProperty(De,"__esModule",{value:!0}),De.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}"),De}var Bt;function $s(){if(Bt)return H;Bt=1;var h=H&&H.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(H,"__esModule",{value:!0}),H.CoinbaseWalletSteps=H.ConnectContent=void 0;const m=h(Le),l=O,d=U(),p=st(),u=js(),w=Fs(),b=Ws(),g=Us(),v=Vs(),_=h(zs()),n={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:c},i=o=>o==="light"?"#FFFFFF":"#0A0B0D";function t(o){const{theme:e}=o,r=(0,d.createQrUrl)(o.sessionId,o.sessionSecret,o.linkAPIUrl,o.isParentConnection,o.version,o.chainId),a=n.steps;return(0,l.h)("div",{"data-testid":"connect-content",className:(0,m.default)("-cbwsdk-connect-content",e)},(0,l.h)("style",null,_.default),(0,l.h)("div",{className:"-cbwsdk-connect-content-header"},(0,l.h)("h2",{className:(0,m.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with our mobile app"),o.onCancel&&(0,l.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:o.onCancel},(0,l.h)(u.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,l.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,l.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,l.h)(s,{title:n.title,description:n.description,theme:e})),(0,l.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,l.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,l.h)(g.QRCode,{content:r,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,l.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:p.LIB_VERSION}),(0,l.h)("input",{type:"hidden",value:r})),(0,l.h)(a,{theme:e}),!o.isConnected&&(0,l.h)("div",{"data-testid":"connecting-spinner",className:(0,m.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,l.h)(v.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,l.h)("p",null,"Connecting...")))))}H.ConnectContent=t;function s({title:o,description:e,theme:r}){return(0,l.h)("div",{className:(0,m.default)("-cbwsdk-connect-item",r)},(0,l.h)("div",null,(0,l.h)(w.CoinbaseWalletRound,null)),(0,l.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,l.h)("h3",{className:"-cbwsdk-connect-item-title"},o),(0,l.h)("p",{className:"-cbwsdk-connect-item-description"},e)))}function c({theme:o}){return(0,l.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,l.h)("li",{className:(0,m.default)("-cbwsdk-wallet-steps-item",o)},(0,l.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,l.h)("li",{className:(0,m.default)("-cbwsdk-wallet-steps-item",o)},(0,l.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,l.h)("span",null,"Tap ",(0,l.h)("strong",null,"Scan")," "),(0,l.h)("span",{className:(0,m.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",o)},(0,l.h)(b.QRCodeIcon,{fill:i(o)})))))}return H.CoinbaseWalletSteps=c,H}var X={},Ce={},jt;function Zs(){if(jt)return Ce;jt=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.ArrowLeftIcon=void 0;const h=O;function m(l){return(0,h.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},l),(0,h.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}return Ce.ArrowLeftIcon=m,Ce}var Se={},Ft;function Gs(){if(Ft)return Se;Ft=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.LaptopIcon=void 0;const h=O;function m(l){return(0,h.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},l),(0,h.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,h.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}return Se.LaptopIcon=m,Se}var Ie={},Wt;function Qs(){if(Wt)return Ie;Wt=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.SafeIcon=void 0;const h=O;function m(l){return(0,h.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},l),(0,h.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}return Ie.SafeIcon=m,Ie}var Oe={},Ht;function Ks(){return Ht||(Ht=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}"),Oe}var Ut;function Ys(){if(Ut)return X;Ut=1;var h=X&&X.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(X,"__esModule",{value:!0}),X.TryExtensionContent=void 0;const m=h(Le),l=O,d=He,p=Zs(),u=Gs(),w=Qs(),b=h(Ks());function g({theme:v}){const[_,n]=(0,d.useState)(!1),i=(0,d.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),t=(0,d.useCallback)(()=>{_?window.location.reload():(i(),n(!0))},[i,_]);return(0,l.h)("div",{class:(0,m.default)("-cbwsdk-try-extension",v)},(0,l.h)("style",null,b.default),(0,l.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,l.h)("h3",{class:(0,m.default)("-cbwsdk-try-extension-heading",v)},"Or try the Coinbase Wallet browser extension"),(0,l.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,l.h)("button",{class:(0,m.default)("-cbwsdk-try-extension-cta",v),onClick:t},_?"Refresh":"Install"),(0,l.h)("div",null,!_&&(0,l.h)(p.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:v==="light"?"#0052FF":"#588AF5"})))),(0,l.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,l.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,l.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,l.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,l.h)("span",{class:(0,m.default)("-cbwsdk-try-extension-list-item-icon",v)},(0,l.h)(u.LaptopIcon,{fill:v==="light"?"#0A0B0D":"#FFFFFF"}))),(0,l.h)("div",{class:(0,m.default)("-cbwsdk-try-extension-list-item-copy",v)},"Connect with dapps with just one click on your desktop browser")),(0,l.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,l.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,l.h)("span",{class:(0,m.default)("-cbwsdk-try-extension-list-item-icon",v)},(0,l.h)(w.SafeIcon,{fill:v==="light"?"#0A0B0D":"#FFFFFF"}))),(0,l.h)("div",{class:(0,m.default)("-cbwsdk-try-extension-list-item-copy",v)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}return X.TryExtensionContent=g,X}var Be={},qt;function Js(){return qt||(qt=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}"),Be}var Vt;function Xs(){if(Vt)return K;Vt=1;var h=K&&K.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(K,"__esModule",{value:!0}),K.ConnectDialog=void 0;const m=h(Le),l=O,d=He,p=$s(),u=Ys(),w=h(Js()),b=g=>{const{isOpen:v,darkMode:_}=g,[n,i]=(0,d.useState)(!v),[t,s]=(0,d.useState)(!v);(0,d.useEffect)(()=>{const o=[window.setTimeout(()=>{s(!v)},10)];return v?i(!1):o.push(window.setTimeout(()=>{i(!0)},360)),()=>{o.forEach(window.clearTimeout)}},[v]);const c=_?"dark":"light";return(0,l.h)("div",{class:(0,m.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,l.h)("style",null,w.default),(0,l.h)("div",{class:(0,m.default)("-cbwsdk-connect-dialog-backdrop",c,t&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,l.h)("div",{class:"-cbwsdk-connect-dialog"},(0,l.h)("div",{class:(0,m.default)("-cbwsdk-connect-dialog-box",t&&"-cbwsdk-connect-dialog-box-hidden")},g.connectDisabled?null:(0,l.h)(p.ConnectContent,{theme:c,version:g.version,sessionId:g.sessionId,sessionSecret:g.sessionSecret,linkAPIUrl:g.linkAPIUrl,isConnected:g.isConnected,isParentConnection:g.isParentConnection,chainId:g.chainId,onCancel:g.onCancel}),(0,l.h)(u.TryExtensionContent,{theme:c}))))};return K.ConnectDialog=b,K}var zt;function en(){if(zt)return ye;zt=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.LinkFlow=void 0;const h=O,m=Xs();let l=class{constructor(p){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=p.darkMode,this.version=p.version,this.sessionId=p.sessionId,this.sessionSecret=p.sessionSecret,this.linkAPIUrl=p.linkAPIUrl,this.isParentConnection=p.isParentConnection}attach(p){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",p.appendChild(this.root),this.render()}setConnected(p){this.connected!==p&&(this.connected=p,this.render())}setChainId(p){this.chainId!==p&&(this.chainId=p,this.render())}detach(){var p;this.root&&((0,h.render)(null,this.root),(p=this.root.parentElement)===null||p===void 0||p.removeChild(this.root))}setConnectDisabled(p){this.connectDisabled=p}open(p){this.isOpen=!0,this.onCancel=p.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,h.render)((0,h.h)(m.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}};return ye.LinkFlow=l,ye}var Re={},je={},$t;function tn(){return $t||($t=1,Object.defineProperty(je,"__esModule",{value:!0}),je.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"),je}var Zt;function fs(){return Zt||(Zt=1,(function(h){var m=Re&&Re.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(h,"__esModule",{value:!0}),h.SnackbarInstance=h.SnackbarContainer=h.Snackbar=void 0;const l=m(Le),d=O,p=He,u=m(tn()),w="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",b="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class g{constructor(i){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=i.darkMode}attach(i){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",i.appendChild(this.root),this.render()}presentItem(i){const t=this.nextItemKey++;return this.items.set(t,i),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,d.render)((0,d.h)("div",null,(0,d.h)(h.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([i,t])=>(0,d.h)(h.SnackbarInstance,Object.assign({},t,{key:i}))))),this.root)}}h.Snackbar=g;const v=n=>(0,d.h)("div",{class:(0,l.default)("-cbwsdk-snackbar-container")},(0,d.h)("style",null,u.default),(0,d.h)("div",{class:"-cbwsdk-snackbar"},n.children));h.SnackbarContainer=v;const _=({autoExpand:n,message:i,menuItems:t})=>{const[s,c]=(0,p.useState)(!0),[o,e]=(0,p.useState)(n??!1);(0,p.useEffect)(()=>{const a=[window.setTimeout(()=>{c(!1)},1),window.setTimeout(()=>{e(!0)},1e4)];return()=>{a.forEach(window.clearTimeout)}});const r=()=>{e(!o)};return(0,d.h)("div",{class:(0,l.default)("-cbwsdk-snackbar-instance",s&&"-cbwsdk-snackbar-instance-hidden",o&&"-cbwsdk-snackbar-instance-expanded")},(0,d.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:r},(0,d.h)("img",{src:w,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,d.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},i),(0,d.h)("div",{class:"-gear-container"},!o&&(0,d.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,d.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,d.h)("img",{src:b,class:"-gear-icon",title:"Expand"}))),t&&t.length>0&&(0,d.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},t.map((a,f)=>(0,d.h)("div",{class:(0,l.default)("-cbwsdk-snackbar-instance-menu-item",a.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:a.onClick,key:f},(0,d.h)("svg",{width:a.svgWidth,height:a.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,d.h)("path",{"fill-rule":a.defaultFillRule,"clip-rule":a.defaultClipRule,d:a.path,fill:"#AAAAAA"})),(0,d.h)("span",{class:(0,l.default)("-cbwsdk-snackbar-instance-menu-item-info",a.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},a.info)))))};h.SnackbarInstance=_})(Re)),Re}var Gt;function gs(){if(Gt)return ve;Gt=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.WalletLinkRelayUI=void 0;const h=hs(),m=en(),l=fs();let d=class{constructor(u){this.standalone=null,this.attached=!1,this.snackbar=new l.Snackbar({darkMode:u.darkMode}),this.linkFlow=new m.LinkFlow({darkMode:u.darkMode,version:u.version,sessionId:u.session.id,sessionSecret:u.session.secret,linkAPIUrl:u.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const u=document.documentElement,w=document.createElement("div");w.className="-cbwsdk-css-reset",u.appendChild(w),this.linkFlow.attach(w),this.snackbar.attach(w),this.attached=!0,(0,h.injectCssReset)()}setConnected(u){this.linkFlow.setConnected(u)}setChainId(u){this.linkFlow.setChainId(u)}setConnectDisabled(u){this.linkFlow.setConnectDisabled(u)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(u){this.linkFlow.open({onCancel:u.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(u){let w;return u.isUnlinkedErrorState?w={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:u.onResetConnection}]}:w={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:u.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:u.onResetConnection}]},this.snackbar.presentItem(w)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(u){this.standalone=u}isStandalone(){var u;return(u=this.standalone)!==null&&u!==void 0?u:!1}};return ve.WalletLinkRelayUI=d,ve}var Qt;function ps(){if(Qt)return fe;Qt=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.WalletLinkRelay=void 0;const h=qe(),m=Ve(),l=U(),d=nt(),p=rt(),u=it(),w=Os(),b=tt(),g=gs();let v=class ne extends p.RelayAbstract{constructor(n){var i;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=o=>{var e;this.isLinked=o;const r=this.storage.getItem(p.LOCAL_STORAGE_ADDRESSES_KEY);if(o&&(this.session.linked=o),this.isUnlinkedErrorState=!1,r){const a=r.split(" "),f=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!o&&this.session.linked&&!f){this.isUnlinkedErrorState=!0;const y=this.getSessionIdHash();(e=this.diagnostic)===null||e===void 0||e.log(d.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:y})}}},this.metadataUpdated=(o,e)=>{this.storage.setItem(o,e)},this.chainUpdated=(o,e)=>{this.chainCallbackParams.chainId===o&&this.chainCallbackParams.jsonRpcUrl===e||(this.chainCallbackParams={chainId:o,jsonRpcUrl:e},this.chainCallback&&this.chainCallback(o,e))},this.accountUpdated=o=>{this.accountsCallback&&this.accountsCallback([o]),ne.accountRequestCallbackIds.size>0&&(Array.from(ne.accountRequestCallbackIds.values()).forEach(e=>{const r={type:"WEB3_RESPONSE",id:e,response:{method:"requestEthereumAccounts",result:[o]}};this.invokeCallback(Object.assign(Object.assign({},r),{id:e}))}),ne.accountRequestCallbackIds.clear())},this.connectedUpdated=o=>{this.ui.setConnected(o)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=n.linkAPIUrl,this.storage=n.storage,this.options=n;const{session:t,ui:s,connection:c}=this.subscribe();this._session=t,this.connection=c,this.relayEventManager=n.relayEventManager,this.diagnostic=n.diagnosticLogger,this._reloadOnDisconnect=(i=n.reloadOnDisconnect)!==null&&i!==void 0?i:!0,this.ui=s}subscribe(){const n=u.Session.load(this.storage)||new u.Session(this.storage).save(),{linkAPIUrl:i,diagnostic:t}=this,s=new w.WalletLinkConnection({session:n,linkAPIUrl:i,diagnostic:t,listener:this}),{version:c,darkMode:o}=this.options,e=this.options.uiConstructor({linkAPIUrl:i,version:c,darkMode:o,session:n});return s.connect(),{session:n,ui:e,connection:s}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(n=>setTimeout(()=>n(null),1e3))]).then(()=>{var n,i;const t=this.ui.isStandalone();(n=this.diagnostic)===null||n===void 0||n.log(d.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const s=u.Session.load(this.storage);if(s?.id===this._session.id?this.storage.clear():s&&((i=this.diagnostic)===null||i===void 0||i.log(d.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:u.Session.hash(s.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:c,ui:o,connection:e}=this.subscribe();this._session=c,this.connection=e,this.ui=o,t&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.options.headlessMode||this.attachUI()}).catch(n=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(d.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${n}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(n,i){this.appName=n,this.appLogoUrl=i}getStorageItem(n){return this.storage.getItem(n)}get session(){return this._session}setStorageItem(n,i){this.storage.setItem(n,i)}signEthereumMessage(n,i,t,s){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,l.hexStringFromBuffer)(n,!0),address:i,addPrefix:t,typedDataJson:s||null}})}ethereumAddressFromSignedMessage(n,i,t){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,l.hexStringFromBuffer)(n,!0),signature:(0,l.hexStringFromBuffer)(i,!0),addPrefix:t}})}signEthereumTransaction(n){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:n.fromAddress,toAddress:n.toAddress,weiValue:(0,l.bigIntStringFromBN)(n.weiValue),data:(0,l.hexStringFromBuffer)(n.data,!0),nonce:n.nonce,gasPriceInWei:n.gasPriceInWei?(0,l.bigIntStringFromBN)(n.gasPriceInWei):null,maxFeePerGas:n.gasPriceInWei?(0,l.bigIntStringFromBN)(n.gasPriceInWei):null,maxPriorityFeePerGas:n.gasPriceInWei?(0,l.bigIntStringFromBN)(n.gasPriceInWei):null,gasLimit:n.gasLimit?(0,l.bigIntStringFromBN)(n.gasLimit):null,chainId:n.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(n){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:n.fromAddress,toAddress:n.toAddress,weiValue:(0,l.bigIntStringFromBN)(n.weiValue),data:(0,l.hexStringFromBuffer)(n.data,!0),nonce:n.nonce,gasPriceInWei:n.gasPriceInWei?(0,l.bigIntStringFromBN)(n.gasPriceInWei):null,maxFeePerGas:n.maxFeePerGas?(0,l.bigIntStringFromBN)(n.maxFeePerGas):null,maxPriorityFeePerGas:n.maxPriorityFeePerGas?(0,l.bigIntStringFromBN)(n.maxPriorityFeePerGas):null,gasLimit:n.gasLimit?(0,l.bigIntStringFromBN)(n.gasLimit):null,chainId:n.chainId,shouldSubmit:!0}})}submitEthereumTransaction(n,i){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,l.hexStringFromBuffer)(n,!0),chainId:i}})}scanQRCode(n){return this.sendRequest({method:"scanQRCode",params:{regExp:n}})}getQRCodeUrl(){return(0,l.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(n,i){return this.sendRequest({method:"generic",params:{action:i,data:n}})}sendGenericMessage(n){return this.sendRequest(n)}sendRequest(n){let i=null;const t=(0,l.randomBytesHex)(8),s=o=>{this.publishWeb3RequestCanceledEvent(t),this.handleErrorResponse(t,n.method,o),i?.()};return{promise:new Promise((o,e)=>{this.ui.isStandalone()||(i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:s,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(t,r=>{if(i?.(),(0,b.isErrorResponse)(r))return e(new Error(r.errorMessage));o(r)}),this.ui.isStandalone()?this.sendRequestStandalone(t,n):this.publishWeb3RequestEvent(t,n)}),cancel:s}}setConnectDisabled(n){this.ui.setConnectDisabled(n)}setAccountsCallback(n){this.accountsCallback=n}setChainCallback(n){this.chainCallback=n}setDappDefaultChainCallback(n){this.dappDefaultChain=n,this.ui instanceof g.WalletLinkRelayUI&&this.ui.setChainId(n)}publishWeb3RequestEvent(n,i){var t;const s={type:"WEB3_REQUEST",id:n,request:i},c=u.Session.load(this.storage);(t=this.diagnostic)===null||t===void 0||t.log(d.EVENTS.WEB3_REQUEST,{eventId:s.id,method:`relay::${i.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:c?u.Session.hash(c.id):"",isSessionMismatched:(c?.id!==this._session.id).toString()}),this.publishEvent("Web3Request",s,!0).then(o=>{var e;(e=this.diagnostic)===null||e===void 0||e.log(d.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:s.id,method:`relay::${i.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:c?u.Session.hash(c.id):"",isSessionMismatched:(c?.id!==this._session.id).toString()})}).catch(o=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s.id,response:{method:i.method,errorMessage:o.message}})})}publishWeb3RequestCanceledEvent(n){const i={type:"WEB3_REQUEST_CANCELED",id:n};this.publishEvent("Web3RequestCanceled",i,!1).then()}publishEvent(n,i,t){return this.connection.publishEvent(n,i,t)}handleWeb3ResponseMessage(n){var i;const{response:t}=n;if((i=this.diagnostic)===null||i===void 0||i.log(d.EVENTS.WEB3_RESPONSE,{eventId:n.id,method:`relay::${t.method}`,sessionIdHash:this.getSessionIdHash()}),t.method==="requestEthereumAccounts"){ne.accountRequestCallbackIds.forEach(s=>this.invokeCallback(Object.assign(Object.assign({},n),{id:s}))),ne.accountRequestCallbackIds.clear();return}this.invokeCallback(n)}handleErrorResponse(n,i,t,s){var c;const o=(c=t?.message)!==null&&c!==void 0?c:(0,h.getMessageFromCode)(s);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:i,errorMessage:o,errorCode:s}})}invokeCallback(n){const i=this.relayEventManager.callbacks.get(n.id);i&&(i(n.response),this.relayEventManager.callbacks.delete(n.id))}requestEthereumAccounts(){const n={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},i=(0,l.randomBytesHex)(8),t=c=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,c)};return{promise:new Promise((c,o)=>{if(this.relayEventManager.callbacks.set(i,e=>{if(this.ui.hideRequestEthereumAccounts(),(0,b.isErrorResponse)(e))return o(new Error(e.errorMessage));c(e)}),this.ui.inlineAccountsResponse()){const e=r=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"requestEthereumAccounts",result:r}})};this.ui.requestEthereumAccounts({onCancel:t,onAccounts:e})}else{const e=h.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>t(e)})}ne.accountRequestCallbackIds.add(i),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:t}}selectProvider(n){const i={method:"selectProvider"},t=(0,l.randomBytesHex)(8),s=o=>{this.publishWeb3RequestCanceledEvent(t),this.handleErrorResponse(t,i.method,o)},c=new Promise((o,e)=>{this.relayEventManager.callbacks.set(t,f=>{if((0,b.isErrorResponse)(f))return e(new Error(f.errorMessage));o(f)});const r=f=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:"selectProvider",result:m.ProviderType.Unselected}})},a=f=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:"selectProvider",result:f}})};this.ui.selectProvider&&this.ui.selectProvider({onApprove:a,onCancel:r,providerOptions:n})});return{cancel:s,promise:c}}watchAsset(n,i,t,s,c,o){const e={method:"watchAsset",params:{type:n,options:{address:i,symbol:t,decimals:s,image:c},chainId:o}};let r=null;const a=(0,l.randomBytesHex)(8),f=k=>{this.publishWeb3RequestCanceledEvent(a),this.handleErrorResponse(a,e.method,k),r?.()};this.ui.inlineWatchAsset()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:f,onResetConnection:this.resetAndReload}));const y=new Promise((k,C)=>{this.relayEventManager.callbacks.set(a,M=>{if(r?.(),(0,b.isErrorResponse)(M))return C(new Error(M.errorMessage));k(M)});const I=M=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:a,response:{method:"watchAsset",result:!1}})},x=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:a,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:x,onCancel:I,type:n,address:i,symbol:t,decimals:s,image:c,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(a,e)});return{cancel:f,promise:y}}addEthereumChain(n,i,t,s,c,o){const e={method:"addEthereumChain",params:{chainId:n,rpcUrls:i,blockExplorerUrls:s,chainName:c,iconUrls:t,nativeCurrency:o}};let r=null;const a=(0,l.randomBytesHex)(8),f=k=>{this.publishWeb3RequestCanceledEvent(a),this.handleErrorResponse(a,e.method,k),r?.()};return this.ui.inlineAddEthereumChain(n)||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:f,onResetConnection:this.resetAndReload})),{promise:new Promise((k,C)=>{this.relayEventManager.callbacks.set(a,M=>{if(r?.(),(0,b.isErrorResponse)(M))return C(new Error(M.errorMessage));k(M)});const I=M=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:a,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},x=M=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:a,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:M}}})};this.ui.inlineAddEthereumChain(n)&&this.ui.addEthereumChain({onCancel:I,onApprove:x,chainId:e.params.chainId,rpcUrls:e.params.rpcUrls,blockExplorerUrls:e.params.blockExplorerUrls,chainName:e.params.chainName,iconUrls:e.params.iconUrls,nativeCurrency:e.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(n)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(a,e)}),cancel:f}}switchEthereumChain(n,i){const t={method:"switchEthereumChain",params:Object.assign({chainId:n},{address:i})},s=(0,l.randomBytesHex)(8),c=e=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,t.method,e)};return{promise:new Promise((e,r)=>{this.relayEventManager.callbacks.set(s,y=>{if((0,b.isErrorResponse)(y)&&y.errorCode)return r(h.standardErrors.provider.custom({code:y.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,b.isErrorResponse)(y))return r(new Error(y.errorMessage));e(y)});const a=y=>{var k;if(y){const C=(k=(0,h.getErrorCode)(y))!==null&&k!==void 0?k:h.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(s,"switchEthereumChain",y instanceof Error?y:h.standardErrors.provider.unsupportedChain(n),C)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},f=y=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:y}}})};this.ui.switchEthereumChain({onCancel:a,onApprove:f,chainId:t.params.chainId,address:t.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(s,t)}),cancel:c}}inlineAddEthereumChain(n){return this.ui.inlineAddEthereumChain(n)}getSessionIdHash(){return u.Session.hash(this._session.id)}sendRequestStandalone(n,i){const t=c=>{this.handleErrorResponse(n,i.method,c)},s=c=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:c})};switch(i.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:i,onSuccess:s,onCancel:t});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:i,onSuccess:s,onCancel:t});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:i,onSuccess:s,onCancel:t});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:i,onSuccess:s});break;default:t();break}}};return fe.WalletLinkRelay=v,v.accountRequestCallbackIds=new Set,fe}var Me={},ee={},te={},Kt;function sn(){return Kt||(Kt=1,(function(h){var m=te&&te.__createBinding||(Object.create?(function(d,p,u,w){w===void 0&&(w=u);var b=Object.getOwnPropertyDescriptor(p,u);(!b||("get"in b?!p.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return p[u]}}),Object.defineProperty(d,w,b)}):(function(d,p,u,w){w===void 0&&(w=u),d[w]=p[u]})),l=te&&te.__exportStar||function(d,p){for(var u in d)u!=="default"&&!Object.prototype.hasOwnProperty.call(p,u)&&m(p,d,u)};Object.defineProperty(h,"__esModule",{value:!0}),l(fs(),h)})(te)),te}var Fe={},Yt;function nn(){return Yt||(Yt=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}"),Fe}var Jt;function rn(){if(Jt)return ee;Jt=1;var h=ee&&ee.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(ee,"__esModule",{value:!0}),ee.RedirectDialog=void 0;const m=h(Le),l=O,d=hs(),p=sn(),u=h(nn());let w=class{constructor(){this.root=null}attach(){const v=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",v.appendChild(this.root),(0,d.injectCssReset)()}present(v){this.render(v)}clear(){this.render(null)}render(v){this.root&&((0,l.render)(null,this.root),v&&(0,l.render)((0,l.h)(b,Object.assign({},v,{onDismiss:()=>{this.clear()}})),this.root))}};ee.RedirectDialog=w;const b=({title:g,buttonText:v,darkMode:_,onButtonClick:n,onDismiss:i})=>{const t=_?"dark":"light";return(0,l.h)(p.SnackbarContainer,{darkMode:_},(0,l.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,l.h)("style",null,u.default),(0,l.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,l.h)("div",{class:(0,m.default)("-cbwsdk-redirect-dialog-box",t)},(0,l.h)("p",null,g),(0,l.h)("button",{onClick:n},v))))};return ee}var Xt;function bs(){if(Xt)return Me;Xt=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.MobileRelayUI=void 0;const h=rn();let m=class{constructor(d){this.attached=!1,this.darkMode=!1,this.redirectDialog=new h.RedirectDialog,this.darkMode=d.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(d){}redirectToCoinbaseWallet(d){const p=new URL("https://go.cb-w.com/walletlink");p.searchParams.append("redirect_url",window.location.href),d&&p.searchParams.append("wl_url",d);const u=document.createElement("a");u.target="cbw-opener",u.href=p.href,u.rel="noreferrer noopener",u.click()}openCoinbaseWalletDeeplink(d){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(d)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(d)},99)}showConnecting(d){return()=>{this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}};return Me.MobileRelayUI=m,Me}var es;function ms(){if(es)return he;es=1,Object.defineProperty(he,"__esModule",{value:!0}),he.MobileRelay=void 0;const h=U(),m=ps(),l=bs();let d=class extends m.WalletLinkRelay{constructor(u){var w;super(u),this._enableMobileWalletLink=(w=u.enableMobileWalletLink)!==null&&w!==void 0?w:!1}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{const u=(0,h.getLocation)();u.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(u.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(u,w){if(super.publishWeb3RequestEvent(u,w),!(this._enableMobileWalletLink&&this.ui instanceof l.MobileRelayUI))return;let b=!1;switch(w.method){case"requestEthereumAccounts":case"connectAndSignIn":b=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:b=!0,this.ui.openCoinbaseWalletDeeplink();break}b&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(u){super.handleWeb3ResponseMessage(u)}connectAndSignIn(u){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:u.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:u.statement,resources:u.resources}})}};return he.MobileRelay=d,he}var Ke,ts;function ws(){if(ts)return Ke;ts=1;const h=Ss(),m=We();function l(n){return Buffer.allocUnsafe(n).fill(0)}function d(n,i,t){const s=l(i);return n=u(n),t?n.length<i?(n.copy(s),s):n.slice(0,i):n.length<i?(n.copy(s,i-n.length),s):n.slice(-i)}function p(n,i){return d(n,i,!0)}function u(n){if(!Buffer.isBuffer(n))if(Array.isArray(n))n=Buffer.from(n);else if(typeof n=="string")v(n)?n=Buffer.from(g(_(n)),"hex"):n=Buffer.from(n);else if(typeof n=="number")n=intToBuffer(n);else if(n==null)n=Buffer.allocUnsafe(0);else if(m.isBN(n))n=n.toArrayLike(Buffer);else if(n.toArray)n=Buffer.from(n.toArray());else throw new Error("invalid type");return n}function w(n){return n=u(n),"0x"+n.toString("hex")}function b(n,i){return n=u(n),i||(i=256),h("keccak"+i).update(n).digest()}function g(n){return n.length%2?"0"+n:n}function v(n){return typeof n=="string"&&n.match(/^0x[0-9A-Fa-f]*$/)}function _(n){return typeof n=="string"&&n.startsWith("0x")?n.slice(2):n}return Ke={zeros:l,setLength:d,setLengthRight:p,isHexString:v,stripHexPrefix:_,toBuffer:u,bufferToHex:w,keccak:b},Ke}var Ye,ss;function on(){if(ss)return Ye;ss=1;const h=ws(),m=We();function l(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function d(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function p(t){var s=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(s[1],10),parseInt(s[2],10)]}function u(t){var s=t.match(/(.*)\[(.*?)\]$/);return s?s[2]===""?"dynamic":parseInt(s[2],10):null}function w(t){var s=typeof t;if(s==="string")return h.isHexString(t)?new m(h.stripHexPrefix(t),16):new m(t,10);if(s==="number")return new m(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function b(t,s){var c,o,e,r;if(t==="address")return b("uint160",w(s));if(t==="bool")return b("uint8",s?1:0);if(t==="string")return b("bytes",new Buffer(s,"utf8"));if(v(t)){if(typeof s.length>"u")throw new Error("Not an array?");if(c=u(t),c!=="dynamic"&&c!==0&&s.length>c)throw new Error("Elements exceed array size: "+c);e=[],t=t.slice(0,t.lastIndexOf("[")),typeof s=="string"&&(s=JSON.parse(s));for(r in s)e.push(b(t,s[r]));if(c==="dynamic"){var a=b("uint256",s.length);e.unshift(a)}return Buffer.concat(e)}else{if(t==="bytes")return s=new Buffer(s),e=Buffer.concat([b("uint256",s.length),s]),s.length%32!==0&&(e=Buffer.concat([e,h.zeros(32-s.length%32)])),e;if(t.startsWith("bytes")){if(c=d(t),c<1||c>32)throw new Error("Invalid bytes<N> width: "+c);return h.setLengthRight(s,32)}else if(t.startsWith("uint")){if(c=d(t),c%8||c<8||c>256)throw new Error("Invalid uint<N> width: "+c);if(o=w(s),o.bitLength()>c)throw new Error("Supplied uint exceeds width: "+c+" vs "+o.bitLength());if(o<0)throw new Error("Supplied uint is negative");return o.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(c=d(t),c%8||c<8||c>256)throw new Error("Invalid int<N> width: "+c);if(o=w(s),o.bitLength()>c)throw new Error("Supplied int exceeds width: "+c+" vs "+o.bitLength());return o.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(c=p(t),o=w(s),o<0)throw new Error("Supplied ufixed is negative");return b("uint256",o.mul(new m(2).pow(new m(c[1]))))}else if(t.startsWith("fixed"))return c=p(t),b("int256",w(s).mul(new m(2).pow(new m(c[1]))))}throw new Error("Unsupported or invalid type: "+t)}function g(t){return t==="string"||t==="bytes"||u(t)==="dynamic"}function v(t){return t.lastIndexOf("]")===t.length-1}function _(t,s){var c=[],o=[],e=32*t.length;for(var r in t){var a=l(t[r]),f=s[r],y=b(a,f);g(a)?(c.push(b("uint256",e)),o.push(y),e+=y.length):c.push(y)}return Buffer.concat(c.concat(o))}function n(t,s){if(t.length!==s.length)throw new Error("Number of types are not matching the values");for(var c,o,e=[],r=0;r<t.length;r++){var a=l(t[r]),f=s[r];if(a==="bytes")e.push(f);else if(a==="string")e.push(new Buffer(f,"utf8"));else if(a==="bool")e.push(new Buffer(f?"01":"00","hex"));else if(a==="address")e.push(h.setLength(f,20));else if(a.startsWith("bytes")){if(c=d(a),c<1||c>32)throw new Error("Invalid bytes<N> width: "+c);e.push(h.setLengthRight(f,c))}else if(a.startsWith("uint")){if(c=d(a),c%8||c<8||c>256)throw new Error("Invalid uint<N> width: "+c);if(o=w(f),o.bitLength()>c)throw new Error("Supplied uint exceeds width: "+c+" vs "+o.bitLength());e.push(o.toArrayLike(Buffer,"be",c/8))}else if(a.startsWith("int")){if(c=d(a),c%8||c<8||c>256)throw new Error("Invalid int<N> width: "+c);if(o=w(f),o.bitLength()>c)throw new Error("Supplied int exceeds width: "+c+" vs "+o.bitLength());e.push(o.toTwos(c).toArrayLike(Buffer,"be",c/8))}else throw new Error("Unsupported or invalid type: "+a)}return Buffer.concat(e)}function i(t,s){return h.keccak(n(t,s))}return Ye={rawEncode:_,solidityPack:n,soliditySHA3:i},Ye}var Je,ns;function an(){if(ns)return Je;ns=1;const h=ws(),m=on(),l={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},d={encodeData(u,w,b,g=!0){const v=["bytes32"],_=[this.hashType(u,b)];if(g){const n=(i,t,s)=>{if(b[t]!==void 0)return["bytes32",s==null?"0x0000000000000000000000000000000000000000000000000000000000000000":h.keccak(this.encodeData(t,s,b,g))];if(s===void 0)throw new Error(`missing value for field ${i} of type ${t}`);if(t==="bytes")return["bytes32",h.keccak(s)];if(t==="string")return typeof s=="string"&&(s=Buffer.from(s,"utf8")),["bytes32",h.keccak(s)];if(t.lastIndexOf("]")===t.length-1){const c=t.slice(0,t.lastIndexOf("[")),o=s.map(e=>n(i,c,e));return["bytes32",h.keccak(m.rawEncode(o.map(([e])=>e),o.map(([,e])=>e)))]}return[t,s]};for(const i of b[u]){const[t,s]=n(i.name,i.type,w[i.name]);v.push(t),_.push(s)}}else for(const n of b[u]){let i=w[n.name];if(i!==void 0)if(n.type==="bytes")v.push("bytes32"),i=h.keccak(i),_.push(i);else if(n.type==="string")v.push("bytes32"),typeof i=="string"&&(i=Buffer.from(i,"utf8")),i=h.keccak(i),_.push(i);else if(b[n.type]!==void 0)v.push("bytes32"),i=h.keccak(this.encodeData(n.type,i,b,g)),_.push(i);else{if(n.type.lastIndexOf("]")===n.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");v.push(n.type),_.push(i)}}return m.rawEncode(v,_)},encodeType(u,w){let b="",g=this.findTypeDependencies(u,w).filter(v=>v!==u);g=[u].concat(g.sort());for(const v of g){if(!w[v])throw new Error("No type definition specified: "+v);b+=v+"("+w[v].map(({name:n,type:i})=>i+" "+n).join(",")+")"}return b},findTypeDependencies(u,w,b=[]){if(u=u.match(/^\w*/)[0],b.includes(u)||w[u]===void 0)return b;b.push(u);for(const g of w[u])for(const v of this.findTypeDependencies(g.type,w,b))!b.includes(v)&&b.push(v);return b},hashStruct(u,w,b,g=!0){return h.keccak(this.encodeData(u,w,b,g))},hashType(u,w){return h.keccak(this.encodeType(u,w))},sanitizeData(u){const w={};for(const b in l.properties)u[b]&&(w[b]=u[b]);return w.types&&(w.types=Object.assign({EIP712Domain:[]},w.types)),w},hash(u,w=!0){const b=this.sanitizeData(u),g=[Buffer.from("1901","hex")];return g.push(this.hashStruct("EIP712Domain",b.domain,b.types,w)),b.primaryType!=="EIP712Domain"&&g.push(this.hashStruct(b.primaryType,b.message,b.types,w)),h.keccak(Buffer.concat(g))}};Je={TYPED_MESSAGE_SCHEMA:l,TypedDataUtils:d,hashForSignTypedDataLegacy:function(u){return p(u.data)},hashForSignTypedData_v3:function(u){return d.hash(u.data,!1)},hashForSignTypedData_v4:function(u){return d.hash(u.data)}};function p(u){const w=new Error("Expect argument to be non-empty array");if(typeof u!="object"||!u.length)throw w;const b=u.map(function(_){return _.type==="bytes"?h.toBuffer(_.value):_.value}),g=u.map(function(_){return _.type}),v=u.map(function(_){if(!_.name)throw w;return _.type+" "+_.name});return m.soliditySHA3(["bytes32","bytes32"],[m.soliditySHA3(new Array(u.length).fill("string"),v),m.soliditySHA3(g,b)])}return Je}var se={},rs;function cn(){if(rs)return se;rs=1,Object.defineProperty(se,"__esModule",{value:!0}),se.filterFromParam=se.FilterPolyfill=void 0;const h=Ve(),m=U(),l=300*1e3,d={jsonrpc:"2.0",id:0};let p=class{constructor(i){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,h.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=i}async newFilter(i){const t=u(i),s=this.makeFilterId(),c=await this.setInitialCursorPosition(s,t.fromBlock);return console.info(`Installing new log filter(${s}):`,t,"initial cursor position:",c),this.logFilters.set(s,t),this.setFilterTimeout(s),(0,m.hexStringFromIntNumber)(s)}async newBlockFilter(){const i=this.makeFilterId(),t=await this.setInitialCursorPosition(i,"latest");return console.info(`Installing new block filter (${i}) with initial cursor position:`,t),this.blockFilters.add(i),this.setFilterTimeout(i),(0,m.hexStringFromIntNumber)(i)}async newPendingTransactionFilter(){const i=this.makeFilterId(),t=await this.setInitialCursorPosition(i,"latest");return console.info(`Installing new block filter (${i}) with initial cursor position:`,t),this.pendingTransactionFilters.add(i),this.setFilterTimeout(i),(0,m.hexStringFromIntNumber)(i)}uninstallFilter(i){const t=(0,m.intNumberFromHexString)(i);return console.info(`Uninstalling filter (${t})`),this.deleteFilter(t),!0}getFilterChanges(i){const t=(0,m.intNumberFromHexString)(i);return this.timeouts.has(t)&&this.setFilterTimeout(t),this.logFilters.has(t)?this.getLogFilterChanges(t):this.blockFilters.has(t)?this.getBlockFilterChanges(t):this.pendingTransactionFilters.has(t)?this.getPendingTransactionFilterChanges(t):Promise.resolve(v())}async getFilterLogs(i){const t=(0,m.intNumberFromHexString)(i),s=this.logFilters.get(t);return s?this.sendAsyncPromise(Object.assign(Object.assign({},d),{method:"eth_getLogs",params:[w(s)]})):v()}makeFilterId(){return(0,h.IntNumber)(++this.nextFilterId)}sendAsyncPromise(i){return new Promise((t,s)=>{this.provider.sendAsync(i,(c,o)=>{if(c)return s(c);if(Array.isArray(o)||o==null)return s(new Error(`unexpected response received: ${JSON.stringify(o)}`));t(o)})})}deleteFilter(i){console.info(`Deleting filter (${i})`),this.logFilters.delete(i),this.blockFilters.delete(i),this.pendingTransactionFilters.delete(i),this.cursors.delete(i),this.timeouts.delete(i)}async getLogFilterChanges(i){const t=this.logFilters.get(i),s=this.cursors.get(i);if(!s||!t)return v();const c=await this.getCurrentBlockHeight(),o=t.toBlock==="latest"?c:t.toBlock;if(s>c||s>Number(t.toBlock))return _();console.info(`Fetching logs from ${s} to ${o} for filter ${i}`);const e=await this.sendAsyncPromise(Object.assign(Object.assign({},d),{method:"eth_getLogs",params:[w(Object.assign(Object.assign({},t),{fromBlock:s,toBlock:o}))]}));if(Array.isArray(e.result)){const r=e.result.map(f=>(0,m.intNumberFromHexString)(f.blockNumber||"0x0")),a=Math.max(...r);if(a&&a>s){const f=(0,h.IntNumber)(a+1);console.info(`Moving cursor position for filter (${i}) from ${s} to ${f}`),this.cursors.set(i,f)}}return e}async getBlockFilterChanges(i){const t=this.cursors.get(i);if(!t)return v();const s=await this.getCurrentBlockHeight();if(t>s)return _();console.info(`Fetching blocks from ${t} to ${s} for filter (${i})`);const c=(await Promise.all((0,m.range)(t,s+1).map(e=>this.getBlockHashByNumber((0,h.IntNumber)(e))))).filter(e=>!!e),o=(0,h.IntNumber)(t+c.length);return console.info(`Moving cursor position for filter (${i}) from ${t} to ${o}`),this.cursors.set(i,o),Object.assign(Object.assign({},d),{result:c})}async getPendingTransactionFilterChanges(i){return Promise.resolve(_())}async setInitialCursorPosition(i,t){const s=await this.getCurrentBlockHeight(),c=typeof t=="number"&&t>s?t:s;return this.cursors.set(i,c),c}setFilterTimeout(i){const t=this.timeouts.get(i);t&&window.clearTimeout(t);const s=window.setTimeout(()=>{console.info(`Filter (${i}) timed out`),this.deleteFilter(i)},l);this.timeouts.set(i,s)}async getCurrentBlockHeight(){const i=new Date;if(i.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=i;const t=await this._getCurrentBlockHeight();this.currentBlockHeight=t,this.resolvers.forEach(s=>s(t)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(t=>this.resolvers.push(t))}async _getCurrentBlockHeight(){const{result:i}=await this.sendAsyncPromise(Object.assign(Object.assign({},d),{method:"eth_blockNumber",params:[]}));return(0,m.intNumberFromHexString)((0,m.ensureHexString)(i))}async getBlockHashByNumber(i){const t=await this.sendAsyncPromise(Object.assign(Object.assign({},d),{method:"eth_getBlockByNumber",params:[(0,m.hexStringFromIntNumber)(i),!1]}));return t.result&&typeof t.result.hash=="string"?(0,m.ensureHexString)(t.result.hash):null}};se.FilterPolyfill=p;function u(n){return{fromBlock:b(n.fromBlock),toBlock:b(n.toBlock),addresses:n.address===void 0?null:Array.isArray(n.address)?n.address:[n.address],topics:n.topics||[]}}se.filterFromParam=u;function w(n){const i={fromBlock:g(n.fromBlock),toBlock:g(n.toBlock),topics:n.topics};return n.addresses!==null&&(i.address=n.addresses),i}function b(n){if(n===void 0||n==="latest"||n==="pending")return"latest";if(n==="earliest")return(0,h.IntNumber)(0);if((0,m.isHexString)(n))return(0,m.intNumberFromHexString)(n);throw new Error(`Invalid block option: ${String(n)}`)}function g(n){return n==="latest"?n:(0,m.hexStringFromIntNumber)(n)}function v(){return Object.assign(Object.assign({},d),{error:{code:-32e3,message:"filter not found"}})}function _(){return Object.assign(Object.assign({},d),{result:[]})}return se}var Ae={},is;function ln(){if(is)return Ae;is=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.SubscriptionManager=void 0;const h=Is(),m=Rs(),l=()=>{};let d=class{constructor(u){const w=new h.PollingBlockTracker({provider:u,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:b,middleware:g}=m({blockTracker:w,provider:u});this.events=b,this.subscriptionMiddleware=g}async handleRequest(u){const w={};return await this.subscriptionMiddleware(u,w,l,l),w}destroy(){this.subscriptionMiddleware.destroy()}};return Ae.SubscriptionManager=d,Ae}var os;function Xe(){if(os)return Z;os=1;var h=Z&&Z.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.CoinbaseWalletProvider=void 0;const m=h(We()),l=_s(),d=qe(),p=U(),u=ms(),w=rt(),b=it(),g=tt(),v=h(an()),_=nt(),n=cn(),i=ln(),t="DefaultChainId",s="DefaultJsonRpcUrl";let c=class extends l.EventEmitter{constructor(e){var r,a;super(),this._filterPolyfill=new n.FilterPolyfill(this),this._subscriptionManager=new i.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(a=e.overrideIsCoinbaseBrowser)!==null&&a!==void 0?a:!1,this.qrUrl=e.qrUrl;const f=this.getChainId(),y=(0,p.prepend0x)(f.toString(16));this.emit("connect",{chainIdStr:y});const k=this._storage.getItem(w.LOCAL_STORAGE_ADDRESSES_KEY);if(k){const C=k.split(" ");C[0]!==""&&(this._addresses=C.map(I=>(0,p.ensureAddressString)(I)),this.emit("accountsChanged",C))}this._subscriptionManager.events.on("notification",C=>{this.emit("message",{type:C.method,data:C.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",C=>{var I;if(!(C.origin!==location.origin||C.source!==window)&&C.data.type==="walletLinkMessage"&&C.data.data.action==="dappChainSwitched"){const x=C.data.data.chainId,M=(I=C.data.data.jsonRpcUrl)!==null&&I!==void 0?I:this.jsonRpcUrl;this.updateProviderInfo(M,Number(x))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,p.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(s))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(s,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const a=this.getChainId();this._storage.setItem(t,r.toString(10)),((0,p.ensureIntNumber)(r)!==a||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,a,f,y,k){const I=await(await this.initializeRelay()).watchAsset(e,r,a,f,y,k?.toString()).promise;return(0,g.isErrorResponse)(I)?!1:!!I.result}async addEthereumChain(e,r,a,f,y,k){var C,I;if((0,p.ensureIntNumber)(e)===this.getChainId())return!1;const x=await this.initializeRelay(),M=x.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!M&&await x.requestEthereumAccounts().promise;const T=await x.addEthereumChain(e.toString(),r,y,a,f,k).promise;return(0,g.isErrorResponse)(T)?!1:(((C=T.result)===null||C===void 0?void 0:C.isApproved)===!0&&this.updateProviderInfo(r[0],e),((I=T.result)===null||I===void 0?void 0:I.isApproved)===!0)}async switchEthereumChain(e){const a=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,g.isErrorResponse)(a)){if(!a.errorCode)return;throw a.errorCode===d.standardErrorCodes.provider.unsupportedChain?d.standardErrors.provider.unsupportedChain():d.standardErrors.provider.custom({message:a.errorMessage,code:a.errorCode})}const f=a.result;f.isApproved&&f.rpcUrl.length>0&&this.updateProviderInfo(f.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(a=>a.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(_.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?b.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const a=this._send(e,r);if(a instanceof Promise)return a.catch(f=>{throw(0,d.serializeError)(f,e)})}catch(a){throw(0,d.serializeError)(a,e)}}_send(e,r){if(typeof e=="string"){const f=e,y=Array.isArray(r)?r:r!==void 0?[r]:[],k={jsonrpc:"2.0",id:0,method:f,params:y};return this._sendRequestAsync(k).then(C=>C.result)}if(typeof r=="function"){const f=e,y=r;return this._sendAsync(f,y)}if(Array.isArray(e))return e.map(y=>this._sendRequest(y));const a=e;return this._sendRequest(a)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(a=>{throw(0,d.serializeError)(a,e)})}catch(a){return Promise.reject((0,d.serializeError)(a,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const f=r;this._sendMultipleRequestsAsync(e).then(y=>f(null,y)).catch(y=>f(y,null));return}const a=r;return this._sendRequestAsync(e).then(f=>a(null,f)).catch(f=>a(f,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,d.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,d.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw d.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:a}=e;if(typeof r!="string"||r.length===0)throw d.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(a!==void 0&&!Array.isArray(a)&&(typeof a!="object"||a===null))throw d.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const f=a===void 0?[]:a,y=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:f,jsonrpc:"2.0",id:y})).result}async scanQRCode(e){const a=await(await this.initializeRelay()).scanQRCode((0,p.ensureRegExpString)(e)).promise;if((0,g.isErrorResponse)(a))throw(0,d.serializeError)(a.errorMessage,"scanQRCode");if(typeof a.result!="string")throw(0,d.serializeError)("result was not a string","scanQRCode");return a.result}async genericRequest(e,r){const f=await(await this.initializeRelay()).genericRequest(e,r).promise;if((0,g.isErrorResponse)(f))throw(0,d.serializeError)(f.errorMessage,"generic");if(typeof f.result!="string")throw(0,d.serializeError)("result was not a string","generic");return f.result}async connectAndSignIn(e){var r;(r=this.diagnostic)===null||r===void 0||r.log(_.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?b.Session.hash(this._relay.session.id):void 0});let a;try{const y=await this.initializeRelay();if(!(y instanceof u.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");if(a=await y.connectAndSignIn(e).promise,(0,g.isErrorResponse)(a))throw new Error(a.errorMessage)}catch(y){throw typeof y.message=="string"&&y.message.match(/(denied|rejected)/i)?d.standardErrors.provider.userRejectedRequest("User denied account authorization"):y}if(!a.result)throw new Error("accounts received is empty");const{accounts:f}=a.result;return this._setAddresses(f),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),a.result}async selectProvider(e){const a=await(await this.initializeRelay()).selectProvider(e).promise;if((0,g.isErrorResponse)(a))throw(0,d.serializeError)(a.errorMessage,"selectProvider");if(typeof a.result!="string")throw(0,d.serializeError)("result was not a string","selectProvider");return a.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:a}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${a} synchronously without a callback. Please provide a callback parameter to call ${a} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const a=e.map(f=>(0,p.ensureAddressString)(f));JSON.stringify(a)!==JSON.stringify(this._addresses)&&(this._addresses=a,this.emit("accountsChanged",this._addresses),this._storage.setItem(w.LOCAL_STORAGE_ADDRESSES_KEY,a.join(" ")))}_sendRequestAsync(e){return new Promise((r,a)=>{try{const f=this._handleSynchronousMethods(e);if(f!==void 0)return r({jsonrpc:"2.0",id:e.id,result:f});const y=this._handleAsynchronousFilterMethods(e);if(y!==void 0){y.then(C=>r(Object.assign(Object.assign({},C),{id:e.id}))).catch(C=>a(C));return}const k=this._handleSubscriptionMethods(e);if(k!==void 0){k.then(C=>r({jsonrpc:"2.0",id:e.id,result:C.result})).catch(C=>a(C));return}}catch(f){return a(f)}this._handleAsynchronousMethods(e).then(f=>f&&r(Object.assign(Object.assign({},f),{id:e.id}))).catch(f=>a(f))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,a=e.params||[];switch(r){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(a);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,a=e.params||[];switch(r){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(a);case"eth_ecRecover":return this._eth_ecRecover(a);case"personal_sign":return this._personal_sign(a);case"personal_ecRecover":return this._personal_ecRecover(a);case"eth_signTransaction":return this._eth_signTransaction(a);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(a);case"eth_sendTransaction":return this._eth_sendTransaction(a);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(a);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(a);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(a);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(a);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(a);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(a);case"wallet_watchAsset":return this._wallet_watchAsset(a)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl).catch(y=>{var k;throw(y.code===d.standardErrorCodes.rpc.methodNotFound||y.code===d.standardErrorCodes.rpc.methodNotSupported)&&((k=this.diagnostic)===null||k===void 0||k.log(_.EVENTS.METHOD_NOT_IMPLEMENTED,{method:e.method,sessionIdHash:this._relay?b.Session.hash(this._relay.session.id):void 0})),y})}_handleAsynchronousFilterMethods(e){const{method:r}=e,a=e.params||[];switch(r){case"eth_newFilter":return this._eth_newFilter(a);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(a);case"eth_getFilterLogs":return this._eth_getFilterLogs(a)}}_handleSubscriptionMethods(e){switch(e.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,p.ensureAddressString)(e);return this._addresses.map(f=>(0,p.ensureAddressString)(f)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(_.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,p.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const a=e.to?(0,p.ensureAddressString)(e.to):null,f=e.value!=null?(0,p.ensureBN)(e.value):new m.default(0),y=e.data?(0,p.ensureBuffer)(e.data):Buffer.alloc(0),k=e.nonce!=null?(0,p.ensureIntNumber)(e.nonce):null,C=e.gasPrice!=null?(0,p.ensureBN)(e.gasPrice):null,I=e.maxFeePerGas!=null?(0,p.ensureBN)(e.maxFeePerGas):null,x=e.maxPriorityFeePerGas!=null?(0,p.ensureBN)(e.maxPriorityFeePerGas):null,M=e.gas!=null?(0,p.ensureBN)(e.gas):null,T=e.chainId?(0,p.ensureIntNumber)(e.chainId):this.getChainId();return{fromAddress:r,toAddress:a,weiValue:f,data:y,nonce:k,gasPriceInWei:C,maxFeePerGas:I,maxPriorityFeePerGas:x,gasLimit:M,chainId:T}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw d.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw d.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,a,f){this._ensureKnownAddress(r);try{const k=await(await this.initializeRelay()).signEthereumMessage(e,r,a,f).promise;if((0,g.isErrorResponse)(k))throw new Error(k.errorMessage);return{jsonrpc:"2.0",id:0,result:k.result}}catch(y){throw typeof y.message=="string"&&y.message.match(/(denied|rejected)/i)?d.standardErrors.provider.userRejectedRequest("User denied message signature"):y}}async _ethereumAddressFromSignedMessage(e,r,a){const y=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,a).promise;if((0,g.isErrorResponse)(y))throw new Error(y.errorMessage);return{jsonrpc:"2.0",id:0,result:y.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,p.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(t);if(!e)return(0,p.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,p.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(_.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?b.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{if(r=await(await this.initializeRelay()).requestEthereumAccounts().promise,(0,g.isErrorResponse)(r))throw new Error(r.errorMessage)}catch(a){throw typeof a.message=="string"&&a.message.match(/(denied|rejected)/i)?d.standardErrors.provider.userRejectedRequest("User denied account authorization"):a}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,p.ensureAddressString)(e[0]),a=(0,p.ensureBuffer)(e[1]);return this._signEthereumMessage(a,r,!1)}_eth_ecRecover(e){const r=(0,p.ensureBuffer)(e[0]),a=(0,p.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,a,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,p.ensureBuffer)(e[0]),a=(0,p.ensureAddressString)(e[1]);return this._signEthereumMessage(r,a,!0)}_personal_ecRecover(e){const r=(0,p.ensureBuffer)(e[0]),a=(0,p.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,a,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const f=await(await this.initializeRelay()).signEthereumTransaction(r).promise;if((0,g.isErrorResponse)(f))throw new Error(f.errorMessage);return{jsonrpc:"2.0",id:0,result:f.result}}catch(a){throw typeof a.message=="string"&&a.message.match(/(denied|rejected)/i)?d.standardErrors.provider.userRejectedRequest("User denied transaction signature"):a}}async _eth_sendRawTransaction(e){const r=(0,p.ensureBuffer)(e[0]),f=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;if((0,g.isErrorResponse)(f))throw new Error(f.errorMessage);return{jsonrpc:"2.0",id:0,result:f.result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const f=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;if((0,g.isErrorResponse)(f))throw new Error(f.errorMessage);return{jsonrpc:"2.0",id:0,result:f.result}}catch(a){throw typeof a.message=="string"&&a.message.match(/(denied|rejected)/i)?d.standardErrors.provider.userRejectedRequest("User denied transaction signature"):a}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,p.ensureParsedJSONObject)(e[0]),a=(0,p.ensureAddressString)(e[1]);this._ensureKnownAddress(a);const f=v.default.hashForSignTypedDataLegacy({data:r}),y=JSON.stringify(r,null,2);return this._signEthereumMessage(f,a,!1,y)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,p.ensureAddressString)(e[0]),a=(0,p.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const f=v.default.hashForSignTypedData_v3({data:a}),y=JSON.stringify(a,null,2);return this._signEthereumMessage(f,r,!1,y)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,p.ensureAddressString)(e[0]),a=(0,p.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const f=v.default.hashForSignTypedData_v4({data:a}),y=JSON.stringify(a,null,2);return this._signEthereumMessage(f,r,!1,y)}async _cbwallet_arbitrary(e){const r=e[0],a=e[1];if(typeof a!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,a)}}async _wallet_addEthereumChain(e){var r,a,f,y;const k=e[0];if(((r=k.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!k.chainName||k.chainName.trim()==="")throw d.standardErrors.rpc.invalidParams("chainName is a required field");if(!k.nativeCurrency)throw d.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const C=parseInt(k.chainId,16);return await this.addEthereumChain(C,(a=k.rpcUrls)!==null&&a!==void 0?a:[],(f=k.blockExplorerUrls)!==null&&f!==void 0?f:[],k.chainName,(y=k.iconUrls)!==null&&y!==void 0?y:[],k.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw d.standardErrors.rpc.invalidParams("Type is required");if(r?.type!=="ERC20")throw d.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!r?.options)throw d.standardErrors.rpc.invalidParams("Options are required");if(!r?.options.address)throw d.standardErrors.rpc.invalidParams("Address is required");const a=this.getChainId(),{address:f,symbol:y,image:k,decimals:C}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,f,y,C,k,a)}}_eth_uninstallFilter(e){const r=(0,p.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,p.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,p.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,a)=>this._setAddresses(r,a)),e.setChainCallback((r,a)=>{this.updateProviderInfo(a,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}};return Z.CoinbaseWalletProvider=c,Z}var xe={},as;function dn(){if(as)return xe;as=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.RelayEventManager=void 0;const h=U();let m=class{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const d=this._nextRequestId,p=(0,h.prepend0x)(d.toString(16));return this.callbacks.get(p)&&this.callbacks.delete(p),d}};return xe.RelayEventManager=m,xe}var cs;function ls(){if(cs)return re;cs=1,Object.defineProperty(re,"__esModule",{value:!0}),re.CoinbaseWalletSDK=void 0;const h=Ms(),m=As(),l=U(),d=Ns(),p=Xe(),u=ms(),w=bs(),b=dn(),g=gs(),v=ps(),_=st();let n=class vs{constructor(t){var s,c,o;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const e=t.linkAPIUrl||m.LINK_API_URL;typeof t.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=t.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(s=t.overrideIsCoinbaseWallet)!==null&&s!==void 0?s:!0,this._overrideIsCoinbaseBrowser=(c=t.overrideIsCoinbaseBrowser)!==null&&c!==void 0?c:!1,this._diagnosticLogger=t.diagnosticLogger,this._reloadOnDisconnect=(o=t.reloadOnDisconnect)!==null&&o!==void 0?o:!0;const r=new URL(e),a=`${r.protocol}//${r.host}`;if(this._storage=new d.ScopedLocalStorage(`-walletlink:${a}`),this._storage.setItem("version",vs.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new b.RelayEventManager;const f=(0,l.isMobileWeb)(),y=t.uiConstructor||(C=>f?new w.MobileRelayUI(C):new g.WalletLinkRelayUI(C)),k={linkAPIUrl:e,version:_.LIB_VERSION,darkMode:!!t.darkMode,headlessMode:!!t.headlessMode,uiConstructor:y,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:t.enableMobileWalletLink};this._relay=f?new u.MobileRelay(k):new v.WalletLinkRelay(k),this.setAppInfo(t.appName,t.appLogoUrl),!t.headlessMode&&this._relay.attachUI()}makeWeb3Provider(t="",s=1){const c=this.walletExtension;if(c)return this.isCipherProvider(c)||c.setProviderInfo(t,s),this._reloadOnDisconnect===!1&&typeof c.disableReloadOnDisconnect=="function"&&c.disableReloadOnDisconnect(),c;const o=this.coinbaseBrowser;if(o)return o;const e=this._relay;if(!e||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return t||e.setConnectDisabled(!0),new p.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(e),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:t,chainId:s,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(t,s){var c;this._appName=t||"DApp",this._appLogoUrl=s||(0,l.getFavicon)();const o=this.walletExtension;o?this.isCipherProvider(o)||o.setAppInfo(this._appName,this._appLogoUrl):(c=this._relay)===null||c===void 0||c.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var t;const s=this===null||this===void 0?void 0:this.walletExtension;s?s.close():(t=this._relay)===null||t===void 0||t.resetAndReload()}getQrUrl(){var t,s;return(s=(t=this._relay)===null||t===void 0?void 0:t.getQRCodeUrl())!==null&&s!==void 0?s:null}getCoinbaseWalletLogo(t,s=240){return(0,h.walletLogo)(t,s)}get walletExtension(){var t;return(t=window.coinbaseWalletExtension)!==null&&t!==void 0?t:window.walletLinkExtension}get coinbaseBrowser(){var t,s;try{const c=(t=window.ethereum)!==null&&t!==void 0?t:(s=window.top)===null||s===void 0?void 0:s.ethereum;return c&&"isCoinbaseBrowser"in c&&c.isCoinbaseBrowser?c:void 0}catch{return}}isCipherProvider(t){return typeof t.isCipher=="boolean"&&t.isCipher}};return re.CoinbaseWalletSDK=n,n.VERSION=_.LIB_VERSION,re}var ds;function un(){return ds||(ds=1,(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.CoinbaseWalletProvider=h.CoinbaseWalletSDK=void 0;const m=ls(),l=Xe();var d=ls();Object.defineProperty(h,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return d.CoinbaseWalletSDK}});var p=Xe();Object.defineProperty(h,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return p.CoinbaseWalletProvider}}),h.default=m.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=m.CoinbaseWalletSDK,window.CoinbaseWalletProvider=l.CoinbaseWalletProvider,window.WalletLink=m.CoinbaseWalletSDK,window.WalletLinkProvider=l.CoinbaseWalletProvider)})($e)),$e}var hn=un();const fn=ks(hn),Nn=Object.freeze(Object.defineProperty({__proto__:null,default:fn},Symbol.toStringTag,{value:"Module"}));export{Nn as i};
